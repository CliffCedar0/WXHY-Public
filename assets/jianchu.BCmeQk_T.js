import{i as n}from"./shichen.C6pgosp-.js";const t=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],r={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},i={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"午",night:"寅"}};const e=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],u=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function c(r,c,o){const a=n(c),f=function(n,t){const r=i[n];return r?t?r.day:r.night:"丑"}(r,a),s=function(n,t){for(let r in t)if(t[r]===n)return r;return n}(f,o),g=["亥","子","丑","寅","卯","辰"].includes(s),h=function(n,r){const i={},c=t.indexOf(n),o=r?e:u;for(let e=0;e<12;e++)i[t[(c+e)%12]]=o[e];return i}(s,g);return{layout:h,isDay:a,dayNight:a?"昼":"夜",guirenPosition:s,guirenBenwei:f,isShunbu:g}}function o(n){return r[n]||n}const a=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],f={};a.forEach(((n,t)=>f[n]=t));const s={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach(((n,t)=>s[n]=t));const g={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function h(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function l(n,t,r){const i=function(n,t){return g[n+t]||"甲子"}(t,r),e=i.charAt(0),u=i.charAt(1),c=f[e],o=s[u],h=(s[n]-o+12)%12,l=h>=10;return{gan:a[(c+h)%10],isXunkong:l}}function d(n,t,r,i){if(!i)return{gan:"",isXunkong:!1};const e=function(n,t){return g[n+t]||"甲子"}(t,r),u=e.charAt(1);let c=null;for(let a in i)if(i[a]===u){c=a;break}if(!c)return{gan:"",isXunkong:!1};const o=s[c],f=(s[n]-o+12)%12,h=f>=10;return{gan:a[f%10],isXunkong:h}}function y(n,t,r){if(!t||!r)return"";const i=h(t),e=f[i];let u=null;for(let a in r)if("子"===r[a]){u=a;break}if(!u)return"";const c=s[u],o=s[n];return a[(e+(o-c+12)%12)%10]}function k(n,t,r){if(!n||!t||!r)return"";return l(n,t,r).gan}function b(n,t){const{dayStem:r,dayBranch:i,timeStem:e,timeBranch:u,tianpan:c,guirenPosition:o}=t,g=l(c?c[n]:n,r,i),b=d(n,e,u,c),m=k(n,r,i),x=y(n,r,c),j=function(n,t,r){if(!t||!r)return"";const i=h(t),e=f[i];let u=null;for(let a in r)if("子"===r[a]){u=a;break}if(!u)return"";const c=s[u],o=s[n];return a[(e+(o-c+12)%12)%10]}(n,e,c),p=function(n,t,r,i){if(!t||!i||!r)return"";if(!i[t])return"";const e=t;let u=null;for(let a in i)if(i[a]===e){u=a;break}if(!u)return"";const c=y(u,r,i);if(!c)return"";const o=h(c),g=f[o];let l=null;for(let a in i)if("子"===i[a]){l=a;break}if(!l)return"";const d=i[n];if(!d)return"";const k=(s[d]-s["子"]+12)%12;return a[(g+k)%10]}(n,o,r,c);return{xundun:g,tiandun:b,didun:m,jiangan:x,fujian:j,rendun:p}}const m=["建","除","满","平","定","执","破","危","成","收","开","闭"],x=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],j={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},p={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},w={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function B(n,t,r){if(!n||!t||!r)return"";let i=null;for(let a in r)if(r[a]===n){i=a;break}if(!i)return"";const e=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],u=e.indexOf(i);if(-1===u)return"";const c=[...e.slice(u),...e.slice(0,u)],o={};return c.forEach(((n,t)=>{o[n]=m[t]})),o[t]||""}function O(n,t){if(!n||!t)return"";const r=w[n],i=w[t];if(!r||!i)return"";const e={"木":"火","火":"土","土":"金","金":"水","水":"木"},u={"木":"土","火":"金","土":"水","金":"木","水":"火"};return r===i?"旺":e[r]===i?"相":e[i]===r?"休":u[i]===r?"囚":u[r]===i?"死":""}function S(n,t){if(!n||!t)return"";const r=j[n];if(!r)return"";const i=r.indexOf(t);return-1===i?"":x[i]}function X(n,t){if(!n||!t)return"";const r=p[n];if(!r)return"";const i=r.indexOf(t);return-1===i?"":x[i]}function A(n,t){const{monthBranch:r,dayStem:i,tianpan:e}=t,u=e[n];return{jianchu:B(r,n,e),wangshuai:O(r,u),shiganChangsheng:S(i,u),wuxingChangsheng:X(i,u)}}export{b as a,A as b,o as c,k as d,B as e,l as f,c as g};
