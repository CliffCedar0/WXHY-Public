import{s as e,v as a,c as t,w as s,i as n,o as l,a as i,g as u,h as o,F as r,b as c,t as d,k as g,j as h,l as f,e as m,S as y}from"./index-6ha-q1NO.js";import{a as _,d as b,e as x}from"./sizhu.BasLQ5LL.js";import{l as p}from"./index.BHYqNsFk.js";import{a as z,c as k,k as w,l as C}from"./xingnian.Dxsv8OuA.js";import{g as G}from"./shensha.C_RDoG-9.js";import{a as S}from"./colors.BPX4Yg80.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";const B={"冬至":[1,7,4],"小寒":[2,8,5],"大寒":[3,9,6],"立春":[8,5,2],"雨水":[9,6,3],"惊蛰":[1,7,4],"春分":[3,9,6],"清明":[4,1,7],"谷雨":[5,2,8],"立夏":[4,1,7],"小满":[5,2,8],"芒种":[6,3,9],"夏至":[9,3,6],"小暑":[8,2,5],"大暑":[7,1,4],"立秋":[2,5,8],"处暑":[1,4,7],"白露":[9,3,6],"秋分":[7,1,4],"寒露":[6,3,9],"霜降":[5,2,8],"立冬":[6,3,9],"小雪":[5,2,8],"大雪":[4,1,7]},D=["冬至","小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种"],W=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],X=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],R=["","天蓬","天芮","天冲","天辅","天禽","天心","天柱","天任","天英"],j=["","休门","死门","伤门","杜门","中门","开门","惊门","生门","景门"],A={"甲子":"海中金","乙丑":"海中金","丙寅":"炉中火","丁卯":"炉中火","戊辰":"大林木","己巳":"大林木","庚午":"路旁土","辛未":"路旁土","壬申":"剑锋金","癸酉":"剑锋金","甲戌":"山头火","乙亥":"山头火","丙子":"涧下水","丁丑":"涧下水","戊寅":"城头土","己卯":"城头土","庚辰":"白蜡金","辛巳":"白蜡金","壬午":"杨柳木","癸未":"杨柳木","甲申":"泉中水","乙酉":"泉中水","丙戌":"屋上土","丁亥":"屋上土","戊子":"霹雳火","己丑":"霹雳火","庚寅":"松柏木","辛卯":"松柏木","壬辰":"长流水","癸巳":"长流水","甲午":"沙中金","乙未":"沙中金","丙申":"山下火","丁酉":"山下火","戊戌":"平地木","己亥":"平地木","庚子":"壁上土","辛丑":"壁上土","壬寅":"金箔金","癸卯":"金箔金","甲辰":"佛灯火","乙巳":"佛灯火","丙午":"天河水","丁未":"天河水","戊申":"大驿土","己酉":"大驿土","庚戌":"钗钏金","辛亥":"钗钏金","壬子":"桑柘木","癸丑":"桑柘木","甲寅":"大溪水","乙卯":"大溪水","丙辰":"沙中土","丁巳":"沙中土","戊午":"天上火","己未":"天上火","庚申":"石榴木","辛酉":"石榴木","壬戌":"大海水","癸亥":"大海水"},T=e=>A[e]||"";function Z(e,a,t={}){const s=new Date(`${e}T${a}:00`),n=p.Solar.fromDate(s);let l={};if(t&&t.bazi)l=t.bazi;else{const e=_(s,t.huoshiShichen);if(!e)return{error:"Bazi calculation failed"};l={year:e.year,month:e.month,day:e.day,hour:e.hour}}const i=l.hour.charAt(0),u=l.hour.charAt(1);let o="",r=0,c=!1;if(t&&t.jieqi&&t.bazi){o=t.jieqi,c=D.includes(o);const e=t.bazi.day,a=e.charAt(0),s=e.charAt(1),n=W.indexOf(a),l=X.indexOf(s),i=X[(l-n%5+12)%12];r=["子","午","卯","酉"].includes(i)?0:["寅","申","巳","亥"].includes(i)?1:2}else{let e=n.getLunar().getPrevJieQi(!0);if(!e)return{error:"Date out of range"};o=e.getName();const a=e.getSolar(),t=(s.getTime()-new Date(a.toYmdHms()).getTime())/36e5,l=Math.floor(t/120);r=l>=2?2:l,c=D.includes(o)}let d=0;if(t&&t.ju)c=t.ju.isYang,d=t.ju.juNum,o||(o="手工");else{const e=B[o];if(!e)return{error:"Unknown JieQi: "+o};d=e[r]}const g=["戊","己","庚","辛","壬","癸","丁","丙","乙"],h=new Array(10).fill("");for(let _=0;_<9;_++){let e=0;if(c)e=(d+_-1)%9+1;else{let a=d-_;for(;a<=0;)a+=9;for(;a>9;)a-=9;e=a}h[e]=g[_]}const f=W.indexOf(i),m=(X.indexOf(u)-f+12)%12,y={0:"戊",10:"己",8:"庚",6:"辛",4:"壬",2:"癸"}[m];let b=0;for(let _=1;_<=9;_++)if(h[_]===y){b=_;break}const x=R[b],z=j[b];let k=i;"甲"===k&&(k="戊");let w=0;for(let _=1;_<=9;_++)if(h[_]===k){w=_;break}const C=new Array(10).fill(""),G=w-b;for(let _=1;_<=9;_++){let e=_+G;for(;e<=0;)e+=9;for(;e>9;)e-=9;C[e]=R[_]}let S=0;if(c)for(S=b+f;S>9;)S-=9;else for(S=b-f;S<=0;)S+=9;const I=new Array(10).fill(""),A=S-b;for(let _=1;_<=9;_++){let e=_+A;for(;e<=0;)e+=9;for(;e>9;)e-=9;I[e]=j[_]}const Z=new Array(10).fill(""),v=c?["值符","螣蛇","太阴","六合","勾陈","太常","朱雀","九地","九天"]:["值符","螣蛇","太阴","六合","白虎","太常","玄武","九地","九天"];for(let _=0;_<9;_++){let e=0;if(c)for(e=w+_;e>9;)e-=9;else for(e=w-_;e<=0;)e+=9;Z[e]=v[_]}const N=new Array(10).fill("");for(let _=0;_<9;_++){let e=0;if(c)for(e=b+_;e>9;)e-=9;else for(e=b-_;e<=0;)e+=9;N[e]=v[_]}const M={};let Y=(X.indexOf(u)-W.indexOf(i)+12)%12;for(let _=0;_<10;_++){if(0===_)continue;let e=W[_],a=e+X[(Y+_)%12];"甲"===e&&(a=y);let t=0;if(c)for(t=b+_;t>9;)t-=9;else for(t=b-_;t<=0;)t+=9;M[t]?M[t]+="/"+a:M[t]=a}const L={};for(let _=0;_<10;_++){const e=W[_],a=X[(Y+_)%12];"甲"===e?L[y]=y+a:L[e]=e+a}const O=new Array(10).fill(""),H=new Array(10).fill(""),$=function(e,a,t,s){const n=new Array(10).fill(""),l=["戊","己","庚","辛","壬","癸","丁","丙","乙"];let i=l.indexOf(s);-1===i&&(i=0);for(let u=0;u<9;u++){const e=l[(i+u)%9];n[(t+u-1)%9+1]=e}return n}(0,0,w,y);for(let _=1;_<=9;_++){const e=h[_],a=$[_];O[_]=L[e]||e,H[_]=L[a]||a}const F=X[(m+10)%12],E=X[(m+11)%12],K=y,P=e=>"子".includes(e)?1:"丑寅".includes(e)?8:"卯".includes(e)?3:"辰巳".includes(e)?4:"午".includes(e)?9:"未申".includes(e)?2:"酉".includes(e)?7:"戌亥".includes(e)?6:0,Q=P({"巳":"亥","酉":"亥","丑":"亥","寅":"申","午":"申","戌":"申","申":"寅","子":"寅","辰":"寅","亥":"巳","卯":"巳","未":"巳"}[u]),V=P({"子":"卯","戌":"丑","申":"亥","午":"酉","辰":"未","寅":"巳"}[X[Y]]),q=P({"寅":"午","申":"午","卯":"申","酉":"申","辰":"戌","戌":"戌","巳":"子","亥":"子","午":"寅","子":"寅","未":"辰","丑":"辰"}[l.month.charAt(1)]),U={},J=(e=>{const a=[],t=W.indexOf(e.charAt(0)),s=X.indexOf(e.charAt(1));for(let n=0;n<10;n++){const e=W[(t+n)%10],l=X[(s+n)%12];a.push(e+l)}return a})("甲"+X[Y]);for(let _=0;_<10;_++){const e=J[_];if(0===_)continue;let a=0;if(c)a=(w+_-1)%9+1;else{let e=w-_;for(;e<=0;)e+=9;a=e}U[a]=e}const ee=e=>{if(!e||e.length<2)return"";const a=e.charAt(0),t=e.charAt(1),s=W.indexOf(a),n=X.indexOf(t);if(-1===s||-1===n)return"";const l=(n-s+12)%12;return X[(l+10)%12]+X[(l+11)%12]},ae={year:{gz:l.year,xk:ee(l.year),ny:T(l.year)},month:{gz:l.month,xk:ee(l.month),ny:T(l.month)},day:{gz:l.day,xk:ee(l.day),ny:T(l.day)},hour:{gz:l.hour,xk:ee(l.hour),ny:T(l.hour)}},te={"甲":{e:0,p:0},"乙":{e:0,p:1},"丙":{e:1,p:0},"丁":{e:1,p:1},"戊":{e:2,p:0},"己":{e:2,p:1},"庚":{e:3,p:0},"辛":{e:3,p:1},"壬":{e:4,p:0},"癸":{e:4,p:1}},se=[["比","劫"],["食","伤"],["才","财"],["杀","官"],["枭","印"]],ne=(e,a)=>{if(!e||!a)return"";const t=te[e],s=te[a];if(!t||!s)return"";const n=(s.e-t.e+5)%5,l=Math.abs(t.p-s.p);return se[n][l]},le=["长","沐","冠","临","帝","衰","病","死","墓","绝","胎","养"],ie={"子":0,"丑":1,"寅":2,"卯":3,"辰":4,"巳":5,"午":6,"未":7,"申":8,"酉":9,"戌":10,"亥":11},ue={"甲":{start:11,dir:1},"乙":{start:6,dir:-1},"丙":{start:2,dir:1},"戊":{start:2,dir:1},"丁":{start:9,dir:-1},"己":{start:9,dir:-1},"庚":{start:5,dir:1},"辛":{start:0,dir:-1},"壬":{start:8,dir:1},"癸":{start:3,dir:-1}},oe={1:["子"],8:["寅","丑"],3:["卯"],4:["巳","辰"],9:["午"],2:["申","未"],7:["酉"],6:["亥","戌"]},re=(e,a)=>{if(!e||!a||!ue[e])return"";const{start:t,dir:s}=ue[e],n=ie[a];let l=0;return l=1===s?(n-t+12)%12:(t-n+12)%12,le[l]},ce=new Array(10).fill(""),de=new Array(10).fill(""),ge=new Array(10).fill(""),he=new Array(10).fill("");for(let _=1;_<=9;_++){const e=oe[_]||[],a=H[_],t=a?a.charAt(0):"";ce[_]=ne(i,t);let s="";e.forEach((e=>{s+=re(t,e)})),ge[_]=s;const n=O[_],l=n?n.charAt(0):"";de[_]=ne(i,l);let u="";e.forEach((e=>{u+=re(l,e)})),he[_]=u}const fe={"立冬":6,"小雪":6,"大雪":6,"冬至":1,"小寒":1,"大寒":1,"立春":8,"雨水":8,"惊蛰":8,"春分":3,"清明":3,"谷雨":3,"立夏":4,"小满":4,"芒种":4,"夏至":9,"小暑":9,"大暑":9,"立秋":2,"处暑":2,"白露":2,"秋分":7,"寒露":7,"霜降":7}[o]||1,me=[6,1,8,3,4,9,2,7],ye=["旺","相","胎","没","死","囚","废","休"],_e=me.indexOf(fe),be=new Array(10).fill("");for(let _=0;_<8;_++){const e=me[(_e+_)%8],a=ye[_];be[e]=a}be[5]=be[2];const xe=e=>[0,1,2,3,3,2,4,4,2,5][e]||0,pe=(e,a)=>{if(!e||!a)return"";if(e===a)return"旺";const t=(e,a)=>1===e&&3===a||3===e&&5===a||5===e&&2===a||2===e&&4===a||4===e&&1===a;if(t(a,e))return"相";if(t(e,a))return"休";const s=(e,a)=>1===e&&5===a||5===e&&4===a||4===e&&3===a||3===e&&2===a||2===e&&1===a;return s(e,a)?"囚":s(a,e)?"死":""},ze=new Array(10).fill(null),ke=new Array(10).fill(null),we=l.month.charAt(1),Ce=X.indexOf(we);let Ge=0;Ge=[11,0].includes(Ce)?1:[2,3].includes(Ce)?3:[5,6].includes(Ce)?5:[8,9].includes(Ce)?4:2;const Se={"甲":3,"乙":3,"丙":5,"丁":5,"戊":2,"己":2,"庚":4,"辛":4,"壬":1,"癸":1},Ie=new Array(10).fill("");for(let _=1;_<=9;_++){const e=C[_],a=R.indexOf(e);if(a>0){const e=be[a],t=pe(xe(a),Ge);ze[_]={top:e,bot:t}}const t=I[_],s=j.indexOf(t);if(s>0){const e=be[s],a=pe(xe(s),xe(_));ke[_]={top:e,bot:a}}const n=H[_];if(n){const e=Se[n.charAt(0)];e&&(Ie[_]=pe(e,Ge))}}const Be=["太岁","太阳","丧门","太阴","五鬼","小耗","大耗","龙德","白虎","福德","吊客","病符"],De=["五符","天曹","地符","风伯","雷公","雨师","风云","唐符","国印","天关","地轴","天贼"],We={},Xe=X.indexOf(l.year.charAt(1)),Re={0:2,1:3,2:5,3:6,4:5,5:6,6:8,7:9,8:11,9:0}[W.indexOf(l.day.charAt(0))];X.forEach((e=>{We[e]={suiSha:"",wuFu:""}}));for(let _=0;_<12;_++){We[X[(Xe+_)%12]].suiSha=Be[_];We[X[(Re+_)%12]].wuFu=De[_]}const je=["禄","暗","福","耗","荫","贵","刑","印","囚","权"],Ae=l.day.charAt(0),Te=W.indexOf(Ae),Ze={};if(-1!==Te)for(let _=0;_<10;_++){const e=(_-Te+10)%10;Ze[W[_]]=je[e]}return{jieQi:o,yuan:["上元","中元","下元"][r],juName:(c?"阳遁":"阴遁")+["一","二","三","四","五","六","七","八","九"][d-1]+"局",bazi:l,zhiFu:x,zhiShi:z,xunShou:"甲"+X[Y]+y,xunKong:{branches:[F,E],stem:K},horses:{yiMa:Q,dingMa:V,tianMa:q},layout:{baziInfo:ae,youDun:U,earth:h,earthGanZhi:O,stars:C,doors:I,skyGods:Z,earthGods:N,hidden:M,skyTenGods:ce,earthTenGods:de,skyChangSheng:ge,earthChangSheng:he,wangShuai:be,skyWangShuai:Ie,starWangShuai:ze,doorWangShuai:ke,outer:We,huaYao:Ze},skyStem:$,skyGanZhi:H}}const v=I({data:()=>({showModal:!1,modalTitle:"",modalList:[],modalSkyInfo:null,modalEarthInfo:null,modalSkyInfo:null,modalEarthInfo:null,modalHiddenInfo:null,modalGeju:[],options:{},result:{jieQi:"",yuan:"",juName:"",bazi:{year:"",month:"",day:"",hour:""},zhiFu:"",zhiShi:"",xunShou:"",layout:{earth:[],earthGanZhi:[],stars:[],doors:[],skyGods:[],earthGods:[],hidden:{},skyGods:[],earthGods:[],hidden:{},outer:{}},skyStem:[],skyGanZhi:[]},shenShaList:{tianpan:[],dipan:[],hidden:[],hiddenGZ:""},liuRen:{tianpan:{},guiren:{},jianchu:{},xundun:{}},gridLayout:[[4,9,2],[3,5,7],[8,1,6]],xingnianBenming:null,xingnianBenming2:null,customDateTime:null,useCustomTime:!1,timer:null}),onLoad(a){this.options=a,(a.datetime||"custom"===a.mode||"sizhu"===a.mode||"manual"===a.mode)&&(this.useCustomTime=!0,a.datetime&&(this.customDateTime=decodeURIComponent(a.datetime)));try{this.calc(),this.useCustomTime||(this.timer=setInterval((()=>{this.calc()}),1e3))}catch(t){console.error("onLoad Error:",t),e({title:"加载出错",icon:"none"})}},onUnload(){this.timer&&clearInterval(this.timer)},methods:{getColorByChar(e){if(!e)return"#333";const a=e.length>1?e.charAt(1):e;return S(a)},handleCellClick(e){const a=this.result.skyGanZhi[e],t=this.result.layout.earthGanZhi[e],s=this.getGan(t);this.modalSkyInfo={gz:a,nayin:this.getNaYin(a)},this.modalEarthInfo={gz:t,nayin:this.getNaYin(t)};const n=(this.result.layout.hidden[e]||"").split("/")[0]||"";this.modalHiddenInfo={gz:n,nayin:this.getNaYin(n)};const l={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]}[s],i=this.getGan(a),u=n?n.substring(0,1):"";this.modalGeju=this.getGeju(i,s,u),l&&l.length>0?(this.modalTitle="地盘"+s+"遁干",this.modalList=l,this.showModal=!0):(a||t)&&(this.modalTitle="地盘"+(s||"")+"信息",this.modalList=[],this.showModal=!0);const o=this.result.layout.baziInfo;if(o){const e={yearGan:o.year.gz[0],yearZhi:o.year.gz[1],monthGan:o.month.gz[0],monthZhi:o.month.gz[1],dayGan:o.day.gz[0],dayZhi:o.day.gz[1],hourGan:o.hour.gz[0],hourZhi:o.hour.gz[1]},s=a?a.substring(1):"",l=t?t.substring(1):"",i=n?n.substring(1):"",u=a?a.substring(0,1):"",r=t?t.substring(0,1):"",c=n?n.substring(0,1):"";this.shenShaList={tianpan:G(s,e,u),dipan:G(l,e,r),hidden:G(i,e,c),hiddenGZ:n}}else this.shenShaList={tianpan:[],dipan:[]}},closeModal(){this.showModal=!1},goBack(){a()},goPrevious(){let e;this.timer&&clearInterval(this.timer),this.timer=null,e=this.useCustomTime&&this.customDateTime?new Date(this.customDateTime):this.options.date&&this.options.time?new Date(`${this.options.date}T${this.options.time}:00`):new Date,e.setHours(e.getHours()-2),this.customDateTime=e.toISOString(),this.useCustomTime=!0,this.options.mode="custom",this.options.date=this.formatDate(e),this.options.time=this.formatTime(e),this.calc()},goCurrentTime(){this.customDateTime=null,this.useCustomTime=!1,this.options.mode="current",this.options.date=null,this.options.time=null,this.calc(),this.timer&&clearInterval(this.timer),this.timer=setInterval((()=>{this.calc()}),1e3)},goNext(){let e;this.timer&&clearInterval(this.timer),this.timer=null,e=this.useCustomTime&&this.customDateTime?new Date(this.customDateTime):this.options.date&&this.options.time?new Date(`${this.options.date}T${this.options.time}:00`):new Date,e.setHours(e.getHours()+2),this.customDateTime=e.toISOString(),this.useCustomTime=!0,this.options.mode="custom",this.options.date=this.formatDate(e),this.options.time=this.formatTime(e),this.calc()},calc(){try{let t,s,n={};if("current"!==this.options.mode&&"current-time"!==this.options.mode&&this.options.mode){if("custom"===this.options.mode||"huoshi"===this.options.mode||"time"===this.options.mode){if(t=this.options.date,s=this.options.time,!t||!s){const e=new Date;t=this.formatDate(e),s=this.formatTime(e)}}else if("sizhu"===this.options.mode){if(t="2000-01-01",s="12:00",this.options.bazi){const e=decodeURIComponent(this.options.bazi).split(","),a=decodeURIComponent(this.options.jieqi);n.bazi={year:e[0],month:e[1],day:e[2],hour:e[3]},n.jieqi=a}}else if("manual"===this.options.mode){const e=new Date;t=this.formatDate(e),s=this.formatTime(e)}}else{const e=new Date;t=this.formatDate(e),s=this.formatTime(e)}if(this.options.ju){const e=this.options.ju.split("-");2===e.length&&(n.ju={isYang:"yang"===e[0],juNum:parseInt(e[1])})}if(1==this.options.method&&this.options.huoshiShichen){const e=this.options.huoshiShichen,a={"子":"00:00","丑":"02:00","寅":"04:00","卯":"06:00","辰":"08:00","巳":"10:00","午":"12:00","未":"14:00","申":"16:00","酉":"18:00","戌":"20:00","亥":"22:00"};a[e]&&(s=a[e],n.isHuoshi=!0,n.huoshiNumber=this.options.huoshiNumber,n.huoshiShichen=e)}const l=Z(t,s,n);if(l.error)return void e({title:l.error,icon:"none"});if(this.result={...this.result,...l,layout:{...this.result.layout,...l.layout}},this.options.birthYear)try{const e=parseInt(this.options.birthYear),a="1"===this.options.gender,s=new Date(t).getFullYear(),n=z(e,a,s);if(this.xingnianBenming=n,n.benming&&n.xingnian){const e=n.benming.zhi,a=n.xingnian.zhi;this.result.layout.outer[e]&&this.$set(this.result.layout.outer[e],"isBenMing",!0),this.result.layout.outer[a]&&this.$set(this.result.layout.outer[a],"isXingNian",!0)}}catch(a){console.error("XingNian Calc Error",a)}if(this.options.birthYear2)try{const e=parseInt(this.options.birthYear2),a="0"!==this.options.gender2,s=new Date(t).getFullYear(),n=z(e,a,s);if(this.xingnianBenming2=n,n.benming&&n.xingnian){const e=n.benming.zhi,a=n.xingnian.zhi;this.result.layout.outer[e]&&this.$set(this.result.layout.outer[e],"isBenMing2",!0),this.result.layout.outer[a]&&this.$set(this.result.layout.outer[a],"isXingNian2",!0)}}catch(a){console.error("XingNian 2 Calc Error",a)}try{this.calculateLiuRen(t,s,l)}catch(a){console.error("Liu Ren calculation error:",a),this.liuRen={tianpan:{},guiren:{},jianchu:{},xundun:{}}}}catch(a){console.error("Top Level Calc Error:",a),e({title:"开始排盘计算出错",icon:"none"})}},calculateLiuRen(e,a,t){const s=(t.bazi.hour?t.bazi.hour.charAt(1):"子")||"子",n=(t.bazi.day?t.bazi.day.charAt(0):"甲")||"甲",l=(t.bazi.month?t.bazi.month.charAt(1):"寅")||"寅",i=t.jieQi||"立春",u=x(i),o=b(u,s);this.liuRen.tianpan=o||{};const r=k(n,s,o);this.liuRen.guiren=r&&r.layout?r.layout:{};const c=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],d={};c.forEach((e=>{d[e]=w(l,e,o)})),this.liuRen.jianchu=d;const g=(t.bazi.day?t.bazi.day.charAt(1):"寅")||"寅",h={};c.forEach((e=>{const a=o?o[e]:e;if(a){const t=C(a,n,g);h[e]=t.isXunkong?"":t.gan}else h[e]=""})),this.liuRen.xundun=h},formatDate:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,formatTime(e){if(!e||isNaN(e.getTime()))return"00:00";return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},getGongName:e=>["","坎","坤","震","巽","中","乾","兑","艮","离"][e],getGodColor:e=>"值符"===e?"god-zhifu":"",getStarColor:e=>"star-color",getDoorColor:e=>["开门","休门","生门"].includes(e)?"door-good":"door-bad",getGan:e=>!e||e.length<1?"":e.charAt(0),getZhi:e=>!e||e.length<2?"":e.charAt(1),getHiddenGan(e){if(!e)return"";return e.split("/")[0].charAt(0)||""},getHiddenZhi(e){if(!e)return"";return e.split("/")[0].charAt(1)||""},getGuirenShort:e=>e||"",getGuirenColor(e){if(!e)return"";return{"贵":"wx-metal","蛇":"wx-fire","朱":"wx-fire","合":"wx-wood","勾":"wx-earth","龙":"wx-wood","空":"wx-earth","虎":"wx-metal","常":"wx-earth","玄":"wx-water","阴":"wx-metal","后":"wx-water"}[e]||""},getWuXingClass:e=>e?"甲乙寅卯".includes(e)?"wx-wood":"丙丁巳午".includes(e)?"wx-fire":"戊己辰戌丑未".includes(e)?"wx-earth":"庚辛申酉".includes(e)?"wx-metal":"壬癸亥子".includes(e)?"wx-water":"木".includes(e)?"wx-wood":"火".includes(e)?"wx-fire":"土".includes(e)?"wx-earth":"金".includes(e)?"wx-metal":"水".includes(e)?"wx-water":"":"",getNaYinColor(e){if(!e)return"";const a=e.slice(-1);return this.getWuXingClass(a)},isVoidGong(e){if(!this.result.xunKong||!this.result.xunKong.branches)return!1;return({1:["子"],8:["丑","寅"],3:["卯"],4:["辰","巳"],9:["午"],2:["未","申"],7:["酉"],6:["戌","亥"]}[e]||[]).some((e=>this.result.xunKong.branches.includes(e)))},isVoidStem(e){if(!e||!this.result.xunKong||!this.result.xunKong.branches)return!1;const a=this.result.xunKong.branches;return!(!a.includes("申")&&!a.includes("酉")||"庚"!==e)||(!(!a.includes("寅")&&!a.includes("卯")||"癸"!==e)||(!(!a.includes("戌")&&!a.includes("亥")||"己"!==e)||(!(!a.includes("午")&&!a.includes("未")||"辛"!==e)||(!(!a.includes("辰")&&!a.includes("巳")||"壬"!==e)||!(!a.includes("子")&&!a.includes("丑")||"戊"!==e)))))},isSpecialBlue(e,a,t){if(!a)return!1;const s=this.result,n=s.bazi.hour.charAt(0),l=s.bazi.year.charAt(0);if("star"===e)return a===s.zhiFu;if("door"===e)return a===s.zhiShi;if("skyStem"===e){if(a===n)return!0;if(a===l)return!0}if("earthStem"===e){let e=0;for(let a=1;a<=9;a++)if(this.getGan(s.skyGanZhi[a])===n){e=a;break}if(t===e)return!0;if(a===l)return!0}return!1},isSpecialRedDoor:(e,a)=>!!e&&(!(!["惊门","开门"].includes(e)||![3,4].includes(a))||("休门"===e&&9===a||(!(!["伤门","杜门"].includes(e)||![2,8,5].includes(a))||(!(!["景门"].includes(e)||![6,7].includes(a))||!(!["生门","死门","中门"].includes(e)||1!==a))))),isSpecialRedStem:(e,a)=>!!e&&(3===a&&"戊"===e||(8===a&&"庚"===e||(9===a&&"辛"===e||(!(4!==a||!["壬","癸"].includes(e))||2===a&&"己"===e)))),getNaYin:e=>T(e),isInnerPan(e){if(5===e)return!1;return(this.result.juName||"").includes("阳")?[1,8,3,4].includes(e):[9,2,7,6].includes(e)},getDunGan(e){if(!e||e.length<2)return"";const a={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]};for(const[t,s]of Object.entries(a))if(s.includes(e))return t;return""},getGeju(e,a,t){const s={"耗气格":{combos:["丙戊","戊庚","庚壬"],desc:"主耗我之元阳而伤我之财物也"},"夺权格":{combos:["乙丁","丁己","己辛","辛癸","癸乙"],desc:"被人夺我之权衡也"},"交阴格":{combos:["丙己","戊辛","甲丁","壬乙","庚癸"],desc:"利于妇女淫邪之事 并有隐匿阴私之象"},"交阳格":{combos:["丁戊","己庚","乙丙","辛壬"],desc:"事虽主进 未免有伤我之精血也"},"得母格":{combos:["庚己","戊丁","壬辛","丙乙"],desc:"事虽属退 然家中之和顺 大人之庇荫 亦必所不免也"},"获父格":{combos:["己丙","辛戊","癸庚","乙壬"],desc:"主得大人之助父老之获也"},"乘权格":{combos:["庚戊","戊丙","壬庚"],desc:"虽属后间 但以进步而威扬之也"},"倚势格":{combos:["丁乙","乙癸","癸辛","辛己","己丁"],desc:"主赖他人制辖家里纷扰 而我之志不能伸也"},"外侵格":{combos:["庚乙","壬丁","丙辛","戊癸"],desc:"外人欺我要提防"},"内侵格":{combos:["乙庚","丁壬","辛丙","癸戊"],desc:"家中欺我意不良"},"外害格":{combos:["乙戊","丁庚","己壬","癸丙"],desc:"灾殃陡起在他乡"},"内害格":{combos:["丙癸","戊乙","庚丁","壬己"],desc:"是非口舌家淫猖"},"外制格":{combos:["丙庚","戊壬","壬丙","戊壬"],desc:"他人欺辖隐钩铓"},"内制格":{combos:["庚丙","壬戊","丙壬"],desc:"家里翻腾欲寻殃"},"外乱格":{combos:["乙己","丁辛","己癸","辛乙","癸丁"],desc:"外国来兵要侵疆"},"内乱格":{combos:["己乙","乙辛","辛丁","丁癸","癸己"],desc:"家里纷纷无主张"}},n=[],l=[];e&&t&&l.push({combo:e+t,type:"天+暗"}),t&&a&&l.push({combo:t+a,type:"暗+地"}),e&&a&&l.push({combo:e+a,type:"天+地"});for(const[i,u]of Object.entries(s))for(const e of l)u.combos.includes(e.combo)&&n.push({name:i,combo:e.combo.charAt(0)+"+"+e.combo.charAt(1),type:e.type,desc:u.desc});return n}}},[["render",function(e,a,_,b,x,p){const z=m,k=n,w=y;return l(),t(k,{class:"container"},{default:s((()=>[i(k,{class:"watermark-container"},{default:s((()=>[(l(),u(r,null,o(5,(e=>i(k,{class:"watermark-item",key:e},{default:s((()=>[i(k,{class:"watermark-block"},{default:s((()=>[i(z,{class:"wm-line"},{default:s((()=>[c("开发者：景川")])),_:1}),i(z,{class:"wm-line"},{default:s((()=>[c("技术支持：卿核")])),_:1}),i(z,{class:"wm-line"},{default:s((()=>[c("公众号 天厨司玄学社")])),_:1})])),_:1}),i(k,{class:"watermark-block"},{default:s((()=>[i(z,{class:"wm-line"},{default:s((()=>[c("开发者：景川")])),_:1}),i(z,{class:"wm-line"},{default:s((()=>[c("技术支持：卿核")])),_:1}),i(z,{class:"wm-line"},{default:s((()=>[c("公众号 天厨司玄学社")])),_:1})])),_:1})])),_:2},1024))),64))])),_:1}),i(k,{class:"nav-bar"},{default:s((()=>[i(k,{class:"back-btn",onClick:p.goBack},{default:s((()=>[i(z,{class:"back-icon"},{default:s((()=>[c("←")])),_:1}),i(z,{class:"back-text"},{default:s((()=>[c("返回")])),_:1})])),_:1},8,["onClick"]),i(z,{class:"nav-title"},{default:s((()=>[c("飞盘奇门")])),_:1}),i(k,{class:"nav-buttons"},{default:s((()=>[i(k,{class:"back-btn",onClick:p.goPrevious},{default:s((()=>[i(z,{class:"nav-icon"},{default:s((()=>[c("◀")])),_:1})])),_:1},8,["onClick"]),i(k,{class:"back-btn",onClick:p.goCurrentTime},{default:s((()=>[i(z,{class:"nav-icon"},{default:s((()=>[c("↻")])),_:1})])),_:1},8,["onClick"]),i(k,{class:"back-btn",onClick:p.goNext},{default:s((()=>[i(z,{class:"nav-icon"},{default:s((()=>[c("▶")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),i(k,{class:"content"},{default:s((()=>[i(k,{class:"info-card"},{default:s((()=>[i(k,{class:"info-row main-title"},{default:s((()=>[i(z,{class:"info-text"},{default:s((()=>[c(d(x.result.jieQi)+" "+d(x.result.yuan),1)])),_:1}),i(z,{class:"info-text highlight"},{default:s((()=>[c(d(x.result.juName),1)])),_:1})])),_:1}),x.result.layout.baziInfo?(l(),t(k,{key:0,class:"bazi-grid"},{default:s((()=>[i(k,{class:"bazi-row header-row"},{default:s((()=>[i(k,{class:"bazi-cell header-cell"},{default:s((()=>[i(z,null,{default:s((()=>[c("年")])),_:1})])),_:1}),i(k,{class:"bazi-cell header-cell"},{default:s((()=>[i(z,null,{default:s((()=>[c("月")])),_:1})])),_:1}),i(k,{class:"bazi-cell header-cell"},{default:s((()=>[i(z,null,{default:s((()=>[c("日")])),_:1})])),_:1}),i(k,{class:"bazi-cell header-cell"},{default:s((()=>[i(z,null,{default:s((()=>[c("时")])),_:1})])),_:1})])),_:1}),i(k,{class:"bazi-row"},{default:s((()=>[i(k,{class:"bazi-cell"},{default:s((()=>[i(z,{class:g(p.getWuXingClass(p.getGan(x.result.layout.baziInfo.year.gz)))},{default:s((()=>[c(d(p.getGan(x.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getZhi(x.result.layout.baziInfo.year.gz)))},{default:s((()=>[c(d(p.getZhi(x.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"])])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[i(z,{class:g(p.getWuXingClass(p.getGan(x.result.layout.baziInfo.month.gz)))},{default:s((()=>[c(d(p.getGan(x.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getZhi(x.result.layout.baziInfo.month.gz)))},{default:s((()=>[c(d(p.getZhi(x.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"])])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[i(z,{class:g(p.getWuXingClass(p.getGan(x.result.layout.baziInfo.day.gz)))},{default:s((()=>[c(d(p.getGan(x.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getZhi(x.result.layout.baziInfo.day.gz)))},{default:s((()=>[c(d(p.getZhi(x.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"])])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[i(z,{class:g(p.getWuXingClass(p.getGan(x.result.layout.baziInfo.hour.gz)))},{default:s((()=>[c(d(p.getGan(x.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getZhi(x.result.layout.baziInfo.hour.gz)))},{default:s((()=>[c(d(p.getZhi(x.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1}),i(k,{class:"bazi-row"},{default:s((()=>[i(k,{class:"bazi-cell"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.baziInfo.year.xk||"",((e,a)=>(l(),t(z,{key:a,class:g(p.getWuXingClass(e))},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.baziInfo.month.xk||"",((e,a)=>(l(),t(z,{key:a,class:g(p.getWuXingClass(e))},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.baziInfo.day.xk||"",((e,a)=>(l(),t(z,{key:a,class:g(p.getWuXingClass(e))},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(k,{class:"bazi-cell"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.baziInfo.hour.xk||"",((e,a)=>(l(),t(z,{key:a,class:g(p.getWuXingClass(e))},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),i(k,{class:"bazi-row"},{default:s((()=>[i(z,{class:g(["bazi-cell",p.getNaYinColor(x.result.layout.baziInfo.year.ny)])},{default:s((()=>[c(d(x.result.layout.baziInfo.year.ny),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getNaYinColor(x.result.layout.baziInfo.month.ny)])},{default:s((()=>[c(d(x.result.layout.baziInfo.month.ny),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getNaYinColor(x.result.layout.baziInfo.day.ny)])},{default:s((()=>[c(d(x.result.layout.baziInfo.day.ny),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getNaYinColor(x.result.layout.baziInfo.hour.ny)])},{default:s((()=>[c(d(x.result.layout.baziInfo.hour.ny),1)])),_:1},8,["class"])])),_:1}),i(k,{class:"bazi-row"},{default:s((()=>[i(z,{class:g(["bazi-cell",p.getWuXingClass(p.getDunGan(x.result.layout.baziInfo.year.gz))])},{default:s((()=>[c(d(p.getDunGan(x.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getWuXingClass(p.getDunGan(x.result.layout.baziInfo.month.gz))])},{default:s((()=>[c(d(p.getDunGan(x.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getWuXingClass(p.getDunGan(x.result.layout.baziInfo.day.gz))])},{default:s((()=>[c(d(p.getDunGan(x.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),i(z,{class:g(["bazi-cell",p.getWuXingClass(p.getDunGan(x.result.layout.baziInfo.hour.gz))])},{default:s((()=>[c(d(p.getDunGan(x.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1})):h("",!0),x.xingnianBenming?(l(),t(k,{key:1,class:"xingnian-info"},{default:s((()=>[i(z,null,{default:s((()=>[c("本命一:")])),_:1}),i(z,{class:g(p.getWuXingClass(x.xingnianBenming.benming.gan))},{default:s((()=>[c(d(x.xingnianBenming.benming.gan),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(x.xingnianBenming.benming.zhi))},{default:s((()=>[c(d(x.xingnianBenming.benming.zhi),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getDunGan(x.xingnianBenming.benming.gan+x.xingnianBenming.benming.zhi)))},{default:s((()=>[c(d(p.getDunGan(x.xingnianBenming.benming.gan+x.xingnianBenming.benming.zhi)),1)])),_:1},8,["class"]),i(z,{class:"xingnian-spacer"},{default:s((()=>[c("行年一:")])),_:1}),i(z,{class:g(p.getWuXingClass(x.xingnianBenming.xingnian.gan))},{default:s((()=>[c(d(x.xingnianBenming.xingnian.gan),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(x.xingnianBenming.xingnian.zhi))},{default:s((()=>[c(d(x.xingnianBenming.xingnian.zhi),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getDunGan(x.xingnianBenming.xingnian.gan+x.xingnianBenming.xingnian.zhi)))},{default:s((()=>[c(d(p.getDunGan(x.xingnianBenming.xingnian.gan+x.xingnianBenming.xingnian.zhi)),1)])),_:1},8,["class"]),i(z,{class:"xingnian-spacer"},{default:s((()=>[c(d(x.xingnianBenming.birthYear),1)])),_:1}),i(z,{class:g(["gender-badge",x.xingnianBenming.isMale?"male":"female"])},{default:s((()=>[c(d(x.xingnianBenming.gender),1)])),_:1},8,["class"])])),_:1})):h("",!0),x.xingnianBenming2?(l(),t(k,{key:2,class:"xingnian-info"},{default:s((()=>[i(z,null,{default:s((()=>[c("本命二:")])),_:1}),i(z,{class:g(p.getWuXingClass(x.xingnianBenming2.benming.gan))},{default:s((()=>[c(d(x.xingnianBenming2.benming.gan),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(x.xingnianBenming2.benming.zhi))},{default:s((()=>[c(d(x.xingnianBenming2.benming.zhi),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getDunGan(x.xingnianBenming2.benming.gan+x.xingnianBenming2.benming.zhi)))},{default:s((()=>[c(d(p.getDunGan(x.xingnianBenming2.benming.gan+x.xingnianBenming2.benming.zhi)),1)])),_:1},8,["class"]),i(z,{class:"xingnian-spacer"},{default:s((()=>[c("行年二:")])),_:1}),i(z,{class:g(p.getWuXingClass(x.xingnianBenming2.xingnian.gan))},{default:s((()=>[c(d(x.xingnianBenming2.xingnian.gan),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(x.xingnianBenming2.xingnian.zhi))},{default:s((()=>[c(d(x.xingnianBenming2.xingnian.zhi),1)])),_:1},8,["class"]),i(z,{class:g(p.getWuXingClass(p.getDunGan(x.xingnianBenming2.xingnian.gan+x.xingnianBenming2.xingnian.zhi)))},{default:s((()=>[c(d(p.getDunGan(x.xingnianBenming2.xingnian.gan+x.xingnianBenming2.xingnian.zhi)),1)])),_:1},8,["class"]),i(z,{class:"xingnian-spacer"},{default:s((()=>[c(d(x.xingnianBenming2.birthYear),1)])),_:1}),i(k,{class:g(["gender-badge",x.xingnianBenming2.isMale?"male":"female"])},{default:s((()=>[c(d(x.xingnianBenming2.gender),1)])),_:1},8,["class"])])),_:1})):h("",!0),i(k,{class:"info-row sub-info"},{default:s((()=>[i(k,{class:"info-item"},{default:s((()=>[i(z,null,{default:s((()=>[c("值符:")])),_:1}),i(z,{class:"info-val"},{default:s((()=>[c(d(x.result.zhiFu||"-"),1)])),_:1})])),_:1}),i(k,{class:"info-item"},{default:s((()=>[i(z,null,{default:s((()=>[c("值使:")])),_:1}),i(z,{class:"info-val"},{default:s((()=>[c(d(x.result.zhiShi||"-"),1)])),_:1})])),_:1}),i(k,{class:"info-item"},{default:s((()=>[i(z,null,{default:s((()=>[c("旬首:")])),_:1}),i(z,{class:"info-val"},{default:s((()=>[c(d(x.result.xunShou||"-"),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(k,{class:"outer-ring-container"},{default:s((()=>[i(k,{class:"ring-row ring-top"},{default:s((()=>[i(k,{class:"ring-corner-spacer"}),(l(),u(r,null,o(["巳","午","未"],(e=>i(k,{class:"ring-cell-h",key:e},{default:s((()=>[i(k,{class:"layer-outer h-mode"},{default:s((()=>[i(k,{class:"ring-outer-stars"},{default:s((()=>[i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(x.result.layout.outer[e]||{}).isBenMing?(l(),t(k,{key:0,class:"marker-badge benming"},{default:s((()=>[c("命")])),_:1})):h("",!0),(x.result.layout.outer[e]||{}).isXingNian?(l(),t(k,{key:1,class:"marker-badge xingnian"},{default:s((()=>[c("年")])),_:1})):h("",!0)])),_:2},1024),i(k,{class:"layer-liuren h-mode"},{default:s((()=>[i(z,{class:g(["ring-xundun-gan",p.getWuXingClass(x.liuRen.xundun[e])])},{default:s((()=>[c(d(x.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-dipan",p.getWuXingClass(x.liuRen.tianpan[e])])},{default:s((()=>[c(d(x.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-guiren",p.getGuirenColor(x.liuRen.guiren[e])])},{default:s((()=>[c(d(x.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(z,{class:"ring-jianchu"},{default:s((()=>[c(d(x.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64)),i(k,{class:"ring-corner-spacer"})])),_:1}),i(k,{class:"ring-middle"},{default:s((()=>[i(k,{class:"ring-col ring-left"},{default:s((()=>[(l(),u(r,null,o(["辰","卯","寅"],(e=>i(k,{class:"ring-cell-v",key:e},{default:s((()=>[i(k,{class:"layer-outer v-mode"},{default:s((()=>[i(k,{class:"ring-outer-stars"},{default:s((()=>[i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(x.result.layout.outer[e]||{}).isBenMing?(l(),t(k,{key:0,class:"marker-badge benming"},{default:s((()=>[c("命")])),_:1})):h("",!0)])),_:2},1024),i(k,{class:"layer-liuren v-mode"},{default:s((()=>[i(z,{class:g(["ring-xundun-gan",p.getWuXingClass(x.liuRen.xundun[e])])},{default:s((()=>[c(d(x.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-dipan",p.getWuXingClass(x.liuRen.tianpan[e])])},{default:s((()=>[c(d(x.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-guiren",p.getGuirenColor(x.liuRen.guiren[e])])},{default:s((()=>[c(d(x.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(z,{class:"ring-jianchu"},{default:s((()=>[c(d(x.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64))])),_:1}),i(k,{class:"grid-container"},{default:s((()=>[(l(!0),u(r,null,o(x.gridLayout,((e,a)=>(l(),t(k,{class:"grid-row",key:a},{default:s((()=>[(l(!0),u(r,null,o(e,((e,a)=>(l(),t(k,{class:g(["grid-cell",["gong-"+e,{center:5===e,"bg-inner":p.isInnerPan(e),"bg-outer":!p.isInnerPan(e)&&5!==e}]]),key:a,onClick:a=>p.handleCellClick(e)},{default:s((()=>[i(k,{class:"gong-bg"},{default:s((()=>[c(d(p.getGongName(e)),1)])),_:2},1024),p.isVoidGong(e)?(l(),t(k,{key:0,class:"pos-top-center"},{default:s((()=>[i(k,{class:g(["xunkong-circle",{"xunkong-red":p.isSpecialRedDoor(x.result.layout.doors[e],e)}])},null,8,["class"])])),_:2},1024)):h("",!0),i(k,{class:"pos-left"},{default:s((()=>[i(z,{class:g(["hidden-char",p.getWuXingClass(p.getHiddenGan(x.result.layout.hidden[e])),{"low-opacity":p.isVoidStem(p.getHiddenGan(x.result.layout.hidden[e]))}])},{default:s((()=>[c(d(p.getHiddenGan(x.result.layout.hidden[e])),1)])),_:2},1032,["class"]),i(z,{class:g(["hidden-char",p.getWuXingClass(p.getHiddenZhi(x.result.layout.hidden[e]))])},{default:s((()=>[c(d(p.getHiddenZhi(x.result.layout.hidden[e])),1)])),_:2},1032,["class"])])),_:2},1024),i(k,{class:"pos-right"},{default:s((()=>[i(k,{class:"right-stack"},{default:s((()=>[i(k,{class:"pillar-line"},{default:s((()=>[i(z,{class:g(["gz-h",{"low-opacity":p.isVoidStem(p.getGan(x.result.skyGanZhi[e])),"special-blue":p.isSpecialBlue("skyStem",p.getGan(x.result.skyGanZhi[e]),e),"special-red":p.isSpecialRedStem(p.getGan(x.result.skyGanZhi[e]),e),"boxed-border":(x.result.layout.skyChangSheng[e]||"").includes("墓")}])},{default:s((()=>[c(d(p.getGan(x.result.skyGanZhi[e])),1)])),_:2},1032,["class"]),i(z,{class:"gz-h"},{default:s((()=>[c(d(p.getZhi(x.result.skyGanZhi[e])),1)])),_:2},1024),i(k,{class:"cs-vertical"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.skyChangSheng[e]||"",((e,a)=>(l(),t(z,{class:"cs-char",key:a},{default:s((()=>[c(d(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(k,{class:"info-line top"},{default:s((()=>[i(z,{class:"ten-god-text"},{default:s((()=>[c(d(x.result.layout.skyTenGods[e]),1)])),_:2},1024),x.result.layout.huaYao?(l(),t(z,{key:0,class:"hua-yao-text"},{default:s((()=>[c(d(x.result.layout.huaYao[p.getGan(x.result.skyGanZhi[e])]||""),1)])),_:2},1024)):h("",!0)])),_:2},1024),i(k,{class:"pillar-line"},{default:s((()=>[i(z,{class:g(["gz-h",{"low-opacity":p.isVoidStem(p.getGan(x.result.layout.earthGanZhi[e])),"special-blue":p.isSpecialBlue("earthStem",p.getGan(x.result.layout.earthGanZhi[e]),e),"special-red":p.isSpecialRedStem(p.getGan(x.result.layout.earthGanZhi[e]),e),"boxed-border":(x.result.layout.earthChangSheng[e]||"").includes("墓")}])},{default:s((()=>[c(d(p.getGan(x.result.layout.earthGanZhi[e])),1)])),_:2},1032,["class"]),i(z,{class:"gz-h"},{default:s((()=>[c(d(p.getZhi(x.result.layout.earthGanZhi[e])),1)])),_:2},1024),i(k,{class:"cs-vertical"},{default:s((()=>[(l(!0),u(r,null,o(x.result.layout.earthChangSheng[e]||"",((e,a)=>(l(),t(z,{class:"cs-char",key:a},{default:s((()=>[c(d(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(k,{class:"info-line bottom"},{default:s((()=>[i(z,{class:"ten-god-text"},{default:s((()=>[c(d(x.result.layout.earthTenGods[e]),1)])),_:2},1024),x.result.layout.huaYao?(l(),t(z,{key:0,class:"hua-yao-text"},{default:s((()=>[c(d(x.result.layout.huaYao[p.getGan(x.result.layout.earthGanZhi[e])]||""),1)])),_:2},1024)):h("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(k,{class:"pos-top-right"},{default:s((()=>[x.result.horses&&x.result.horses.tianMa===e&&x.result.horses.dingMa===e?(l(),t(k,{key:0,class:"horse-row"},{default:s((()=>[i(k,{class:"horse-star tian-ma"},{default:s((()=>[c("天马")])),_:1}),i(k,{class:"ding-ma-text"},{default:s((()=>[c("丁马")])),_:1})])),_:1})):x.result.horses&&x.result.horses.tianMa===e?(l(),t(k,{key:1,class:"horse-star tian-ma"},{default:s((()=>[c("天马")])),_:1})):x.result.horses&&x.result.horses.dingMa===e?(l(),t(k,{key:2,class:"ding-ma-text"},{default:s((()=>[c("丁马")])),_:1})):h("",!0)])),_:2},1024),x.result.horses&&x.result.horses.yiMa===e?(l(),t(k,{key:1,class:"horse-star yi-ma"},{default:s((()=>[c("马")])),_:1})):h("",!0),i(k,{class:"corner-br"},{default:s((()=>[i(z,{class:"gong-ws-text"},{default:s((()=>[c(d(x.result.layout.wangShuai[e]),1)])),_:2},1024)])),_:2},1024),i(k,{class:"pos-center"},{default:s((()=>[i(k,{class:"god-col"},{default:s((()=>[i(z,{class:g(["sky-god",p.getGodColor(x.result.layout.skyGods[e])])},{default:s((()=>[c(d(x.result.layout.skyGods[e]),1)])),_:2},1032,["class"])])),_:2},1024),i(k,{class:"star-group"},{default:s((()=>[i(z,{class:g(["star-text",p.getStarColor(x.result.layout.stars[e]),{"special-blue":p.isSpecialBlue("star",x.result.layout.stars[e],e)}])},{default:s((()=>[c(d(x.result.layout.stars[e]),1)])),_:2},1032,["class"]),x.result.layout.starWangShuai[e]?(l(),t(k,{key:0,class:"ws-col"},{default:s((()=>[i(z,{class:"ws-char"},{default:s((()=>[c(d(x.result.layout.starWangShuai[e].top),1)])),_:2},1024),i(z,{class:"ws-char"},{default:s((()=>[c(d(x.result.layout.starWangShuai[e].bot),1)])),_:2},1024)])),_:2},1024)):h("",!0)])),_:2},1024),i(k,{class:"door-group"},{default:s((()=>[i(z,{class:g(["door-text",p.getDoorColor(x.result.layout.doors[e]),{"special-blue":p.isSpecialBlue("door",x.result.layout.doors[e],e),"special-red":p.isSpecialRedDoor(x.result.layout.doors[e],e)}])},{default:s((()=>[c(d(x.result.layout.doors[e]),1)])),_:2},1032,["class"]),x.result.layout.doorWangShuai[e]?(l(),t(k,{key:0,class:"ws-col"},{default:s((()=>[i(z,{class:"ws-char"},{default:s((()=>[c(d(x.result.layout.doorWangShuai[e].top),1)])),_:2},1024),i(z,{class:"ws-char"},{default:s((()=>[c(d(x.result.layout.doorWangShuai[e].bot),1)])),_:2},1024)])),_:2},1024)):h("",!0)])),_:2},1024),i(z,{class:g(["earth-god",p.getGodColor(x.result.layout.earthGods[e])])},{default:s((()=>[c(d(x.result.layout.earthGods[e]),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),128))])),_:1}),i(k,{class:"ring-col ring-right"},{default:s((()=>[(l(),u(r,null,o(["申","酉","戌"],(e=>i(k,{class:"ring-cell-v",key:e},{default:s((()=>[i(k,{class:"layer-liuren v-mode"},{default:s((()=>[i(z,{class:g(["ring-xundun-gan",p.getWuXingClass(x.liuRen.xundun[e])])},{default:s((()=>[c(d(x.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-dipan",p.getWuXingClass(x.liuRen.tianpan[e])])},{default:s((()=>[c(d(x.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-guiren",p.getGuirenColor(x.liuRen.guiren[e])])},{default:s((()=>[c(d(x.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(z,{class:"ring-jianchu"},{default:s((()=>[c(d(x.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024),i(k,{class:"layer-outer v-mode"},{default:s((()=>[i(k,{class:"ring-outer-stars"},{default:s((()=>[i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(x.result.layout.outer[e]||{}).isBenMing?(l(),t(k,{key:0,class:"marker-badge benming"},{default:s((()=>[c("命")])),_:1})):h("",!0),(x.result.layout.outer[e]||{}).isXingNian?(l(),t(k,{key:1,class:"marker-badge xingnian"},{default:s((()=>[c("年")])),_:1})):h("",!0),(x.result.layout.outer[e]||{}).isBenMing2?(l(),t(k,{key:2,class:"marker-badge benming2"},{default:s((()=>[c("命2")])),_:1})):h("",!0),(x.result.layout.outer[e]||{}).isXingNian2?(l(),t(k,{key:3,class:"marker-badge xingnian2"},{default:s((()=>[c("年2")])),_:1})):h("",!0)])),_:2},1024)])),_:2},1024))),64))])),_:1}),x.showModal?(l(),t(k,{key:0,class:"modal-mask",onClick:p.closeModal},{default:s((()=>[i(k,{class:"modal-content",onClick:a[0]||(a[0]=f((()=>{}),["stop"]))},{default:s((()=>[i(k,{class:"modal-header"},{default:s((()=>[i(z,{class:"modal-title-text"},{default:s((()=>[c(d(x.modalTitle),1)])),_:1}),i(k,{class:"close-btn",onClick:p.closeModal},{default:s((()=>[c("×")])),_:1},8,["onClick"])])),_:1}),i(w,{"scroll-y":"true",class:"modal-scroll-view"},{default:s((()=>[i(k,{class:"modal-inner-content"},{default:s((()=>[x.shenShaList&&(x.shenShaList.tianpan.length>0||x.shenShaList.dipan.length>0)?(l(),t(k,{key:0,class:"shensha-card"},{default:s((()=>[i(k,{class:"section-title"},{default:s((()=>[c("神煞")])),_:1}),x.shenShaList.tianpan.length>0?(l(),t(k,{key:0,class:"shensha-row"},{default:s((()=>[i(k,{class:"shensha-label-container"},{default:s((()=>{var e;return[(l(!0),u(r,null,o(((null==(e=x.modalSkyInfo)?void 0:e.gz)||"天盘").split(""),((e,a)=>(l(),t(z,{key:"tp-l-"+a,class:g(["shensha-label-char",p.getWuXingClass(e)])},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128)),i(z,{class:"shensha-label-colon"},{default:s((()=>[c(":")])),_:1})]})),_:1}),i(k,{class:"shensha-tags"},{default:s((()=>[(l(!0),u(r,null,o(x.shenShaList.tianpan,((e,a)=>(l(),t(z,{class:"shensha-tag",key:"t"+a},{default:s((()=>[c("「"+d(e)+"」",1)])),_:2},1024)))),128))])),_:1})])),_:1})):h("",!0),x.shenShaList.dipan.length>0?(l(),t(k,{key:1,class:"shensha-row"},{default:s((()=>[i(k,{class:"shensha-label-container"},{default:s((()=>{var e;return[(l(!0),u(r,null,o(((null==(e=x.modalEarthInfo)?void 0:e.gz)||"地盘").split(""),((e,a)=>(l(),t(z,{key:"dp-l-"+a,class:g(["shensha-label-char",p.getWuXingClass(e)])},{default:s((()=>[c(d(e),1)])),_:2},1032,["class"])))),128)),i(z,{class:"shensha-label-colon"},{default:s((()=>[c(":")])),_:1})]})),_:1}),i(k,{class:"shensha-tags"},{default:s((()=>[(l(!0),u(r,null,o(x.shenShaList.dipan,((e,a)=>(l(),t(z,{class:"shensha-tag",key:"d"+a},{default:s((()=>[c("「"+d(e)+"」",1)])),_:2},1024)))),128))])),_:1})])),_:1})):h("",!0)])),_:1})):h("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):h("",!0)])),_:1}),i(k,{class:"ring-row ring-bottom"},{default:s((()=>[i(k,{class:"ring-corner-spacer"}),(l(),u(r,null,o(["丑","子","亥"],(e=>i(k,{class:"ring-cell-h",key:e},{default:s((()=>[i(k,{class:"layer-liuren h-mode"},{default:s((()=>[i(z,{class:g(["ring-xundun-gan",p.getWuXingClass(x.liuRen.xundun[e])])},{default:s((()=>[c(d(x.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-dipan",p.getWuXingClass(x.liuRen.tianpan[e])])},{default:s((()=>[c(d(x.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(z,{class:g(["ring-guiren",p.getGuirenColor(x.liuRen.guiren[e])])},{default:s((()=>[c(d(x.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(z,{class:"ring-jianchu"},{default:s((()=>[c(d(x.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024),i(k,{class:"layer-outer h-mode"},{default:s((()=>[i(k,{class:"ring-outer-stars"},{default:s((()=>[i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(z,{class:"outer-star-text user-select"},{default:s((()=>[c(d((x.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(x.result.layout.outer[e]||{}).isBenMing?(l(),t(k,{key:0,class:"marker-badge benming"},{default:s((()=>[c("命")])),_:1})):h("",!0),(x.result.layout.outer[e]||{}).isXingNian?(l(),t(k,{key:1,class:"marker-badge xingnian"},{default:s((()=>[c("年")])),_:1})):h("",!0)])),_:2},1024)])),_:2},1024))),64)),i(k,{class:"ring-corner-spacer"})])),_:1})])),_:1})])),_:1}),i(k,{class:"copyright-info"},{default:s((()=>[i(k,{class:"copyright-line"},{default:s((()=>[c("© Developer: 景川 · Wechat: Im_JingChuang")])),_:1}),i(k,{class:"copyright-line"},{default:s((()=>[c("© Technical supporter: 卿核 · Wechat: qinghe4994")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-3ff5f365"]]);export{v as default};
