const n=[{name:"子",start:23,end:1,alias:"子时",description:"夜半"},{name:"丑",start:1,end:3,alias:"丑时",description:"鸡鸣"},{name:"寅",start:3,end:5,alias:"寅时",description:"平旦"},{name:"卯",start:5,end:7,alias:"卯时",description:"日出"},{name:"辰",start:7,end:9,alias:"辰时",description:"食时"},{name:"巳",start:9,end:11,alias:"巳时",description:"隅中"},{name:"午",start:11,end:13,alias:"午时",description:"日中"},{name:"未",start:13,end:15,alias:"未时",description:"日昳"},{name:"申",start:15,end:17,alias:"申时",description:"晡时"},{name:"酉",start:17,end:19,alias:"酉时",description:"日入"},{name:"戌",start:19,end:21,alias:"戌时",description:"黄昏"},{name:"亥",start:21,end:23,alias:"亥时",description:"人定"}];function t(t){const e=t.getHours();if(e>=23||e<1)return{...n[0],index:0};for(let r=1;r<n.length;r++){const t=n[r];if(e>=t.start&&e<t.end)return{...t,index:r}}return{...n[0],index:0}}function e(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`}function r(){return n.map((n,t)=>({...n,index:t}))}function a(n){return["卯","辰","巳","午","未","申"].includes(n)}const i=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],s={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},c={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"寅",night:"午"}};const u=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],o=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function f(n,t,e){const r=a(t),s=function(n,t){const e=c[n];return e?t?e.day:e.night:"丑"}(n,r),f=function(n,t){for(let e in t)if(t[e]===n)return e;return n}(s,e),d=["亥","子","丑","寅","卯","辰"].includes(f),l=function(n,t){const e={},r=i.indexOf(n),a=t?u:o;for(let s=0;s<12;s++)e[i[(r+s)%12]]=a[s];return e}(f,d);return{layout:l,isDay:r,dayNight:r?"昼":"夜",guirenPosition:f,guirenBenwei:s,isShunbu:d}}function d(n){return s[n]||n}const l=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],h={};l.forEach((n,t)=>h[n]=t);const g={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach((n,t)=>g[n]=t);const m={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function b(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function p(n,t,e){const r=function(n,t){return m[n+t]||"甲子"}(t,e),a=r.charAt(0),i=r.charAt(1),s=h[a],c=g[i],u=(g[n]-c+12)%12,o=u>=10;return{gan:l[(s+u)%10],isXunkong:o}}function y(n,t,e,r){if(!r)return{gan:"",isXunkong:!1};const a=function(n,t){return m[n+t]||"甲子"}(t,e),i=a.charAt(1);let s=null;for(let f in r)if(r[f]===i){s=f;break}if(!s)return{gan:"",isXunkong:!1};const c=g[s],u=(g[n]-c+12)%12,o=u>=10;return{gan:l[u%10],isXunkong:o}}function S(n,t,e){if(!t||!e)return"";const r=b(t),a=h[r];let i=null;for(let u in e)if("子"===e[u]){i=u;break}if(!i)return"";const s=g[i],c=g[n];return l[(a+(c-s+12)%12)%10]}function k(n,t,e){if(!n||!t||!e)return"";return p(n,t,e).gan}function x(n,t){const{dayStem:e,dayBranch:r,timeStem:a,timeBranch:i,tianpan:s,guirenPosition:c}=t,u=p(s?s[n]:n,e,r),o=y(n,a,i,s),f=k(n,e,r),d=S(n,e,s),m=function(n,t,e){if(!t||!e)return"";const r=b(t),a=h[r];let i=null;for(let u in e)if("子"===e[u]){i=u;break}if(!i)return"";const s=g[i],c=g[n];return l[(a+(c-s+12)%12)%10]}(n,a,s),x=function(n,t,e,r){if(!t||!r||!e)return"";if(!r[t])return"";const a=t;let i=null;for(let l in r)if(r[l]===a){i=l;break}if(!i)return"";const s=S(i,e,r);if(!s)return"";const c=b(s),u=h[c];let o=null;for(let l in r)if("子"===r[l]){o=l;break}if(!o)return"";const f=r[n];if(!f)return"";const d=(g[f]-g["子"]+12)%12;return l[(u+d)%10]}(n,c,e,s);return{xundun:u,tiandun:o,didun:f,jiangan:d,fujian:m,rendun:x}}const $=["建","除","满","平","定","执","破","危","成","收","开","闭"],w=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],A={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},M={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},j={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function B(n,t,e){if(!n||!t||!e)return"";let r=null;for(let u in e)if(e[u]===n){r=u;break}if(!r)return"";const a=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],i=a.indexOf(r);if(-1===i)return"";const s=[...a.slice(i),...a.slice(0,i)],c={};return s.forEach((n,t)=>{c[n]=$[t]}),c[t]||""}function O(n,t){if(!n||!t)return"";const e=j[n],r=j[t];if(!e||!r)return"";const a={"木":"火","火":"土","土":"金","金":"水","水":"木"},i={"木":"土","火":"金","土":"水","金":"木","水":"火"};return e===r?"旺":a[e]===r?"相":a[r]===e?"休":i[r]===e?"囚":i[e]===r?"死":""}function X(n,t){if(!n||!t)return"";const e=A[n];if(!e)return"";const r=e.indexOf(t);return-1===r?"":w[r]}function D(n,t){if(!n||!t)return"";const e=M[n];if(!e)return"";const r=e.indexOf(t);return-1===r?"":w[r]}function E(n,t){const{monthBranch:e,dayStem:r,tianpan:a}=t,i=a[n];return{jianchu:B(e,n,a),wangshuai:O(e,i),shiganChangsheng:X(r,i),wuxingChangsheng:D(r,i)}}const Y={1924:"甲子",1925:"乙丑",1926:"丙寅",1927:"丁卯",1928:"戊辰",1929:"己巳",1930:"庚午",1931:"辛未",1932:"壬申",1933:"癸酉",1934:"甲戌",1935:"乙亥",1936:"丙子",1937:"丁丑",1938:"戊寅",1939:"己卯",1940:"庚辰",1941:"辛巳",1942:"壬午",1943:"癸未",1944:"甲申",1945:"乙酉",1946:"丙戌",1947:"丁亥",1948:"戊子",1949:"己丑",1950:"庚寅",1951:"辛卯",1952:"壬辰",1953:"癸巳",1954:"甲午",1955:"乙未",1956:"丙申",1957:"丁酉",1958:"戊戌",1959:"己亥",1960:"庚子",1961:"辛丑",1962:"壬寅",1963:"癸卯",1964:"甲辰",1965:"乙巳",1966:"丙午",1967:"丁未",1968:"戊申",1969:"己酉",1970:"庚戌",1971:"辛亥",1972:"壬子",1973:"癸丑",1974:"甲寅",1975:"乙卯",1976:"丙辰",1977:"丁巳",1978:"戊午",1979:"己未",1980:"庚申",1981:"辛酉",1982:"壬戌",1983:"癸亥",1984:"甲子",1985:"乙丑",1986:"丙寅",1987:"丁卯",1988:"戊辰",1989:"己巳",1990:"庚午",1991:"辛未",1992:"壬申",1993:"癸酉",1994:"甲戌",1995:"乙亥",1996:"丙子",1997:"丁丑",1998:"戊寅",1999:"己卯",2e3:"庚辰",2001:"辛巳",2002:"壬午",2003:"癸未",2004:"甲申",2005:"乙酉",2006:"丙戌",2007:"丁亥",2008:"戊子",2009:"己丑",2010:"庚寅",2011:"辛卯",2012:"壬辰",2013:"癸巳",2014:"甲午",2015:"乙未",2016:"丙申",2017:"丁酉",2018:"戊戌",2019:"己亥",2020:"庚子",2021:"辛丑",2022:"壬寅",2023:"癸卯",2024:"甲辰",2025:"乙巳",2026:"丙午",2027:"丁未",2028:"戊申",2029:"己酉",2030:"庚戌",2031:"辛亥",2032:"壬子",2033:"癸丑",2034:"甲寅",2035:"乙卯",2036:"丙辰",2037:"丁巳",2038:"戊午",2039:"己未",2040:"庚申",2041:"辛酉",2042:"壬戌",2043:"癸亥",2044:"甲子",2045:"乙丑",2046:"丙寅",2047:"丁卯",2048:"戊辰",2049:"己巳",2050:"庚午"};const z={1:{name:"坎",branches:["子"]},2:{name:"坤",branches:["未","申"]},3:{name:"震",branches:["卯"]},4:{name:"巽",branches:["辰","巳"]},5:{name:"中",branches:[]},6:{name:"乾",branches:["戌","亥"]},7:{name:"兑",branches:["酉"]},8:{name:"艮",branches:["丑","寅"]},9:{name:"离",branches:["午"]}};function C(n,t,e=null){const r=function(n){const t=Y[n];return t?{gan:t.charAt(0),zhi:t.charAt(1)}:{gan:"",zhi:""}}(n),a=function(n,t,e=null){e||(e=(new Date).getFullYear());const r=e-n+1;if(r<=0)return{number:0,name:"",branches:[]};let a=0;const i=Math.floor(r/10);1===i?a=-2:2===i?a=-1:3===i?a=0:4===i?a=1:5===i?a=2:6===i?a=3:i>=7&&(a=0);const s=r+a;let c=0;c=s%10==0?Math.floor(s/10):s%10;let u=[],o="";if(0===c);else if(5===c)o="中",t?(u=z[8].branches,o="中(寄艮)"):(u=z[2].branches,o="中(寄坤)");else{const n=z[c];n&&(o=n.name,u=n.branches)}return{number:c,name:o,branches:u}}(n,t,e);return{benming:r,mingGong:a,birthYear:n,isMale:t,gender:t?"男":"女"}}export{C as a,t as b,f as c,x as d,E as e,e as f,r as g,d as h,a as i,k as j,B as k,p as l};
