import{h as e,j as a,k as l,c as t,w as n,i,o as s,a as o,b as u,v as h,x as r,C as c,t as f,u as d,F as m,y,z as g,e as p,S as _}from"./index-CThkDFsO.js";import{f as k}from"./shichen.C6pgosp-.js";import{a as b}from"./sizhu.CsmR9TSq.js";import{b as w,a as S}from"./nayin.CXZkGQfs.js";import{b as x,a as C}from"./colors.DRT-DOXg.js";import{_ as Z}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.BHYqNsFk.js";const I=["甲子","己卯","甲午","己酉"],v={1:["虚日鼠","张月鹿","室火猪","轸水蚓"],2:["奎木狼","亢金龙","胃土雉","房日兔"],3:["毕月乌","尾火虎","参水猿","斗木獬"],4:["鬼金羊","女土蝠","星日马","危月燕"],5:["翼火蛇","壁水貐","角木蛟","娄金狗"],6:["氐土貉","昴日鸡","心月狐","觜火猴"],7:["箕水豹","井木犴","牛金牛","柳土獐"]},Q=Date.UTC(2021,4,16);const B=["角","亢","氐","房","心","尾","箕","斗","牛","女","虚","危","室","壁","奎","娄","胃","昴","毕","觜","参","井","鬼","柳","星","张","翼","轸"],D={"木":["角","斗","奎","井"],"金":["亢","牛","娄","鬼"],"土":["氐","女","胃","柳"],"日":["房","虚","昴","星"],"月":["心","危","毕","张"],"火":["尾","室","觜","翼"],"水":["箕","壁","参","轸"]};function q(e){if(!e)return"";const a=e.charAt(0);for(const l in D)if(D[l].includes(a))return l;return""}const G={"木":["参","井","鬼","柳","星","张","翼","轸","角","亢","氐","房"],"金":["心","尾","箕","斗","牛","女","虚","危","室","壁","奎","娄"],"土":["胃","昴","毕","觜","参","井","鬼","柳","星","张","翼","轸"],"日":["角","亢","氐","房","心","尾","箕","斗","牛","女","虚","危"],"月":["室","壁","奎","娄","胃","昴","毕","觜","参","井","鬼","柳"],"火":["星","张","翼","轸","角","亢","氐","房","心","尾","箕","斗"],"水":["牛","女","虚","危","室","壁","奎","娄","胃","昴","毕","觜"]};const j={0:{"申子辰":"虚","巳酉丑":"房","寅午戌":"星","亥卯未":"昴"},1:{"申子辰":"毕","巳酉丑":"危","寅午戌":"心","亥卯未":"张"},2:{"申子辰":"翼","巳酉丑":"觜","寅午戌":"室","亥卯未":"尾"},3:{"申子辰":"箕","巳酉丑":"轸","寅午戌":"参","亥卯未":"壁"},4:{"申子辰":"奎","巳酉丑":"斗","寅午戌":"角","亥卯未":"井"},5:{"申子辰":"鬼","巳酉丑":"娄","寅午戌":"牛","亥卯未":"亢"},6:{"申子辰":"氐","巳酉丑":"柳","寅午戌":"胃","亥卯未":"女"}};const A={"木":["氐","房","心","尾","箕","斗","牛","女","虚","危","室","壁"],"金":["奎","娄","胃","昴","毕","觜","参","井","鬼","柳","星","张"],"土":["翼","轸","角","亢","氐","房","心","尾","箕","斗","牛","女"],"日":["虚","危","室","壁","奎","娄","胃","昴","毕","觜","参","井"],"月":["鬼","柳","星","张","翼","轸","角","亢","氐","房","心","尾"],"火":["箕","斗","牛","女","虚","危","室","壁","奎","娄","胃","昴"],"水":["毕","觜","参","井","鬼","柳","星","张","翼","轸","角","亢"]};const T={"木":"虚","金":"牛","土":"翼","日":"毕","月":"尾","火":"奎","水":"氐"};function z(e){if(!e)return"";return{"女":"子","虚":"子","危":"子","斗":"丑","牛":"丑","尾":"寅","箕":"寅","氐":"卯","房":"卯","心":"卯","角":"辰","亢":"辰","翼":"巳","轸":"巳","柳":"午","星":"午","张":"午","井":"未","鬼":"未","觜":"申","参":"申","胃":"酉","昴":"酉","毕":"酉","奎":"戌","娄":"戌","室":"亥","壁":"亥"}[e.charAt(0)]||""}function E(e,a,l){const t=e.getFullYear(),n=a.monthZhi,i=a.dayZhi,s=a.hourZhi,o=e.getDay(),u=l.qinxing,h=function(e){const a=(e+15)%28;return B[0===a?27:a-1]}(t),r=function(e,a){if(!e||!a)return"";const l=["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"].indexOf(a);return-1!==l&&G[e]?G[e][l]:""}(q(h),n),c=function(e,a){if(void 0===e||!a)return"";let l="";return["申","子","辰"].includes(a)?l="申子辰":["巳","酉","丑"].includes(a)?l="巳酉丑":["寅","午","戌"].includes(a)?l="寅午戌":["亥","卯","未"].includes(a)&&(l="亥卯未"),l&&j[e]?j[e][l]:""}(o,i),f=function(e,a){if(!e||!a)return"";const l=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].indexOf(a);return-1!==l&&A[e]?A[e][l]:""}(q(c),s),d=function(e,a){if(!e||!a)return"";const l=e.charAt(0),t=a.charAt(0),n=B.indexOf(l),i=B.indexOf(t);if(-1===n||-1===i)return"";let s=(n-i)%28;return s<0&&(s+=28),B[(n+s)%28]}(f,u),m=function(e,a,l){if(!e||!a||!l)return"";const t=T[a];if(!t)return"";const n=["寅","丑","子","亥","戌","酉","申","未","午","巳","辰","卯"],i=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];let s="",o=B.indexOf(t);for(let h=0;h<28;h++){let e=B[o%28],a=n[h%12];if(e===l){s=a;break}o++}if(!s)return"";let u=i.indexOf(s);for(let h=0;h<28;h++){let a=i[(u+h)%12],l=B[(o+h)%28];if(a===e)return l}return""}(s,q(f),f);return{nianQin:h,yueQin:r,riQin:c,shiQin:f,fanQin:d,huoYao:m,homeBranches:{huo:z(m),fan:z(d),shi:z(f),ri:z(c)}}}const M=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],X={"寅":"山","卯":"林","辰":"冈","巳":"汤","午":"火","未":"野","申":"刀","酉":"砧","戌":"路","亥":"江","子":"湖","丑":"田"};function Y(e){return X[e]||""}function K(e){return"日"===e?"火":"月"===e?"水":e}const O={"金":"巳","木":"亥","火":"寅","水":"申","土":"申"},W=["山","林","岗","汤","火","野","刀","砧","路","江","湖","田"],N=["山","水","田","园","井","刀","天","草","岸","风","汤火","月"];const R=["青龙","明堂","天刑","朱雀","金匮","天德","白虎","玉堂","天牢","玄武","司命","勾陈"];const V=["仓","屋","楼","野","池","竹","驿","桥","船","墙","穴","洞"];function $(e,a){if(!e||!a)return{};const l=function(e){const a=K(e),l=O[a];if(!l)return{};const t=M.indexOf(l),n={};for(let i=0;i<12;i++)n[M[(t+i)%12]]={nei:W[i],wai:N[i]};return n}(e),t=function(e){let a="";if(["卯","酉"].includes(e)?a="寅":["巳","亥"].includes(e)?a="午":["辰","戌"].includes(e)?a="辰":["寅","申"].includes(e)?a="子":["丑","未"].includes(e)?a="戌":["子","午"].includes(e)&&(a="申"),!a)return{};const l=M.indexOf(a),t={};for(let n=0;n<12;n++)t[M[(l+n)%12]]=R[n];return t}(a),n=function(e){const a=K(e),l=O[a];if(!l)return{};const t=M.indexOf(l),n={};for(let i=0;i<12;i++)n[M[(t+i)%12]]=V[i];return n}(e),i={};for(const s of M)i[s]={neiSuobo:Y(s),waiSuoboNei:l[s]?l[s].nei:"",waiSuoboWai:l[s]?l[s].wai:"",qinglong:t[s]||"",tianxing:n[s]||""};return i}const H=[{name:"角木蛟",element:"木",animal:"蛟",direction:"东",type:"水禽",nature:"野",time:"昼",swallow:"燕蝙牛獬鼠",fear:"犴蛇马",love:"鸡雉",meaning:"谋望"},{name:"亢金龙",element:"金",animal:"龙",direction:"东",type:"水禽",nature:"野",time:"昼",swallow:"燕蝙牛獬鼠",fear:"犴蛇马",love:"鸡雉",meaning:"谋望"},{name:"氐土貉",element:"土",animal:"貉",direction:"东",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡猪猴猿",fear:"獬犴羊豹虎狼狗鹿蛇",love:"狐",meaning:"求财"},{name:"房日兔",element:"日",animal:"兔",direction:"东",type:"山禽",nature:"野",time:"夜",swallow:"蛇蚓",fear:"狼狗虎豹獬猴",love:"雉",meaning:"文书"},{name:"心月狐",element:"月",animal:"狐",direction:"东",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡羊獬犴猪蛇",fear:"虎豹狼狗猿鼠",love:"貉",meaning:"坟墓"},{name:"尾火虎",element:"火",animal:"虎",direction:"东",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡獐马狗貉鹿兔蛇输狐猪牛猿猴羊狼",fear:"犴",love:"",meaning:"六畜"},{name:"箕水豹",element:"水",animal:"豹",direction:"东",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡獐马狗貉鹿兔蛇输狐猪牛猿猴羊狼",fear:"犴",love:"",meaning:"前程"},{name:"斗木獬",element:"木",animal:"獬",direction:"北",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡獐鹿貉羊猿兔输蚓",fear:"蛟龙狐鼠狼狗乌",love:"",meaning:"身命"},{name:"牛金牛",element:"金",animal:"牛",direction:"北",type:"家禽",nature:"家",time:"昼",swallow:"獐蛇蚓鹿",fear:"蛟龙狼虎豹乌",love:"",meaning:"种作"},{name:"女土蝠",element:"土",animal:"蝠",direction:"北",type:"天禽",nature:"家",time:"夜",swallow:"蚓",fear:"蛟龙蛇狗输马",love:"燕鼠",meaning:"婚姻"},{name:"虚日鼠",element:"日",animal:"鼠",direction:"北",type:"家禽",nature:"家",time:"夜",swallow:"雉鸡狐蚓燕獬猿",fear:"蛟龙猪狗鸟蛇输",love:"蝠",meaning:"盗贼"},{name:"危月燕",element:"月",animal:"燕",direction:"北",type:"天禽",nature:"家",time:"昼",swallow:"蚓",fear:"蛟龙狗蛇猪输鼠乌",love:"蝠",meaning:"胎运"},{name:"室火猪",element:"火",animal:"猪",direction:"北",type:"家禽",nature:"家",time:"昼",swallow:"燕鼠蛇蚓",fear:"虎豹犴貉狐狼狗乌",love:"",meaning:"家宅"},{name:"壁水貐",element:"水",animal:"貐",direction:"北",type:"水禽",nature:"野",time:"夜",swallow:"蝠鼠燕蛇蚓",fear:"獬马狼狗虎豹羊乌",love:"猿",meaning:"渔猎"},{name:"奎木狼",element:"木",animal:"狼",direction:"西",type:"山禽",nature:"野",time:"夜",swallow:"雉鸡鹿獐貉马兔输狐猪羊牛獬",fear:"虎豹犴",love:"",meaning:"考试"},{name:"娄金狗",element:"金",animal:"狗",direction:"西",type:"家禽",nature:"家",time:"昼",swallow:"雉鸡鹿獐貉蛇狐兔输燕鼠獬猪蝠羊猿猴",fear:"虎豹犴",love:"",meaning:"门庭"},{name:"胃土雉",element:"土",animal:"雉",direction:"西",type:"天禽",nature:"野",time:"昼",swallow:"蛇蚓",fear:"狗貉狼狐乌獬虎豹",love:"蛟",meaning:"技艺"},{name:"昴日鸡",element:"日",animal:"鸡",direction:"西",type:"家禽",nature:"家",time:"昼",swallow:"蛇蚓",fear:"狗貉狼狐乌獬虎豹",love:"蛟兔",meaning:"音信"},{name:"毕月乌",element:"月",animal:"乌",direction:"西",type:"天禽",nature:"野",time:"全",swallow:"蛟龙牛獬输雉鸡马蝠鼠燕蛇蚓猪",fear:"狐",love:"",meaning:"疾病"},{name:"觜火猴",element:"火",animal:"猴",direction:"西",type:"山禽",nature:"野",time:"昼",swallow:"兔蛇蚓",fear:"狗貉虎豹",love:"马",meaning:"谒见"},{name:"参水猿",element:"水",animal:"猿",direction:"西",type:"山禽",nature:"野",time:"昼",swallow:"狐獐",fear:"貉狗犴獬虎豹鼠",love:"输马",meaning:"买卖"},{name:"井木犴",element:"木",animal:"犴",direction:"南",type:"山禽",nature:"野",time:"昼",swallow:"虎豹猿鹿狼蛟龙貉猪狗",fear:"狐",love:"",meaning:"讼狱"},{name:"鬼金羊",element:"金",animal:"羊",direction:"南",type:"家禽",nature:"家",time:"昼",swallow:"蛇貉输",fear:"獐狗狼狐獬虎豹",love:"鹿",meaning:"逃失"},{name:"柳土獐",element:"土",animal:"獐",direction:"南",type:"山禽",nature:"野",time:"昼",swallow:"羊蛇",fear:"狗狼虎豹牛猿",love:"马",meaning:"喜事"},{name:"星日马",element:"日",animal:"马",direction:"南",type:"家禽",nature:"家",time:"昼",swallow:"输",fear:"虎豹乌狼",love:"猿猴獐",meaning:"出行"},{name:"张月鹿",element:"月",animal:"鹿",direction:"南",type:"山禽",nature:"野",time:"昼",swallow:"貉蛇",fear:"狼狗犴牛虎豹獬",love:"羊",meaning:"开店"},{name:"翼火蛇",element:"火",animal:"蛇",direction:"南",type:"山禽",nature:"野",time:"夜",swallow:"蛟龙貉燕鼠蝠",fear:"鸡雉猪输獐鹿狗兔狐虎豹獬牛猴乌羊",love:"",meaning:"行人"},{name:"轸水蚓",element:"水",animal:"蚓",direction:"南",type:"山禽",nature:"野",time:"夜",swallow:"泥土",fear:"鸡雉兔蝠鼠獬燕猪牛猴",love:"蛇",meaning:"进人"}];function F(e,a){var l;const t=function(e){return e?e.charAt(0):""}(e),n=null==(l={"角":{"辰":"化蜃龙/龙门正化/青龙缠柱","未":"蛟吞日月","丑":"蛟龙入斗","戌":"蛟龙失水 (贵入贱宫)","亥":"龙潜沧海","寅":"龙虎争珠","午":"龙在汤镬","卯":"蛟跃雷门","子":"龙居大海","申":"西海得珠","酉":"西海得珠"},"亢":{"辰":"化蜃龙/帝庭缠柱","午":"龙在汤镬","亥":"困龙出井 (吉)","卯":"龙警溪涧","未":"龙奔枯井 (不利)"},"氐":{"卯":"本庙/貉化天麒","戌":"貉化通天","巳":"貉入鱼池","未":"貉化貔貅","亥":"登水府/食天禄","寅":"貉化狮子","申":"察微 (防失脱)","子":"古镜重磨 (除旧立新)","辰":"大隐"},"房":{"卯":"本庙/兔入本垣","午":"入帝庭/蟾宫","酉":"玉兔吞霞/玉兔守株 (宜变)","辰":"兔入龙穴","子":"兔化玉兔","巳":"灯照空房 (忌)","丑":"隔江射兔 (阻隔)"},"心":{"卯":"本庙/貔貅","丑":"狐化飞虎","午":"狐登玉殿/贮格","辰":"狐升帝座","寅":"狐假虎威 (吉)","戌":"阴阳不备 (不利)","亥":"狐化玄狐"},"尾":{"寅":"本庙/虎口吞霞","卯":"困虎归山 (吉)","巳":"虎啸西风","酉":"虎居龙凤楼","亥":"醉虎朝天/猛虎出林","未":"两虎争岩"},"箕":{"寅":"本庙/貔貅","戌":"豹变飞龙","亥":"豹化飞天","巳":"豹啸西风","卯":"豹化猛虎","子":"豹逢禄位/豹变 (宜变迁)","午":"豹化狮子","申":"豹伤弓弩 (防坑陷)","辰":"虎落陷阱 (皮毛伤)"},"斗":{"丑":"本庙/出明入暗 (伏断)","寅":"斗化麒麟","卯":"斗化麒麟","子":"斗朝帝阙","亥":"斗居台阁","辰":"斗食蛇蚓","巳":"顺曲落陷 (先难后易)","酉":"游鱼弄波 (受刑，忌贪)"},"牛":{"丑":"本庙/卧禾田","子":"犀牛得珠/牛女相逢","辰":"牛乘巽风/入龙庭","午":"牛入银河/会星桥/耕石田","申":"牛化引驾","未":"牛卧荒郊","寅":"负重山 (出行忌)","戌":"犀牛折角 (三刑)"},"女":{"子":"本庙/富贵","亥":"蝠化天蟾/金钗落井","午":"蝠舞殿阁","丑":"牛女相逢","申":"蝠入金门","卯":"蝠化假风/妖女鹰网 (网罗)","未":"阴煞"},"虚":{"子":"本庙/伏断 (多虚)","午":"鼠入天仓","寅":"鼠化玄豹","酉":"鼠化玉尺","申":"鼠入刀砧/五虚六耗","戌":"鼠化飞鸟","辰":"近贤圣座 / 遥望有气"},"危":{"子":"本庙","卯":"燕语雕梁","酉":"燕化祥鸾/紫燕栖梁","丑":"燕化大鹏/船下急滩","巳":"燕乘巽风/燕垒南枝 (自丧其园)","申":"燕隐明珠","辰":"燕藏幽谷/燕化蚌蛤"},"室":{"亥":"本庙","戌":"猪跃天池/室揖囚禁 (暗昧)","辰":"猪游龙位","午":"猪身挂甲/小舟失楫","寅":"猪化熊罴/猪入虎穴 (凶险)","未":"猪入天河","子":"猪化龙猪","巳":"猪食蛇蚓"},"壁":{"亥":"本庙/伏殃遭侮","申":"挂金鞍","辰":"化蛟龙","午":"跃天津","未":"受封爵/朋友失助 (逆宫)","子":"化象/流獭","卯":"庶几比用 (宜依傍)"},"奎":{"戌":"本庙/守天门","午":"狼行宝殿","寅":"狼化貔貅","卯":"猛虎/逐山兔","巳":"狼逢巽风","辰":"游子不定 / 神狼","丑":"狼化猛兽","未":"狼食羊","申":"缀花结子 (得地)","子":"镜挂妆台"},"娄":{"戌":"本庙","辰":"化天獒","子":"犬正大宰/黑道","巳":"犬行厨库/铸印 (喜迁)","酉":"犬入刀砧/掘井挖泉 (需借力)","丑":"天狱/天仓饭食 (墓宫)","寅":"犬化猛虎","亥":"犬化天獓"},"胃":{"酉":"本庙","辰":"化丹凤","戌":"海蜃/凤凰在笼","午":"五德丹凤","巳":"喜巽凤","丑":"雉飞田禾","寅":"化彩凤/白鹏/斩关","申":"雉得明珠"},"昴":{"酉":"本庙","子":"金鸡叫日","卯":"鸡栖日角/凤凰失巢","辰":"鸡鸣明方/海蜃","巳":"鸡得蛇蚓","亥":"鸡唱黄昏 (不宜远行)","未":"凤凰折翅"},"毕":{"酉":"本庙/凤阁","辰":"飞龙背/云遮明月","子":"狂鸦乱噪 (多是非)","亥":"飞天门/啄猪食","卯":"栖日角","巳":"食蚯蚓","午":"上宝殿","寅":"化大鹏","丑":"啄金牛","申":"灵雀捕蟾 (防暗算)"},"觜":{"申":"本庙","辰":"猴行锦野/水府真人","子":"猴捧宝瓶","寅":"飞仙跨虎","亥":"通天大圣","午":"猴骑仙鹿/猴扳马背","卯":"猴得灵天/金锁雷门","酉":"朱口破石 (众人议)","未":"金丝玉面","巳":"逆风把火","丑":"猴在高园 (秋冬亨通)"},"参":{"申":"本庙/猴化金狨","寅":"飞仙跨虎/猿啼夜月 (多虚)","午":"猴骑仙鹿/顺水行舟 (旺)","卯":"猿猴献果","酉":"猿藏柳圃","辰":"猴行锦野/骑龙背","戌":"孤猿失伴","亥":"通天大圣"},"井":{"未":"本庙/刻舟待信","子":"麒麟当朝/狮子","巳":"飞犴乘风","丑":"官掌六部","卯":"孤雁失群 (防口舌)","辰":"犴食蛟龙","寅":"犴入虎穴","亥":"飞雁衔芦"},"鬼":{"未":"本庙/羊走草野","辰":"羊化白泽/羝羊触藩","子":"羊化仙羊/五鬼争持","丑":"逐牛马/走草野","午":"羚羊","寅":"羊披虎皮","申":"夜行失路 (暗昧)"},"柳":{"午":"本庙/化狻猊","辰":"化仙獐/乌头宰相","巳":"逢禄位/丑妇照镜 (不吉)","子":"化麒麟","卯":"游仙洞","寅":"獐鹿衔花","丑":"九丑 (多争端)","酉":"醉人过槛"},"星":{"午":"本庙/披金鞍/三光普照","戌":"马趋天庭/白虹贯日","辰":"化龙驹","酉":"朝金銮","未":"马行天驿","卯":"马游金街","申":"马饮夏泉","亥":"驿骝浴海","寅":"陆地行舟"},"张":{"午":"本庙/鹿走天庭","辰":"化狻猊","寅":"白鹿衔花","亥":"化天鹿/稼樯 (中平)","酉":"鹿朝金殿/游仙洞","卯":"鹿戴花冠/玄胎","未":"天网四张 (不吉)"},"翼":{"巳":"本庙/蜃龙","卯":"化雷门","亥":"蛇化苍龙","辰":"化天龙/鱼跃龙门","寅":"化大蟒","午":"化大蟒","申":"枯木摇风 (不吉)","子":"取方成圆"},"轸":{"巳":"本庙/宝车无轮/乘车逐马","寅":"化大蟒","卯":"化大蟒","亥":"入龙庭","丑":"化灵龟/斫轮 (宜婉转)","辰":"起虹蜺","酉":"东轩坠马 (意外)"}}[t])?void 0:l[a];return n||"此宫平稳，无显著变化。"}const U=Z({data:()=>({currentTime:"",customDateTime:null,useCustomTime:!1,isHuoshi:!1,huoshiNumber:null,huoshiShichen:null,siZhu:{yearGan:"",yearZhi:"",monthGan:"",monthZhi:"",dayGan:"",dayZhi:"",hourGan:"",hourZhi:""},siZhuExtra:{year:{xunKong:"",nayin:"",nayinColor:""},month:{xunKong:"",nayin:"",nayinColor:""},day:{xunKong:"",nayin:"",nayinColor:""},hour:{xunKong:"",nayin:"",nayinColor:""}},futouInfo:null,sikeInfo:null,palaceInfo:null,activeQinBtn:"ri",globalShenSha:null,palaceShenSha:{},isModalVisible:!1,modalData:{},isGlobalShenShaVisible:!1}),computed:{isGlobalShenShaEmpty(){return!this.globalShenSha||0===this.globalShenSha.jinTui.length&&0===this.globalShenSha.fuDuan.length&&0===this.globalShenSha.guiRen.length&&0===this.globalShenSha.tuiQi.length&&0===this.globalShenSha.others.length},gridRows:()=>[["巳","午","未","申"],["辰",null,null,"酉"],["卯",null,null,"戌"],["寅","丑","子","亥"]]},onLoad(e){e&&e.datetime&&(this.customDateTime=decodeURIComponent(e.datetime),this.useCustomTime=!0),e&&"1"===e.method&&(this.isHuoshi=!0,e.huoshiNumber&&(this.huoshiNumber=parseInt(e.huoshiNumber)),e.huoshiShichen&&(this.huoshiShichen=e.huoshiShichen)),this.updateData()},methods:{goBack(){e().length>1?a():l({url:"/pages/yanqin/start/start"})},updateData(){let e,a;e=this.useCustomTime&&this.customDateTime?new Date(this.customDateTime):new Date,this.currentTime=k(e),this.isHuoshi&&this.huoshiShichen&&(a=this.huoshiShichen),this.siZhu=b(e,a),this.calculateSiZhuExtra(),this.futouInfo=function(e){e||(e=new Date);const a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());let l=Math.floor((a-Q)/864e5);l<0?l=(l%420+420)%420:l%=420;const t=Math.floor(l/60)+1,n=l%60,i=Math.floor(n/15),s=I[i],o=v[t][i],u={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七"};return{yuan:t,yuanStr:u[t]+"元",futou:s,qinxing:o,displayStr:`${u[t]}元 ${s} ${o}`}}(e),this.sikeInfo=E(e,this.siZhu,this.futouInfo),this.calculateYanqin()},calculateSiZhuExtra(){const e=(e,a)=>{if(!e||!a)return{xunKong:"",nayin:"",nayinColor:""};const l=w(e,a),t=l?l.join(""):"",n=S(e,a);return{xunKong:t,nayin:n.nayin||"",nayinColor:C(n.nayin?n.nayin.charAt(n.nayin.length-1):"")||"#999"}};this.siZhuExtra={year:e(this.siZhu.yearGan,this.siZhu.yearZhi),month:e(this.siZhu.monthGan,this.siZhu.monthZhi),day:e(this.siZhu.dayGan,this.siZhu.dayZhi),hour:e(this.siZhu.hourGan,this.siZhu.hourZhi)}},switchQin(e){this.activeQinBtn=e,this.calculateYanqin()},calculateYanqin(){if(!this.sikeInfo||!this.siZhu.hourZhi)return;let e="";if("ri"===this.activeQinBtn&&(e=this.sikeInfo.riQin),"shi"===this.activeQinBtn&&(e=this.sikeInfo.shiQin),"fan"===this.activeQinBtn&&(e=this.sikeInfo.fanQin),"huo"===this.activeQinBtn&&(e=this.sikeInfo.huoYao),e){const a=q(e);this.palaceInfo=$(a,this.siZhu.hourZhi),this.calcShenSha()}},calcShenSha(){var e,a,l,t,n,i,s,o,u,h;const r=[this.siZhu.yearGan+this.siZhu.yearZhi,this.siZhu.monthGan+this.siZhu.monthZhi,this.siZhu.dayGan+this.siZhu.dayZhi,this.siZhu.hourGan+this.siZhu.hourZhi],c=this.siZhu.monthZhi;let f="春";["寅","卯","辰"].includes(c)&&(f="春"),["巳","午","未"].includes(c)&&(f="夏"),["申","酉","戌"].includes(c)&&(f="秋"),["亥","子","丑"].includes(c)&&(f="冬");const d=[];["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach((e=>{if(this.palaceInfo&&this.palaceInfo[e]){const a=this.palaceInfo[e].tianxing,l=H.find((e=>e.name.startsWith(a)));d.push({zhi:e,qinxing:l?l.name:a})}}));const m=(null==(e=this.sikeInfo)?void 0:e.riQin)||"",y=(null==(a=this.sikeInfo)?void 0:a.shiQin)||"",g=(null==(l=H.find((e=>e.name.startsWith(m))))?void 0:l.name)||m,p=(null==(t=H.find((e=>e.name.startsWith(y))))?void 0:t.name)||y;let _="";"ri"===this.activeQinBtn&&(_=this.sikeInfo.riQin),"shi"===this.activeQinBtn&&(_=this.sikeInfo.shiQin),"fan"===this.activeQinBtn&&(_=this.sikeInfo.fanQin),"huo"===this.activeQinBtn&&(_=this.sikeInfo.huoYao);const k=(null==(n=H.find((e=>e.name.startsWith(null==_?void 0:_.charAt(0)))))?void 0:n.name)||"",b=(null==(i=this.sikeInfo)?void 0:i.nianQin)||"",w=(null==(s=this.futouInfo)?void 0:s.qinxing)||"",S=function(e){const{bazi:a,dayQin:l,hourQin:t,season:n,yuan:i,palaces:s}=e;a.join("");const o=a[2]?a[2].charAt(0):"",u=a[2]?a[2].charAt(1):"";a[3]&&a[3].charAt(0);const h=a[3]?a[3].charAt(1):"",r=a[1]?a[1].charAt(1):"",c=e.nianQin||"",f=e.futouQin||"",d=e.activeQin||"",m={jinTui:[],guiRen:[],fuDuan:[],tuiQi:[],others:[]},y={"子":[],"丑":[],"寅":[],"卯":[],"辰":[],"巳":[],"午":[],"未":[],"申":[],"酉":[],"戌":[],"亥":[]},g=new Set(a);g.has("戊寅")&&y["寅"].push("狸窝(虎豹窝)"),g.has("戊辰")&&y["辰"].push("鲸窝(龙窝)"),g.has("戊申")&&y["申"].push("猱窝(猴窝)"),g.has("戊戌")&&y["戌"].push("豺狼窝"),g.has("己丑")&&y["丑"].push("龟窝"),g.has("己巳")&&y["巳"].push("泥鳝窝"),g.has("己未")&&y["未"].push("鹰煞"),g.has("己亥")&&y["亥"].push("熊窝"),["甲辰","乙巳","丙申","丁亥","戊戌","己丑","庚辰","辛巳","壬申","癸亥"].includes(a[2])&&m.others.push("十恶大败日"),{"子":"虚日鼠","丑":"斗木獬","寅":"室火猪","卯":"女土蝠","辰":"箕水豹","巳":"房日兔","午":"角木蛟","未":"张月鹿","申":"鬼金羊","酉":"觜火猴","戌":"胃土雉","亥":"壁水貐"}[u]===l&&m.fuDuan.push("日伏断"),"春"===n&&"箕水豹"===l&&m.others.push("罗禁日"),"夏"===n&&"轸水蚓"===l&&m.others.push("罗禁日"),"秋"===n&&"参水猿"===l&&m.others.push("罗禁日"),"冬"===n&&"壁水貐"===l&&m.others.push("罗禁日");const p=(e,a)=>{"鬼金羊"===e&&m.others.push(`${a}逢劫煞`),"虚日鼠"===e&&m.others.push(`${a}逢虚耗`),"柳土獐"===e&&m.others.push(`${a}逢天禧`)};p(l,"日禽"),p(t,"时禽");const _={"寅":{sha:"虚",r:"丑",liuXueZhi:["辰","戌","丑","未"]},"卯":{sha:"室",r:"寅",liuXueZhi:["寅","申","巳","亥"]},"辰":{sha:"奎",r:"申",liuXueZhi:["子","午","卯","酉"]},"巳":{sha:"胃",r:"未",liuXueZhi:["辰","戌","丑","未"]},"午":{sha:"毕",r:"卯",liuXueZhi:["寅","申","巳","亥"]},"未":{sha:"井",r:"酉",liuXueZhi:["子","午","卯","酉"]},"申":{sha:"星",r:"辰",liuXueZhi:["辰","戌","丑","未"]},"酉":{sha:"翼",r:"戌",liuXueZhi:["寅","申","巳","亥"]},"戌":{sha:"角",r:"巳",liuXueZhi:["子","午","卯","酉"]},"亥":{sha:"氐",r:"亥",liuXueZhi:["辰","戌","丑","未"]},"子":{sha:"尾",r:"午",liuXueZhi:["寅","申","巳","亥"]},"丑":{sha:"斗",r:"子",liuXueZhi:["子","午","卯","酉"]}};if(r&&_[r]){const e=_[r];l&&l.startsWith(e.sha)&&m.others.push("犯捍杀星"),u===e.r&&m.others.push("犯血刃日"),e.liuXueZhi.includes(h)&&m.others.push("逢流血时")}({"木":"未","金":"辰","土":"卯","日":"午","月":"寅","火":"巳","水":"申"})[q(t)]===h&&m.guiRen.push("七曜贵人");const k=q(l);if("木"===k&&["辰","亥"].includes(h)&&m.fuDuan.push("时禽遇伏断"),"金"===k&&"申"===h&&m.fuDuan.push("时禽遇伏断"),"土"===k&&"巳"===h&&m.fuDuan.push("时禽遇伏断"),"日"===k&&["子","寅","酉"].includes(h)&&m.fuDuan.push("时禽遇伏断"),"月"===k&&"午"===h&&m.fuDuan.push("时禽遇伏断"),"火"===k&&["丑","卯","戌"].includes(h)&&m.fuDuan.push("时禽遇伏断"),"水"===k&&"未"===h&&m.fuDuan.push("时禽遇伏断"),f){const e=f.charAt(0),a=B.indexOf(e);if(-1!==a){let e=(a-14)%28;e<0&&(e+=28);const n=B[e],i=B[(a+13)%28],s=B[(a+1)%28];let o=(a-13)%28;o<0&&(o+=28);const u=B[o],h=l.charAt(0),r=t.charAt(0);h===n&&m.jinTui.push("日禽为进星"),h===i&&m.jinTui.push("日禽为退星"),h===s&&m.jinTui.push("日禽为退中退"),h===u&&m.jinTui.push("日禽为退中进"),r===n&&m.jinTui.push("时禽为进星"),r===i&&m.jinTui.push("时禽为退星"),r===s&&m.jinTui.push("时禽为退中退"),r===u&&m.jinTui.push("时禽为退中进")}}const b={1:["柳土獐","轸水蚓"],2:["轸水蚓","氐土貉"],3:["房日兔","亢金龙","室火猪"],4:["斗木獬","虚日鼠"],5:["危月燕","鬼金羊"],6:["亢金龙","壁水貐"],7:["觜火猴","张月鹿"]};b[i]&&b[i].includes(l)&&m.jinTui.push("特遇退神"),{"甲":"星日马","己":"星日马","乙":"亢金龙","庚":"亢金龙","丙":"鬼金羊","辛":"鬼金羊","丁":"翼火蛇","壬":"翼火蛇","戊":"觜火猴","癸":"觜火猴"}[o]===l&&m.tuiQi.push("日禽十三退气"),d&&"奎木狼"===d&&"亢金龙"===l&&m.tuiQi.push("当禽遇亢犯退气"),d&&"牛金牛"===d&&"亢金龙"===l&&m.tuiQi.push("当禽遇亢犯退气"),d&&"星日马"===d&&"角木蛟"===l&&m.tuiQi.push("当禽遇角犯退气");const w={"庚子":{"角木蛟":"蜈蚣煞","亢金龙":"蜈蚣煞","箕水豹":"陷阱煞"},"辛丑":{"角木蛟":"蜈蚣煞","亢金龙":"蜈蚣煞"},"甲戌":{"氐土貉":"豺狼煞"},"戊申":{"氐土貉":"豺狼煞"},"乙未":{"房日兔":"鹰煞","尾火虎":"犴煞","奎木狼":"犴煞"},"庚戌":{"心月狐":"犬煞","室火猪":"屠人煞","参水猿":"猎犬煞"},"庚申":{"斗木獬":"刀砧煞"},"辛酉":{"斗木獬":"刀砧煞"},"丙寅":{"牛金牛":"虎豹煞","娄金狗":"虎豹煞","觜火猴":"焚穴煞","鬼金羊":"虎豹煞","张月鹿":"虎豹煞"},"壬寅":{"牛金牛":"虎豹煞","娄金狗":"虎豹煞","鬼金羊":"虎豹煞","张月鹿":"虎豹煞"},"甲午":{"女土蝠":"大棒煞"},"庚寅":{"虚日鼠":"猫狸煞"},"戊寅":{"危月燕":"黄狸煞","胃土雉":"狸煞"},"己巳":{"壁水貐":"鳝煞"},"癸卯":{"胃土雉":"狸煞","昴日鸡":"狸煞"},"己卯":{"昴日鸡":"狸煞"},"甲申":{"毕月乌":"天箭煞","柳土獐":"天箭煞"},"丙子":{"井木犴":"溺水煞"},"丁酉":{"星日马":"焚厩煞","轸水蚓":"火鸡煞"},"丁亥":{"翼火蛇":"蜈蚣煞"}};d&&a.forEach((e=>{w[e]&&w[e][d]&&m.others.push(`当禽犯${w[e][d]}`)}));const S={"己巳":"蝼蚁煞","丙戌":"囚禁/烧崖/烧野煞","庚申":"囚禁/刀砧/钁锹煞(牛忌/头蹄)","戊午":"霹雳煞","乙未":"枯涸煞","戊辰":"赑屃煞(负重)","戊申":"赑屃煞(负重)","丁未":"玄针/勾绞/烧野煞","辛丑":"蜈蚣煞","丁巳":"破栏圈煞/退皮","丁酉":"破栏圈煞","甲戌":"毒药煞/天罗","庚午":"毒药/钁锹/头蹄","丙午":"勾绞煞","庚子":"钁锹煞","甲寅":"棒杖煞(受责)","壬子":"没溺煞","壬辰":"暴水/没溺/漂荡(刑虎)","癸亥":"没溺煞","庚寅":"头蹄煞/犁锄","辛未":"头蹄煞","丙寅":"火烧山/刑虎煞","丁卯":"火烧山煞","甲辰":"地网","乙亥":"天罗","辛卯":"犁锄","戊子":"驱龙使者(压伏)","癸卯":"刑虎煞","丁亥":"猪啖煞"};if(a.forEach((e=>{if(S[e]){const a=`课局遇${S[e]}`;m.others.includes(a)||m.others.push(a)}})),c){const e=q(c);"木"===e&&"午"===u&&"角木蛟"===l&&m.fuDuan.push("暗金伏断日"),"金"===e&&"丑"===u&&"斗木獬"===l&&m.fuDuan.push("暗金伏断日"),"金"===e&&"申"===u&&"鬼金羊"===l&&m.fuDuan.push("暗金伏断日"),"土"===e&&"卯"===u&&"女土蝠"===l&&m.fuDuan.push("暗金伏断日"),"土"===e&&"戌"===u&&"胃土雉"===l&&m.fuDuan.push("暗金伏断日"),"日"===e&&"巳"===u&&"房日兔"===l&&m.fuDuan.push("暗金伏断日"),"月"===e&&"子"===u&&"虚日鼠"===l&&m.fuDuan.push("暗金伏断日"),"月"===e&&"未"===u&&"张月鹿"===l&&m.fuDuan.push("暗金伏断日"),"火"===e&&"酉"===u&&"觜火猴"===l&&m.fuDuan.push("暗金伏断日"),"火"===e&&"寅"===u&&"室火猪"===l&&m.fuDuan.push("暗金伏断日"),"水"===e&&"辰"===u&&"箕水豹"===l&&m.fuDuan.push("暗金伏断日"),"水"===e&&"亥"===u&&"壁水貐"===l&&m.fuDuan.push("暗金伏断日")}return"井木犴"===l&&"斗木獬"===t&&"巳"===h&&m.others.push("流血时(特殊)"),"牛金牛"===l&&"鬼金羊"===t&&"申"===h&&m.others.push("流血时(特殊)"),"娄金狗"===l&&"奎木狼"===t&&"子"===h&&m.others.push("流血时(特殊)"),"觜火猴"===l&&"箕水豹"===t&&"子"===h&&m.others.push("流血时(特殊)"),"翼火蛇"===l&&"牛金牛"===t&&"寅"===h&&m.others.push("流血时(特殊)"),"壁水貐"===l&&"觜火猴"===t&&"丑"===h&&m.others.push("流血时(特殊)"),"参水猿"===l&&"翼火蛇"===t&&"申"===h&&m.others.push("流血时(特殊)"),"虚日鼠"===l&&"亢金龙"===d&&m.others.push("百祸禽(虚遇亢)"),"室火猪"===t&&"奎木狼"===d&&m.others.push("百祸禽(室遇奎)"),"胃土雉"===l&&"翼火蛇"===d&&m.others.push("百祸禽(胃遇翼)"),{globalShenSha:m,palaceShenSha:y}}({bazi:r,dayQin:g,hourQin:p,nianQin:(null==(o=H.find((e=>e.name.startsWith(b))))?void 0:o.name)||b,futouQin:(null==(u=H.find((e=>e.name.startsWith(w))))?void 0:u.name)||w,season:f,yuan:(null==(h=this.futouInfo)?void 0:h.yuan)||1,palaces:d,activeQin:k});this.globalShenSha=S.globalShenSha,this.palaceShenSha=S.palaceShenSha},openModal(e){if(console.log("openModal clicked for zhi:",e),!this.palaceInfo||!this.palaceInfo[e])return;let a="";if("ri"===this.activeQinBtn&&(a=this.sikeInfo.riQin),"shi"===this.activeQinBtn&&(a=this.sikeInfo.shiQin),"fan"===this.activeQinBtn&&(a=this.sikeInfo.fanQin),"huo"===this.activeQinBtn&&(a=this.sikeInfo.huoYao),!a)return;const l=H.find((e=>e.name.startsWith(a.charAt(0))));l&&(this.modalData={qinxingName:l.name,palaceZhi:e,element:l.element,type:l.type,nature:l.nature,time:l.time,swallow:l.swallow,fear:l.fear,love:l.love,meaning:l.meaning,lockPattern:F(l.name,e)},this.isModalVisible=!0)},closeModal(){this.isModalVisible=!1},openGlobalShenShaModal(){this.isGlobalShenShaVisible=!0},closeGlobalShenShaModal(){this.isGlobalShenShaVisible=!1},getColorByChar(e){if(!e)return"#333";const a=q(e);return a?"日"===a?"#b1d562":"月"===a?"#d46383":x(a):C(e)||"#333"},getDipanColor:e=>C(e)||"#333"}},[["render",function(e,a,l,k,b,w){const S=p,x=i,C=_;return s(),t(x,{class:"container"},{default:n((()=>[o(x,{class:"nav-bar"},{default:n((()=>[o(x,{class:"left-actions"},{default:n((()=>[o(x,{class:"back-btn",onClick:w.goBack},{default:n((()=>[o(S,{class:"back-icon"},{default:n((()=>[u("←")])),_:1}),o(S,{class:"back-text"},{default:n((()=>[u("返回")])),_:1})])),_:1},8,["onClick"])])),_:1}),o(S,{class:"nav-title"},{default:n((()=>[u("演禽排盘")])),_:1}),o(x,{class:"nav-placeholder"})])),_:1}),b.isHuoshi?(s(),t(x,{key:0,class:"huoshi-indicator"},{default:n((()=>[o(S,{class:"huoshi-text"},{default:n((()=>[u("活时起课 · 取数 "+h(b.huoshiNumber)+" · "+h(b.huoshiShichen)+"时",1)])),_:1})])),_:1})):r("",!0),o(x,{class:"info-card"},{default:n((()=>[o(x,{class:"bazi-wrapper"},{default:n((()=>[o(x,{class:"bazi-row compact-row"},{default:n((()=>[o(S,{class:"row-label"},{default:n((()=>[u("公历：")])),_:1}),o(S,{class:"row-value"},{default:n((()=>[u(h(b.currentTime),1)])),_:1})])),_:1}),b.siZhu?(s(),t(x,{key:0,class:"bazi-table"},{default:n((()=>[o(x,{class:"table-row table-header"},{default:n((()=>[o(x,{class:"table-cell"},{default:n((()=>[o(S,null,{default:n((()=>[u("年柱")])),_:1})])),_:1}),o(x,{class:"table-cell"},{default:n((()=>[o(S,null,{default:n((()=>[u("月柱")])),_:1})])),_:1}),o(x,{class:"table-cell"},{default:n((()=>[o(S,null,{default:n((()=>[u("日柱")])),_:1})])),_:1}),o(x,{class:"table-cell"},{default:n((()=>[o(S,null,{default:n((()=>[u("时柱")])),_:1})])),_:1})])),_:1}),o(x,{class:"table-row"},{default:n((()=>[o(x,{class:"table-cell ganzhi-cell"},{default:n((()=>[o(S,{style:c({color:w.getColorByChar(b.siZhu.yearGan)})},{default:n((()=>[u(h(b.siZhu.yearGan),1)])),_:1},8,["style"]),o(S,{style:c({color:w.getColorByChar(b.siZhu.yearZhi)})},{default:n((()=>[u(h(b.siZhu.yearZhi),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"table-cell ganzhi-cell"},{default:n((()=>[o(S,{style:c({color:w.getColorByChar(b.siZhu.monthGan)})},{default:n((()=>[u(h(b.siZhu.monthGan),1)])),_:1},8,["style"]),o(S,{style:c({color:w.getColorByChar(b.siZhu.monthZhi)})},{default:n((()=>[u(h(b.siZhu.monthZhi),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"table-cell ganzhi-cell"},{default:n((()=>[o(S,{style:c({color:w.getColorByChar(b.siZhu.dayGan)})},{default:n((()=>[u(h(b.siZhu.dayGan),1)])),_:1},8,["style"]),o(S,{style:c({color:w.getColorByChar(b.siZhu.dayZhi)})},{default:n((()=>[u(h(b.siZhu.dayZhi),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"table-cell ganzhi-cell"},{default:n((()=>[o(S,{style:c({color:w.getColorByChar(b.siZhu.hourGan)})},{default:n((()=>[u(h(b.siZhu.hourGan),1)])),_:1},8,["style"]),o(S,{style:c({color:w.getColorByChar(b.siZhu.hourZhi)})},{default:n((()=>[u(h(b.siZhu.hourZhi),1)])),_:1},8,["style"])])),_:1})])),_:1}),o(x,{class:"table-row"},{default:n((()=>[o(x,{class:"table-cell xunkong-cell"},{default:n((()=>[(s(!0),f(m,null,d(b.siZhuExtra.year.xunKong,((e,a)=>(s(),t(S,{key:a,style:c({color:w.getColorByChar(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"])))),128))])),_:1}),o(x,{class:"table-cell xunkong-cell"},{default:n((()=>[(s(!0),f(m,null,d(b.siZhuExtra.month.xunKong,((e,a)=>(s(),t(S,{key:a,style:c({color:w.getColorByChar(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"])))),128))])),_:1}),o(x,{class:"table-cell xunkong-cell"},{default:n((()=>[(s(!0),f(m,null,d(b.siZhuExtra.day.xunKong,((e,a)=>(s(),t(S,{key:a,style:c({color:w.getColorByChar(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"])))),128))])),_:1}),o(x,{class:"table-cell xunkong-cell"},{default:n((()=>[(s(!0),f(m,null,d(b.siZhuExtra.hour.xunKong,((e,a)=>(s(),t(S,{key:a,style:c({color:w.getColorByChar(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"])))),128))])),_:1})])),_:1}),o(x,{class:"table-row"},{default:n((()=>[o(S,{class:"table-cell nayin-cell",style:c({color:b.siZhuExtra.year.nayinColor})},{default:n((()=>[u(h(b.siZhuExtra.year.nayin),1)])),_:1},8,["style"]),o(S,{class:"table-cell nayin-cell",style:c({color:b.siZhuExtra.month.nayinColor})},{default:n((()=>[u(h(b.siZhuExtra.month.nayin),1)])),_:1},8,["style"]),o(S,{class:"table-cell nayin-cell",style:c({color:b.siZhuExtra.day.nayinColor})},{default:n((()=>[u(h(b.siZhuExtra.day.nayin),1)])),_:1},8,["style"]),o(S,{class:"table-cell nayin-cell",style:c({color:b.siZhuExtra.hour.nayinColor})},{default:n((()=>[u(h(b.siZhuExtra.hour.nayin),1)])),_:1},8,["style"])])),_:1})])),_:1})):r("",!0),b.futouInfo?(s(),t(x,{key:1,class:"bazi-row compact-row",style:{"margin-top":"10rpx",display:"flex","justify-content":"center","align-items":"center"}},{default:n((()=>[o(S,{class:"row-label"},{default:n((()=>[u("符头：")])),_:1}),o(S,{class:"futou-text"},{default:n((()=>[o(S,null,{default:n((()=>[u(h(b.futouInfo.yuanStr)+"  ",1)])),_:1}),o(S,{style:c({color:w.getColorByChar(b.futouInfo.futou.charAt(0))})},{default:n((()=>[u(h(b.futouInfo.futou.charAt(0)),1)])),_:1},8,["style"]),o(S,{style:c({color:w.getColorByChar(b.futouInfo.futou.charAt(1))})},{default:n((()=>[u(h(b.futouInfo.futou.charAt(1))+"  ",1)])),_:1},8,["style"]),o(S,{class:"qinxing-text"},{default:n((()=>[u(h(b.futouInfo.qinxing),1)])),_:1})])),_:1})])),_:1})):r("",!0)])),_:1})])),_:1}),b.sikeInfo?(s(),t(x,{key:1,class:"sike-board info-card"},{default:n((()=>[o(x,{class:"sike-table"},{default:n((()=>[o(x,{class:"sike-col"},{default:n((()=>[o(S,{class:"sike-label"},{default:n((()=>[u("活")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.huo)})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.huo),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.huoYao)})},{default:n((()=>[u(h(b.sikeInfo.huoYao),1)])),_:1},8,["style"]),o(S,{class:"sike-qin2",style:c({color:w.getColorByChar(b.sikeInfo.shiQin)})},{default:n((()=>[u(h(b.sikeInfo.shiQin),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"sike-col"},{default:n((()=>[o(S,{class:"sike-label"},{default:n((()=>[u("番")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.fan)})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.fan),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.fanQin)})},{default:n((()=>[u(h(b.sikeInfo.fanQin),1)])),_:1},8,["style"]),o(S,{class:"sike-qin2",style:c({color:w.getColorByChar(b.sikeInfo.riQin)})},{default:n((()=>[u(h(b.sikeInfo.riQin),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"sike-col"},{default:n((()=>[o(S,{class:"sike-label"},{default:n((()=>[u("时")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.shi)})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.shi),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.shiQin)})},{default:n((()=>[u(h(b.sikeInfo.shiQin),1)])),_:1},8,["style"]),o(S,{class:"sike-qin2",style:c({color:w.getColorByChar(b.sikeInfo.yueQin)})},{default:n((()=>[u(h(b.sikeInfo.yueQin),1)])),_:1},8,["style"])])),_:1}),o(x,{class:"sike-col"},{default:n((()=>[o(S,{class:"sike-label"},{default:n((()=>[u("日")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.ri)})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.ri),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.riQin)})},{default:n((()=>[u(h(b.sikeInfo.riQin),1)])),_:1},8,["style"]),o(S,{class:"sike-qin2",style:c({color:w.getColorByChar(b.sikeInfo.nianQin)})},{default:n((()=>[u(h(b.sikeInfo.nianQin),1)])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})):r("",!0),b.sikeInfo?(s(),t(x,{key:2,class:"sike-board info-card",style:{"margin-top":"10rpx"}},{default:n((()=>[o(x,{class:"sike-table",style:{"flex-direction":"column","align-items":"center",gap:"16rpx","justify-content":"center"}},{default:n((()=>[o(x,{class:"sike-row",style:{display:"flex","flex-direction":"row","justify-content":"center",width:"60%",gap:"40rpx"}},{default:n((()=>[o(S,{class:"sike-label",style:{width:"60rpx","text-align":"center"}},{default:n((()=>[u("日")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.ri),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.ri),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.riQin),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.riQin),1)])),_:1},8,["style"]),o(S,{class:"sike-label",style:{"font-size":"26rpx","font-weight":"normal",color:"#8d6e63",width:"60rpx","text-align":"right"}},{default:n((()=>[u("初传")])),_:1})])),_:1}),o(x,{class:"sike-row",style:{display:"flex","flex-direction":"row","justify-content":"center",width:"60%",gap:"40rpx"}},{default:n((()=>[o(S,{class:"sike-label",style:{width:"60rpx","text-align":"center"}},{default:n((()=>[u("时")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.shi),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.shi),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.shiQin),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.shiQin),1)])),_:1},8,["style"]),o(S,{class:"sike-label",style:{"font-size":"26rpx","font-weight":"normal",color:"#8d6e63",width:"60rpx","text-align":"right"}},{default:n((()=>[u("中传")])),_:1})])),_:1}),o(x,{class:"sike-row",style:{display:"flex","flex-direction":"row","justify-content":"center",width:"60%",gap:"40rpx"}},{default:n((()=>[o(S,{class:"sike-label",style:{width:"60rpx","text-align":"center"}},{default:n((()=>[u("番")])),_:1}),o(S,{class:"sike-zhi",style:c({color:w.getDipanColor(b.sikeInfo.homeBranches.fan),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.homeBranches.fan),1)])),_:1},8,["style"]),o(S,{class:"sike-qin1",style:c({color:w.getColorByChar(b.sikeInfo.fanQin),width:"60rpx",textAlign:"center"})},{default:n((()=>[u(h(b.sikeInfo.fanQin),1)])),_:1},8,["style"]),o(S,{class:"sike-label",style:{"font-size":"26rpx","font-weight":"normal",color:"#8d6e63",width:"60rpx","text-align":"right"}},{default:n((()=>[u("末传")])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),o(x,{class:"qin-toggle-group"},{default:n((()=>[o(x,{class:y(["qin-btn",{active:"ri"===b.activeQinBtn}]),onClick:a[0]||(a[0]=e=>w.switchQin("ri"))},{default:n((()=>[u("日禽")])),_:1},8,["class"]),o(x,{class:y(["qin-btn",{active:"shi"===b.activeQinBtn}]),onClick:a[1]||(a[1]=e=>w.switchQin("shi"))},{default:n((()=>[u("时禽")])),_:1},8,["class"]),o(x,{class:y(["qin-btn",{active:"fan"===b.activeQinBtn}]),onClick:a[2]||(a[2]=e=>w.switchQin("fan"))},{default:n((()=>[u("番禽")])),_:1},8,["class"]),o(x,{class:y(["qin-btn",{active:"huo"===b.activeQinBtn}]),onClick:a[3]||(a[3]=e=>w.switchQin("huo"))},{default:n((()=>[u("活曜")])),_:1},8,["class"]),o(x,{class:"qin-btn shensha-btn",onClick:w.openGlobalShenShaModal},{default:n((()=>[u("神煞")])),_:1},8,["onClick"])])),_:1}),o(x,{class:"board-container"},{default:n((()=>[o(x,{class:"grid-container"},{default:n((()=>[(s(!0),f(m,null,d(w.gridRows,((e,a)=>(s(),t(x,{class:"grid-row",key:a},{default:n((()=>[(s(!0),f(m,null,d(e,((e,a)=>(s(),f(m,{key:a},[e?(s(),t(x,{key:0,class:"grid-cell",onClick:a=>w.openModal(e),"hover-class":"grid-cell-hover","hover-stay-time":150},{default:n((()=>[b.palaceInfo&&b.palaceInfo[e]?(s(),t(x,{key:0,class:"cell-main",style:{"pointer-events":"none"}},{default:n((()=>[o(x,{class:"cell-top"},{default:n((()=>[o(S,null,{default:n((()=>[u(h(b.palaceInfo[e].tianxing),1)])),_:2},1024),o(S,null,{default:n((()=>[u(h(b.palaceInfo[e].qinglong),1)])),_:2},1024)])),_:2},1024),o(x,{class:"cell-middle"},{default:n((()=>[o(x,{class:"cell-left"},{default:n((()=>[o(S,null,{default:n((()=>[u(h(b.palaceInfo[e].waiSuoboWai),1)])),_:2},1024),o(S,null,{default:n((()=>[u(h(b.palaceInfo[e].waiSuoboNei),1)])),_:2},1024)])),_:2},1024),o(x,{class:"cell-dipan",style:c({color:w.getDipanColor(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"]),o(x,{class:"cell-right"},{default:n((()=>[o(S,null,{default:n((()=>[u(h(b.palaceInfo[e].neiSuobo),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),b.palaceShenSha[e]&&b.palaceShenSha[e].length?(s(),t(x,{key:0,class:"cell-bottom"},{default:n((()=>[(s(!0),f(m,null,d(b.palaceShenSha[e],((e,a)=>(s(),t(S,{class:"shensha-tag",key:a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:2},1024)):r("",!0)])),_:2},1024)):(s(),t(x,{key:1,class:"cell-main"},{default:n((()=>[o(x,{class:"cell-dipan",style:c({color:w.getDipanColor(e)})},{default:n((()=>[u(h(e),1)])),_:2},1032,["style"])])),_:2},1024))])),_:2},1032,["onClick"])):(s(),t(x,{key:1,class:"transparent-cell",style:{flex:"1"}}))],64)))),128))])),_:2},1024)))),128))])),_:1})])),_:1}),b.isGlobalShenShaVisible?(s(),t(x,{key:3,class:"modal-overlay",onClick:w.closeGlobalShenShaModal},{default:n((()=>[o(x,{class:"modal-content",onClick:a[4]||(a[4]=g((()=>{}),["stop"]))},{default:n((()=>[o(x,{class:"modal-header shensha-header-bg"},{default:n((()=>[o(S,{class:"modal-title"},{default:n((()=>[u("课局全局神煞")])),_:1}),o(S,{class:"close-btn",onClick:w.closeGlobalShenShaModal},{default:n((()=>[u("×")])),_:1},8,["onClick"])])),_:1}),b.globalShenSha?(s(),t(C,{key:0,class:"modal-body","scroll-y":""},{default:n((()=>[b.globalShenSha.jinTui&&b.globalShenSha.jinTui.length?(s(),t(x,{key:0,class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("进退星与退神")])),_:1}),o(x,{class:"tag-row"},{default:n((()=>[(s(!0),f(m,null,d(b.globalShenSha.jinTui,((e,a)=>(s(),t(S,{class:"shensha-tag-item",key:"jt"+a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),b.globalShenSha.fuDuan&&b.globalShenSha.fuDuan.length?(s(),t(x,{key:1,class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("伏断与暗金伏断")])),_:1}),o(x,{class:"tag-row"},{default:n((()=>[(s(!0),f(m,null,d(b.globalShenSha.fuDuan,((e,a)=>(s(),t(S,{class:"shensha-tag-item",key:"fd"+a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),b.globalShenSha.guiRen&&b.globalShenSha.guiRen.length?(s(),t(x,{key:2,class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("贵人禄星")])),_:1}),o(x,{class:"tag-row"},{default:n((()=>[(s(!0),f(m,null,d(b.globalShenSha.guiRen,((e,a)=>(s(),t(S,{class:"shensha-tag-item",key:"gr"+a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),b.globalShenSha.tuiQi&&b.globalShenSha.tuiQi.length?(s(),t(x,{key:3,class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("十三退气")])),_:1}),o(x,{class:"tag-row"},{default:n((()=>[(s(!0),f(m,null,d(b.globalShenSha.tuiQi,((e,a)=>(s(),t(S,{class:"shensha-tag-item",key:"tq"+a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),b.globalShenSha.others&&b.globalShenSha.others.length?(s(),t(x,{key:4,class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("干支凶煞与特煞")])),_:1}),o(x,{class:"tag-row"},{default:n((()=>[(s(!0),f(m,null,d(b.globalShenSha.others,((e,a)=>(s(),t(S,{class:"shensha-tag-item",key:"ot"+a},{default:n((()=>[u(h(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})):r("",!0),w.isGlobalShenShaEmpty?(s(),t(x,{key:5,class:"empty-state"},{default:n((()=>[o(S,null,{default:n((()=>[u("当前课局暂无触发相关神煞")])),_:1})])),_:1})):r("",!0)])),_:1})):r("",!0)])),_:1})])),_:1},8,["onClick"])):r("",!0),b.isModalVisible?(s(),t(x,{key:4,class:"modal-overlay",onClick:w.closeModal},{default:n((()=>[o(x,{class:"modal-content",onClick:a[5]||(a[5]=g((()=>{}),["stop"]))},{default:n((()=>[o(x,{class:"modal-header"},{default:n((()=>[o(S,{class:"modal-title"},{default:n((()=>[u(h(b.modalData.qinxingName)+" 泊 "+h(b.modalData.palaceZhi)+"宫",1)])),_:1}),o(S,{class:"close-btn",onClick:w.closeModal},{default:n((()=>[u("×")])),_:1},8,["onClick"])])),_:1}),o(C,{class:"modal-body","scroll-y":""},{default:n((()=>[o(x,{class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("基本属性")])),_:1}),o(S,{class:"section-text"},{default:n((()=>[u("五行："+h(b.modalData.element)+" | 禽类："+h(b.modalData.type)+" | 习性："+h(b.modalData.nature)+"禽 ("+h(b.modalData.time)+"禽)",1)])),_:1})])),_:1}),o(x,{class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("吞啖与畏忌")])),_:1}),o(S,{class:"section-text"},{default:n((()=>[o(S,{class:"highlight"},{default:n((()=>[u("吞啖：")])),_:1}),u(h(b.modalData.swallow||"不详"),1)])),_:1}),o(S,{class:"section-text"},{default:n((()=>[o(S,{class:"highlight"},{default:n((()=>[u("畏忌：")])),_:1}),u(h(b.modalData.fear||"不详"),1)])),_:1}),o(S,{class:"section-text"},{default:n((()=>[o(S,{class:"highlight"},{default:n((()=>[u("喜爱：")])),_:1}),u(h(b.modalData.love||"无"),1)])),_:1})])),_:1}),o(x,{class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("锁泊格局变化")])),_:1}),o(S,{class:"section-text"},{default:n((()=>[u(h(b.modalData.lockPattern),1)])),_:1})])),_:1}),o(x,{class:"modal-section"},{default:n((()=>[o(S,{class:"section-title"},{default:n((()=>[u("所主")])),_:1}),o(S,{class:"section-text"},{default:n((()=>[u(h(b.modalData.meaning||"不详"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):r("",!0)])),_:1})}],["__scopeId","data-v-4d1d97d7"]]);export{U as default};
