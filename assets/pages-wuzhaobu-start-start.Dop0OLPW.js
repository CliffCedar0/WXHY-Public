import{g as e,h as t,j as l,k as s,s as a,n as i,q as c,c as n,w as o,i as r,o as d,a as u,b as g,y as p,v as h,x as f,e as m,I as _,A as C}from"./index-B3nXFQOE.js";import{D as k}from"./DatePickerWheel.Blezo2K2.js";import{T as x}from"./TimePickerWheel.Bg5dz5a1.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const S={1:"æ°´",2:"ç«",3:"æœ¨",4:"é‡‘",5:"åœŸ"},D=[[0,0],[1,0],[0,1],[1,1],[1,2],[2,1]];const b=w({components:{DatePickerWheel:k,TimePickerWheel:x},data:()=>({currentMode:"input",isSecretUnlocked:!1,secretStep:0,selectedDate:"",selectedTime:"",showDatePicker:!1,showTimePicker:!1,inputCode:"",grid:[["","",""],["","",""],["","",""]],elementOrder:["","æ°´","ç«","æœ¨","é‡‘","åœŸ"]}),onLoad(){this.initDateTime(),e().globalData.isAdmin&&(this.isSecretUnlocked=!0)},methods:{initDateTime(){const e=new Date,t=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");this.selectedDate=`${t}-${l}-${s}`,this.selectedTime=`${a}:${i}`},goHome(){t().length>1?l():s({url:"/pages/index/index"})},onWheelDateChange(e){this.selectedDate=e},onWheelTimeChange(e){this.selectedTime=e},toggleElement(e,t){const l=this.grid[e][t],s=(this.elementOrder.indexOf(l)+1)%this.elementOrder.length;this.$set(this.grid[e],t,this.elementOrder[s])},getElementColorClass(e){if(!e)return"text-empty";return{"é‡‘":"text-gold","æœ¨":"text-wood","æ°´":"text-water","ç«":"text-fire","åœŸ":"text-earth"}[e]},onInputChange(e){let t=e.detail.value||"";t=t.replace(/[^1-5]/g,"").slice(0,6),this.inputCode=t},goToDisplay(){let e=this.grid;if("input"===this.currentMode){if(6!==this.inputCode.length)return void a({title:"è¯·è¾“å…¥6ä½æ•°å­—",icon:"none"});e=[["","",""],["","",""],["","",""]];for(let t=0;t<6;t++){const l=this.inputCode[t],s=S[l],[a,i]=D[t];e[a]||(e[a]=[]),e[a][i]=s}}const t=JSON.stringify(e),l=`${this.selectedDate} ${this.selectedTime}`;i({url:`/pages/wuzhaobu/display/display?grid=${encodeURIComponent(t)}&datetime=${encodeURIComponent(l)}`})},handleSecretStep(e){1===e?this.secretStep=1:2===e?1===this.secretStep?this.secretStep=2:this.secretStep=0:3===e&&(2===this.secretStep&&(this.isSecretUnlocked=!0,a({title:"å·²è¿›å…¥ç®¡ç†å‘˜æ¨¡å¼",icon:"none"})),this.secretStep=0)}}},[["render",function(e,t,l,s,a,i){const k=m,x=r,w=_,S=C,D=c("DatePickerWheel"),b=c("TimePickerWheel");return d(),n(x,{class:"container"},{default:o((()=>[u(x,{class:"top-bar"},{default:o((()=>[u(x,{class:"back-btn",onClick:i.goHome},{default:o((()=>[u(k,{class:"back-text"},{default:o((()=>[g("é¦–é¡µ")])),_:1})])),_:1},8,["onClick"]),u(k,{class:"page-title"},{default:o((()=>[g("äº”å…†åœ")])),_:1}),u(x,{class:"placeholder"})])),_:1}),u(x,{class:"form-card"},{default:o((()=>[u(x,{class:"tab-card"},{default:o((()=>[u(x,{class:p(["tab-item",{active:"input"===a.currentMode}]),onClick:t[0]||(t[0]=e=>a.currentMode="input")},{default:o((()=>[g("è¾“å…¥æ’ç›˜")])),_:1},8,["class"]),u(x,{class:p(["tab-item",{active:"custom"===a.currentMode}]),onClick:t[1]||(t[1]=e=>a.currentMode="custom")},{default:o((()=>[g("è‡ªå®šä¹‰æ’ç›˜")])),_:1},8,["class"])])),_:1}),u(x,{class:"divider"}),u(x,{class:"input-section"},{default:o((()=>[u(x,{class:"section-label"},{default:o((()=>[g("é€‰æ‹©æ—¶é—´ (é»˜è®¤å½“å‰)")])),_:1}),u(x,{class:"picker-row"},{default:o((()=>[u(x,{class:"picker-half",onClick:t[2]||(t[2]=e=>a.showDatePicker=!0)},{default:o((()=>[u(x,{class:"picker-view"},{default:o((()=>[u(k,{class:"picker-val"},{default:o((()=>[g(h(a.selectedDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),u(k,{class:"icon"})])),_:1})])),_:1}),u(x,{class:"picker-half",onClick:t[3]||(t[3]=e=>a.showTimePicker=!0)},{default:o((()=>[u(x,{class:"picker-view"},{default:o((()=>[u(k,{class:"picker-val"},{default:o((()=>[g(h(a.selectedTime||"æ—¶ : åˆ†"),1)])),_:1}),u(k,{class:"icon"})])),_:1})])),_:1})])),_:1})])),_:1}),u(x,{class:"divider"}),"custom"===a.currentMode?(d(),n(x,{key:0,class:"input-section"},{default:o((()=>[u(x,{class:"section-label"},{default:o((()=>[g("è®¾å®šäº”è¡Œæ ¼å±€")])),_:1}),u(x,{class:"tips"},{default:o((()=>[g("ç‚¹å‡»æ ¼å­åˆ‡æ¢äº”è¡Œ (æ°´ç«æœ¨é‡‘åœŸ)")])),_:1}),u(x,{class:"grid-container"},{default:o((()=>[u(x,{class:"grid-row"},{default:o((()=>[u(x,{class:"grid-cell",onClick:t[4]||(t[4]=e=>i.toggleElement(0,0))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[0][0])])},{default:o((()=>[g(h(a.grid[0][0]||"ç©º"),1)])),_:1},8,["class"])])),_:1}),u(x,{class:"grid-cell",onClick:t[5]||(t[5]=e=>i.toggleElement(0,1))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[0][1])])},{default:o((()=>[g(h(a.grid[0][1]||"ç©º"),1)])),_:1},8,["class"])])),_:1}),u(x,{class:"grid-cell empty-cell"})])),_:1}),u(x,{class:"grid-row"},{default:o((()=>[u(x,{class:"grid-cell",onClick:t[6]||(t[6]=e=>i.toggleElement(1,0))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[1][0])])},{default:o((()=>[g(h(a.grid[1][0]||"ç©º"),1)])),_:1},8,["class"])])),_:1}),u(x,{class:"grid-cell",onClick:t[7]||(t[7]=e=>i.toggleElement(1,1))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[1][1])])},{default:o((()=>[g(h(a.grid[1][1]||"ç©º"),1)])),_:1},8,["class"])])),_:1}),u(x,{class:"grid-cell",onClick:t[8]||(t[8]=e=>i.toggleElement(1,2))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[1][2])])},{default:o((()=>[g(h(a.grid[1][2]||"ç©º"),1)])),_:1},8,["class"])])),_:1})])),_:1}),u(x,{class:"grid-row"},{default:o((()=>[u(x,{class:"grid-cell empty-cell"}),u(x,{class:"grid-cell",onClick:t[9]||(t[9]=e=>i.toggleElement(2,1))},{default:o((()=>[u(k,{class:p(["wuxing-text",i.getElementColorClass(a.grid[2][1])])},{default:o((()=>[g(h(a.grid[2][1]||"ç©º"),1)])),_:1},8,["class"])])),_:1}),u(x,{class:"grid-cell empty-cell"})])),_:1})])),_:1})])),_:1})):f("",!0),"input"===a.currentMode?(d(),n(x,{key:1,class:"input-section"},{default:o((()=>[u(x,{class:"section-label"},{default:o((()=>[g("è¾“å…¥å…­ä½æ•°å­—")])),_:1}),u(x,{class:"number-input-row"},{default:o((()=>[u(w,{type:"number",class:"number-input",modelValue:a.inputCode,"onUpdate:modelValue":t[10]||(t[10]=e=>a.inputCode=e),placeholder:"è¾“å…¥å…­ä½æ•°å­— (å¦‚: 123451)",maxlength:"6",onInput:i.onInputChange},null,8,["modelValue","onInput"])])),_:1}),u(x,{style:{display:"flex","justify-content":"flex-end","margin-top":"10rpx"}},{default:o((()=>[u(x,{class:"text-btn",onClick:t[11]||(t[11]=e=>a.inputCode="")},{default:o((()=>[g("æ¸…é™¤")])),_:1})])),_:1}),u(x,{class:"tips-box"},{default:o((()=>[u(x,{class:"tips-title"},{default:o((()=>[g("ğŸ’¡ æ’ç›˜è¯´æ˜")])),_:1}),u(x,{class:"tips-content"},{default:o((()=>[u(k,null,{default:o((()=>[g("è¯·è¾“å…¥6ä½æ•°å­—ï¼ˆ1-5ï¼‰ï¼š")])),_:1}),u(k,null,{default:o((()=>[g("1=æ°´, 2=ç«, 3=æœ¨, 4=é‡‘, 5=åœŸ")])),_:1}),u(k,null,{default:o((()=>[g("å¯¹åº”ä¹å®«ä½ç½®ï¼šå…†èº«ï¼Œç«ä¹¡ï¼Œæœ¨ä¹¡ï¼ŒåœŸä¹¡ï¼Œé‡‘ä¹¡ï¼Œæ°´ä¹¡")])),_:1})])),_:1})])),_:1})])),_:1})):f("",!0)])),_:1}),u(S,{class:"btn-submit",onClick:i.goToDisplay,"hover-class":"btn-hover"},{default:o((()=>[g("æ’ç›˜")])),_:1},8,["onClick"]),u(x,{class:"copyright-info"},{default:o((()=>[u(x,{class:"copyright-line",onClick:t[12]||(t[12]=e=>i.handleSecretStep(3))},{default:o((()=>[g("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),u(x,{class:"copyright-line",onClick:t[13]||(t[13]=e=>i.handleSecretStep(1))},{default:o((()=>[g("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1}),u(x,{class:"copyright-line",onClick:t[14]||(t[14]=e=>i.handleSecretStep(2))},{default:o((()=>[g("Â© Server supporterï¼š ğŸç‡•ä¹ç§¦ğŸ WeChatï¼šaispidercc")])),_:1})])),_:1}),u(D,{show:a.showDatePicker,value:a.selectedDate,onChange:i.onWheelDateChange,onClose:t[15]||(t[15]=e=>a.showDatePicker=!1)},null,8,["show","value","onChange"]),u(b,{show:a.showTimePicker,value:a.selectedTime,onChange:i.onWheelTimeChange,onClose:t[16]||(t[16]=e=>a.showTimePicker=!1)},null,8,["show","value","onChange"])])),_:1})}],["__scopeId","data-v-eb2d0856"]]);export{b as default};
