import{i as n}from"./shichen.C6pgosp-.js";const t=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],r={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},i={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"午",night:"寅"}};const e=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],u=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function c(r,c,a){const o=n(c),f=function(n,t){const r=i[n];return r?t?r.day:r.night:"丑"}(r,o),s=function(n,t){for(let r in t)if(t[r]===n)return r;return n}(f,a),g=["亥","子","丑","寅","卯","辰"].includes(s),h=function(n,r){const i={},c=t.indexOf(n),a=r?e:u;for(let e=0;e<12;e++)i[t[(c+e)%12]]=a[e];return i}(s,g);return{layout:h,isDay:o,dayNight:o?"昼":"夜",guirenPosition:s,guirenBenwei:f,isShunbu:g}}function a(n){return r[n]||n}const o=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],f={};o.forEach(((n,t)=>f[n]=t));const s={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach(((n,t)=>s[n]=t));const g={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function h(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function l(n,t,r){const i=function(n,t){return g[n+t]||"甲子"}(t,r),e=i.charAt(0),u=i.charAt(1),c=f[e],a=s[u],h=(s[n]-a+12)%12,l=h>=10;return{gan:o[(c+h)%10],isXunkong:l}}function d(n,t,r,i){if(!i)return{gan:"",isXunkong:!1};const e=function(n,t){return g[n+t]||"甲子"}(t,r),u=e.charAt(1);let c=null;for(let o in i)if(i[o]===u){c=o;break}if(!c)return{gan:"",isXunkong:!1};const a=s[c],f=(s[n]-a+12)%12,h=f>=10;return{gan:o[f%10],isXunkong:h}}function y(n,t,r){if(!t||!r)return"";const i=h(t),e=f[i];let u=null;for(let o in r)if("子"===r[o]){u=o;break}if(!u)return"";const c=s[u],a=s[n];return o[(e+(a-c+12)%12)%10]}function x(n,t,r){if(!n||!t||!r)return"";return l(n,t,r).gan}function b(n,t){const{dayStem:r,dayBranch:i,timeStem:e,timeBranch:u,tianpan:c,guirenPosition:a}=t,g=l(c?c[n]:n,r,i),b=d(n,e,u,c),k=x(n,r,i),m=y(n,r,c),O=function(n,t,r){if(!t||!r)return"";const i=h(t),e=f[i];let u=null;for(let o in r)if("子"===r[o]){u=o;break}if(!u)return"";const c=s[u],a=s[n];return o[(e+(a-c+12)%12)%10]}(n,e,c),w=function(n,t,r,i){if(!t||!i||!r)return"";if(!i[t])return"";const e=t;let u=null;for(let o in i)if(i[o]===e){u=o;break}if(!u)return"";const c=y(u,r,i);if(!c)return"";const a=h(c),g=f[a];let l=null;for(let o in i)if("子"===i[o]){l=o;break}if(!l)return"";const d=i[n];if(!d)return"";const x=(s[d]-s["子"]+12)%12;return o[(g+x)%10]}(n,a,r,c);return{xundun:g,tiandun:b,didun:k,jiangan:m,fujian:O,rendun:w}}const k=["建","除","满","平","定","执","破","危","成","收","开","闭"],m=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],O={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},w={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},A={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function j(n,t,r){if(!n||!t||!r)return"";let i=null;for(let o in r)if(r[o]===n){i=o;break}if(!i)return"";const e=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],u=e.indexOf(i);if(-1===u)return"";const c=[...e.slice(u),...e.slice(0,u)],a={};return c.forEach(((n,t)=>{a[n]=k[t]})),a[t]||""}function p(n,t){if(!n||!t)return"";const r=A[n],i=A[t];if(!r||!i)return"";const e={"木":"火","火":"土","土":"金","金":"水","水":"木"},u={"木":"土","火":"金","土":"水","金":"木","水":"火"};return r===i?"旺":e[r]===i?"相":e[i]===r?"休":u[i]===r?"囚":u[r]===i?"死":""}function z(n,t){if(!n||!t)return"";const r=O[n];if(!r)return"";const i=r.indexOf(t);return-1===i?"":m[i]}function B(n,t){if(!n||!t)return"";const r=w[n];if(!r)return"";const i=r.indexOf(t);return-1===i?"":m[i]}function S(n,t){const{monthBranch:r,dayStem:i,tianpan:e}=t,u=e[n];return{jianchu:j(r,n,e),wangshuai:p(r,u),shiganChangsheng:z(i,u),wuxingChangsheng:B(i,u)}}const X=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],E=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],C={1924:"甲子",1925:"乙丑",1926:"丙寅",1927:"丁卯",1928:"戊辰",1929:"己巳",1930:"庚午",1931:"辛未",1932:"壬申",1933:"癸酉",1934:"甲戌",1935:"乙亥",1936:"丙子",1937:"丁丑",1938:"戊寅",1939:"己卯",1940:"庚辰",1941:"辛巳",1942:"壬午",1943:"癸未",1944:"甲申",1945:"乙酉",1946:"丙戌",1947:"丁亥",1948:"戊子",1949:"己丑",1950:"庚寅",1951:"辛卯",1952:"壬辰",1953:"癸巳",1954:"甲午",1955:"乙未",1956:"丙申",1957:"丁酉",1958:"戊戌",1959:"己亥",1960:"庚子",1961:"辛丑",1962:"壬寅",1963:"癸卯",1964:"甲辰",1965:"乙巳",1966:"丙午",1967:"丁未",1968:"戊申",1969:"己酉",1970:"庚戌",1971:"辛亥",1972:"壬子",1973:"癸丑",1974:"甲寅",1975:"乙卯",1976:"丙辰",1977:"丁巳",1978:"戊午",1979:"己未",1980:"庚申",1981:"辛酉",1982:"壬戌",1983:"癸亥",1984:"甲子",1985:"乙丑",1986:"丙寅",1987:"丁卯",1988:"戊辰",1989:"己巳",1990:"庚午",1991:"辛未",1992:"壬申",1993:"癸酉",1994:"甲戌",1995:"乙亥",1996:"丙子",1997:"丁丑",1998:"戊寅",1999:"己卯",2e3:"庚辰",2001:"辛巳",2002:"壬午",2003:"癸未",2004:"甲申",2005:"乙酉",2006:"丙戌",2007:"丁亥",2008:"戊子",2009:"己丑",2010:"庚寅",2011:"辛卯",2012:"壬辰",2013:"癸巳",2014:"甲午",2015:"乙未",2016:"丙申",2017:"丁酉",2018:"戊戌",2019:"己亥",2020:"庚子",2021:"辛丑",2022:"壬寅",2023:"癸卯",2024:"甲辰",2025:"乙巳",2026:"丙午",2027:"丁未",2028:"戊申",2029:"己酉",2030:"庚戌",2031:"辛亥",2032:"壬子",2033:"癸丑",2034:"甲寅",2035:"乙卯",2036:"丙辰",2037:"丁巳",2038:"戊午",2039:"己未",2040:"庚申",2041:"辛酉",2042:"壬戌",2043:"癸亥",2044:"甲子",2045:"乙丑",2046:"丙寅",2047:"丁卯",2048:"戊辰",2049:"己巳",2050:"庚午"};function D(n,t,r=null){const i=function(n){const t=C[n];return t?{gan:t.charAt(0),zhi:t.charAt(1)}:{gan:"",zhi:""}}(n),e=function(n,t,r=null){r||(r=(new Date).getFullYear());const i=r-n;if(i<0)return{gan:"",zhi:""};const e=X.indexOf("丙"),u=E.indexOf("寅"),c=X.indexOf("壬"),a=E.indexOf("申");let o,f;return t?(o=(e+i)%10,f=(u+i)%12):(o=(c-i+1e3)%10,f=(a-i+1200)%12),{gan:X[o],zhi:E[f]}}(n,t,r);return{benming:i,xingnian:e,birthYear:n,isMale:t,gender:t?"男":"女"}}export{c as a,b,S as c,a as d,x as e,j as f,D as g,l as h};
