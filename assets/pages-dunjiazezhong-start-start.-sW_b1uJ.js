import{o as e,c as t,w as a,a as s,b as i,d as l,r as n,F as c,e as o,f as r,i as u,g as d,P as h,h as m,t as f,j as p,s as g,n as _,k,l as z,m as y,p as b,q as v}from"./index-C0lNEGPS.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=C({name:"DatePickerWheel",props:{show:{type:Boolean,default:!1},value:{type:String,default:""},startYear:{type:Number,default:1950},endYear:{type:Number,default:2100}},data:()=>({indicatorStyle:"height: 50px;",pickerValue:[0,0,0],selectedYear:2026,selectedMonth:1,selectedDay:1}),computed:{years(){const e=[];for(let t=this.startYear;t<=this.endYear;t++)e.push(t);return e},months:()=>[1,2,3,4,5,6,7,8,9,10,11,12],days(){const e=new Date(this.selectedYear,this.selectedMonth,0).getDate(),t=[];for(let a=1;a<=e;a++)t.push(a);return t}},watch:{show(e){e&&this.initFromValue()},value(e){this.show&&this.initFromValue()}},methods:{initFromValue(){let e,t,a;if(this.value&&this.value.includes("-")){const s=this.value.split("-");e=parseInt(s[0])||2026,t=parseInt(s[1])||1,a=parseInt(s[2])||1}else{const s=new Date;e=s.getFullYear(),t=s.getMonth()+1,a=s.getDate()}this.selectedYear=e,this.selectedMonth=t,this.selectedDay=a;const s=this.years.indexOf(e),i=t-1,l=a-1;this.pickerValue=[s>=0?s:0,i>=0?i:0,l>=0?l:0]},onChange(e){const t=e.detail.value;this.selectedYear=this.years[t[0]],this.selectedMonth=this.months[t[1]];const a=new Date(this.selectedYear,this.selectedMonth,0).getDate();this.days[t[2]]>a?(this.selectedDay=a,this.pickerValue=[t[0],t[1],a-1]):(this.selectedDay=this.days[t[2]],this.pickerValue=t)},close(){this.$emit("update:show",!1),this.$emit("close")},confirm(){const e=String(this.selectedMonth).padStart(2,"0"),t=String(this.selectedDay).padStart(2,"0"),a=`${this.selectedYear}-${e}-${t}`;this.$emit("change",a),this.$emit("update:show",!1),this.$emit("close")}}},[["render",function(p,g,_,k,z,y){const b=u,v=d,C=h,w=m;return _.show?(e(),t(v,{key:0,class:"date-picker-modal",onClick:y.close},{default:a((()=>[s(v,{class:"picker-content",onClick:g[0]||(g[0]=o((()=>{}),["stop"]))},{default:a((()=>[s(v,{class:"picker-header"},{default:a((()=>[s(b,{class:"picker-title"},{default:a((()=>[i("é€‰æŠ˜æ—¥æœŸ")])),_:1}),s(v,{class:"picker-confirm",onClick:y.confirm},{default:a((()=>[i("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),s(w,{class:"picker-view-body","indicator-style":z.indicatorStyle,value:z.pickerValue,onChange:y.onChange},{default:a((()=>[s(C,null,{default:a((()=>[(e(!0),l(c,null,n(y.years,(s=>(e(),t(v,{class:"picker-item",key:s},{default:a((()=>[i(f(s)+"å¹´",1)])),_:2},1024)))),128))])),_:1}),s(C,null,{default:a((()=>[(e(!0),l(c,null,n(y.months,(s=>(e(),t(v,{class:"picker-item",key:s},{default:a((()=>[i(f(s)+"æœˆ",1)])),_:2},1024)))),128))])),_:1}),s(C,null,{default:a((()=>[(e(!0),l(c,null,n(y.days,(s=>(e(),t(v,{class:"picker-item",key:s},{default:a((()=>[i(f(s)+"æ—¥",1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["indicator-style","value","onChange"])])),_:1})])),_:1},8,["onClick"])):r("",!0)}],["__scopeId","data-v-643982b7"]]);const D=C({name:"TimePickerWheel",props:{show:{type:Boolean,default:!1},value:{type:String,default:""}},data:()=>({indicatorStyle:"height: 50px;",pickerValue:[0,0],selectedHour:0,selectedMinute:0}),computed:{hours(){const e=[];for(let t=0;t<24;t++)e.push(String(t).padStart(2,"0"));return e},minutes(){const e=[];for(let t=0;t<60;t++)e.push(String(t).padStart(2,"0"));return e}},watch:{show(e){e&&this.initFromValue()},value(e){this.show&&this.initFromValue()}},methods:{initFromValue(){let e=0,t=0;if(this.value&&this.value.includes(":")){const a=this.value.split(":");e=parseInt(a[0])||0,t=parseInt(a[1])||0}else{const a=new Date;e=a.getHours(),t=a.getMinutes()}this.selectedHour=e,this.selectedMinute=t,this.pickerValue=[e,t]},onChange(e){const t=e.detail.value;this.selectedHour=t[0],this.selectedMinute=t[1],this.pickerValue=t},close(){this.$emit("update:show",!1),this.$emit("close")},confirm(){const e=`${String(this.selectedHour).padStart(2,"0")}:${String(this.selectedMinute).padStart(2,"0")}`;this.$emit("change",e),this.$emit("update:show",!1),this.$emit("close")}}},[["render",function(p,g,_,k,z,y){const b=u,v=d,C=h,w=m;return _.show?(e(),t(v,{key:0,class:"time-picker-modal",onClick:y.close},{default:a((()=>[s(v,{class:"picker-content",onClick:g[0]||(g[0]=o((()=>{}),["stop"]))},{default:a((()=>[s(v,{class:"picker-header"},{default:a((()=>[s(b,{class:"picker-title"},{default:a((()=>[i("é€‰æŠ˜æ—¶é—´")])),_:1}),s(v,{class:"picker-confirm",onClick:y.confirm},{default:a((()=>[i("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),s(w,{class:"picker-view-body","indicator-style":z.indicatorStyle,value:z.pickerValue,onChange:y.onChange},{default:a((()=>[s(C,null,{default:a((()=>[(e(!0),l(c,null,n(y.hours,(s=>(e(),t(v,{class:"picker-item",key:s},{default:a((()=>[i(f(s)+"æ—¶",1)])),_:2},1024)))),128))])),_:1}),s(C,null,{default:a((()=>[(e(!0),l(c,null,n(y.minutes,(s=>(e(),t(v,{class:"picker-item",key:s},{default:a((()=>[i(f(s)+"åˆ†",1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["indicator-style","value","onChange"])])),_:1})])),_:1},8,["onClick"])):r("",!0)}],["__scopeId","data-v-4131d293"]]),M=""+new URL("icon_feipan-B2I4X_PL.png",import.meta.url).href;const T=C({components:{DatePickerWheel:w,TimePickerWheel:D},data:()=>({modes:[{name:"å½“å‰æ—¶é—´",value:"current"},{name:"è‡ªå®šä¹‰æ—¶é—´",value:"custom"},{name:"å››æŸ±é€‰å±€",value:"sizhu"},{name:"æ‰‹å·¥é€‰å±€",value:"manual"}],currentMode:"current",customDate:"",customTime:"",ganList:["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],zhiList:["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],gzList:[],jieQiList:["ç«‹æ˜¥","é›¨æ°´","æƒŠè›°","æ˜¥åˆ†","æ¸…æ˜","è°·é›¨","ç«‹å¤","å°æ»¡","èŠ’ç§","å¤è‡³","å°æš‘","å¤§æš‘","ç«‹ç§‹","å¤„æš‘","ç™½éœ²","ç§‹åˆ†","å¯’éœ²","éœœé™","ç«‹å†¬","å°é›ª","å¤§é›ª","å†¬è‡³","å°å¯’","å¤§å¯’"],baziParams:{year:0,month:0,day:0,hour:0,jieQi:0},manualJuData:{isYang:!0,num:1},showBaziModal:!1,currentBaziType:"year",tempGan:"ç”²",tempZhi:"å­",birthYear:"2000",gender:!0,showDatePicker:!1,showTimePicker:!1}),onLoad(){const e=new Date;this.customDate=this.formatDate(e),this.customTime=this.formatTime1(e),this.initGzList(),this.baziParams={year:0,month:0,day:0,hour:0,jieQi:0}},methods:{initGzList(){const e=[],t=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],a=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"];for(let s=0;s<60;s++)e.push(t[s%10]+a[s%12]);this.gzList=e},goHome(){p({url:"/pages/index/index"})},formatDate:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,formatTime1:e=>`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`,bindDateChange(e){this.customDate=e.detail.value},bindTimeChange(e){this.customTime=e.detail.value},onDateChange(e){this.customDate=e},onTimeChange(e){this.customTime=e},getJuNumText:e=>["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹"][e-1],getBaziText(e){const t=this.baziParams[e];return this.gzList[t]||"ç”²å­"},openBaziModal(e){this.currentBaziType=e;const t=this.gzList[this.baziParams[e]]||"ç”²å­";this.tempGan=t.charAt(0),this.tempZhi=t.charAt(1),this.showBaziModal=!0},closeBaziModal(){this.showBaziModal=!1},getBaziTitle(){return{year:"å¹´æŸ±",month:"æœˆæŸ±",day:"æ—¥æŸ±",hour:"æ—¶æŸ±"}[this.currentBaziType]||""},bindYearChange(e){this.birthYear=e.detail.value},toggleGender(){this.gender=!this.gender},selectGan(e){this.tempGan=e;const t=this.ganList.indexOf(e),a=this.zhiList.indexOf(this.tempZhi);if(t%2!=a%2){let e=a;e=t%2==0?a-1:a+1,e<0&&(e=11),e>11&&(e=0),this.tempZhi=this.zhiList[e]}},selectZhi(e){this.tempZhi=e;const t=this.zhiList.indexOf(e),a=this.ganList.indexOf(this.tempGan);if(a%2!=t%2){let e=a;e=t%2==0?a-1:a+1,e<0&&(e=9),e>9&&(e=0),this.tempGan=this.ganList[e]}},isGanDimmed(e){return this.ganList.indexOf(e)%2!=this.zhiList.indexOf(this.tempZhi)%2},isZhiDimmed(e){return this.zhiList.indexOf(e)%2!=this.ganList.indexOf(this.tempGan)%2},confirmBaziSelection(){const e=this.tempGan+this.tempZhi,t=this.gzList.indexOf(e);-1!==t?(this.baziParams[this.currentBaziType]=t,this.showBaziModal=!1):g({title:"æœªçŸ¥å¹²æ”¯ç»„åˆ",icon:"none"})},submit(){let e=`?mode=${this.currentMode}`;if("custom"===this.currentMode){if(!this.customDate||!this.customTime)return void g({title:"è¯·é€‰æŠ˜å®Œæ•´æ—¶é—´",icon:"none"});e+=`&date=${this.customDate}&time=${this.customTime}`}else if("sizhu"===this.currentMode){const t=this.baziParams,a=`${this.gzList[t.year]},${this.gzList[t.month]},${this.gzList[t.day]},${this.gzList[t.hour]}`,s=this.jieQiList[t.jieQi];e+=`&bazi=${encodeURIComponent(a)}&jieqi=${encodeURIComponent(s)}`}else if("manual"===this.currentMode){e+=`&ju=${this.manualJuData.isYang?"yang":"yin"}-${this.manualJuData.num}`}this.birthYear&&(e+=`&birthYear=${this.birthYear}&gender=${this.gender?"1":"0"}`),_({url:"/pages/dunjiazezhong/display/display"+e})}}},[["render",function(h,m,p,g,_,C){const w=u,D=d,T=y,$=b,L=v,x=k("DatePickerWheel"),B=k("TimePickerWheel");return e(),t(D,{class:"container"},{default:a((()=>[s(D,{class:"top-bar"},{default:a((()=>[s(w,{class:"page-title"},{default:a((()=>[i("éç”²æŠ˜è¡·")])),_:1}),s(D,{class:"placeholder"})])),_:1}),s(D,{class:"logo-area"},{default:a((()=>[s(T,{src:M,class:"logo",mode:"aspectFit"})])),_:1}),s(D,{class:"form-card"},{default:a((()=>[s(D,{class:"tab-card"},{default:a((()=>[(e(!0),l(c,null,n(_.modes,((s,l)=>(e(),t(D,{class:z(["tab-item",{active:_.currentMode===s.value}]),key:l,onClick:e=>_.currentMode=s.value},{default:a((()=>[i(f(s.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(D,{class:"divider"}),"current"===_.currentMode?(e(),t(D,{key:0,class:"info-text"},{default:a((()=>[s(w,null,{default:a((()=>[i("ä½¿ç”¨å½“å‰æ—¶é—´è¿›è¡Œæ’ç›˜ï¼Œå±€æ•°å°†æ ¹æ®èŠ‚æ°”è‡ªåŠ¨è®¡ç®—ã€‚")])),_:1})])),_:1})):r("",!0),"custom"===_.currentMode?(e(),t(D,{key:1,class:"input-section"},{default:a((()=>[s(D,{class:"section-label"},{default:a((()=>[i("é€‰æŠ˜æ—¶é—´")])),_:1}),s(D,{class:"picker-row"},{default:a((()=>[s(D,{class:"picker-half",onClick:m[0]||(m[0]=e=>_.showDatePicker=!0)},{default:a((()=>[s(D,{class:"picker-view"},{default:a((()=>[s(w,{class:"picker-val"},{default:a((()=>[i(f(_.customDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),s(w,{class:"icon"},{default:a((()=>[i("ğŸ“…")])),_:1})])),_:1})])),_:1}),s(D,{class:"picker-half",onClick:m[1]||(m[1]=e=>_.showTimePicker=!0)},{default:a((()=>[s(D,{class:"picker-view"},{default:a((()=>[s(w,{class:"picker-val"},{default:a((()=>[i(f(_.customTime||"æ—¶ : åˆ†"),1)])),_:1}),s(w,{class:"icon"},{default:a((()=>[i("â°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):r("",!0),"sizhu"===_.currentMode?(e(),t(D,{key:2,class:"input-section"},{default:a((()=>[s(D,{class:"section-label"},{default:a((()=>[i("å››æŸ±å¹²æ”¯ (å¹´/æœˆ/æ—¥/æ—¶)")])),_:1}),s(D,{class:"bazi-row-manual"},{default:a((()=>[s(D,{class:"bazi-box",onClick:m[2]||(m[2]=e=>C.openBaziModal("year"))},{default:a((()=>[s(w,{class:"bazi-label"},{default:a((()=>[i("å¹´æŸ±")])),_:1}),s(w,{class:"bazi-val"},{default:a((()=>[i(f(C.getBaziText("year")),1)])),_:1})])),_:1}),s(D,{class:"bazi-box",onClick:m[3]||(m[3]=e=>C.openBaziModal("month"))},{default:a((()=>[s(w,{class:"bazi-label"},{default:a((()=>[i("æœˆæŸ±")])),_:1}),s(w,{class:"bazi-val"},{default:a((()=>[i(f(C.getBaziText("month")),1)])),_:1})])),_:1}),s(D,{class:"bazi-box",onClick:m[4]||(m[4]=e=>C.openBaziModal("day"))},{default:a((()=>[s(w,{class:"bazi-label"},{default:a((()=>[i("æ—¥æŸ±")])),_:1}),s(w,{class:"bazi-val"},{default:a((()=>[i(f(C.getBaziText("day")),1)])),_:1})])),_:1}),s(D,{class:"bazi-box",onClick:m[5]||(m[5]=e=>C.openBaziModal("hour"))},{default:a((()=>[s(w,{class:"bazi-label"},{default:a((()=>[i("æ—¶æŸ±")])),_:1}),s(w,{class:"bazi-val"},{default:a((()=>[i(f(C.getBaziText("hour")),1)])),_:1})])),_:1})])),_:1}),s(D,{class:"section-label",style:{"margin-top":"20rpx"}},{default:a((()=>[i("èŠ‚æ°”")])),_:1}),s($,{mode:"selector",range:_.jieQiList,onChange:m[6]||(m[6]=e=>_.baziParams.jieQi=e.detail.value)},{default:a((()=>[s(D,{class:"picker-view"},{default:a((()=>[s(w,{class:"picker-val"},{default:a((()=>[i(f(_.jieQiList[_.baziParams.jieQi]),1)])),_:1}),s(w,{class:"icon"},{default:a((()=>[i("â–¼")])),_:1})])),_:1})])),_:1},8,["range"])])),_:1})):r("",!0),"manual"===_.currentMode?(e(),t(D,{key:3,class:"input-section"},{default:a((()=>[s(D,{class:"section-label"},{default:a((()=>[i("æŒ‡å®šå±€æ•°")])),_:1}),s(D,{class:"dun-toggle-row"},{default:a((()=>[s(D,{class:z(["dun-item",{active:_.manualJuData.isYang}]),onClick:m[7]||(m[7]=e=>_.manualJuData.isYang=!0)},{default:a((()=>[i("é˜³é")])),_:1},8,["class"]),s(D,{class:z(["dun-item",{active:!_.manualJuData.isYang}]),onClick:m[8]||(m[8]=e=>_.manualJuData.isYang=!1)},{default:a((()=>[i("é˜´é")])),_:1},8,["class"])])),_:1}),s(D,{class:"ju-num-grid"},{default:a((()=>[(e(),l(c,null,n(9,(e=>s(D,{class:z(["ju-num-item",{active:_.manualJuData.num===e}]),key:e,onClick:t=>_.manualJuData.num=e},{default:a((()=>[i(f(C.getJuNumText(e))+"å±€",1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),s(D,{class:"tips"},{default:a((()=>[i(" æ³¨ï¼šæ‰‹å·¥é€‰å±€æ¨¡å¼ä¸‹ï¼Œå°†é»˜è®¤ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºç›˜é¢å››æŸ±ã€‚ ")])),_:1})])),_:1})):r("",!0),s(D,{class:"divider"}),s(D,{class:"input-section"},{default:a((()=>[s(D,{class:"section-label"},{default:a((()=>[i("æœ¬å‘½è¡Œå¹´ (é€‰å¡«)")])),_:1}),s(D,{class:"picker-row"},{default:a((()=>[s($,{mode:"date",fields:"year",value:_.birthYear,onChange:C.bindYearChange,class:"picker-half"},{default:a((()=>[s(D,{class:"picker-view"},{default:a((()=>[s(w,{class:"picker-val"},{default:a((()=>[i(f(_.birthYear?_.birthYear+"å¹´":"å‡ºç”Ÿå¹´ä»½"),1)])),_:1})])),_:1})])),_:1},8,["value","onChange"]),s(D,{class:"gender-toggle picker-half",onClick:C.toggleGender},{default:a((()=>[s(D,{class:z(["gender-opt",{active:_.gender}])},{default:a((()=>[i("ç”·")])),_:1},8,["class"]),s(D,{class:z(["gender-opt",{active:!_.gender}])},{default:a((()=>[i("å¥³")])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),s(L,{class:"btn-submit",onClick:C.submit,"hover-class":"btn-hover"},{default:a((()=>[i("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),s(D,{class:"copyright-info"},{default:a((()=>[s(D,{class:"copyright-line"},{default:a((()=>[i("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),s(D,{class:"copyright-line"},{default:a((()=>[i("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),_.showBaziModal?(e(),t(D,{key:0,class:"modal-mask",onClick:C.closeBaziModal},{default:a((()=>[s(D,{class:"modal-content",onClick:m[9]||(m[9]=o((()=>{}),["stop"]))},{default:a((()=>[s(D,{class:"modal-header"},{default:a((()=>[s(w,null,{default:a((()=>[i("é€‰æŠ˜"+f(C.getBaziTitle())+"å¹²æ”¯",1)])),_:1}),s(D,{class:"modal-confirm",onClick:C.confirmBaziSelection},{default:a((()=>[i("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),s(D,{class:"modal-body"},{default:a((()=>[s(D,{class:"gz-preview"},{default:a((()=>[s(w,{class:"gz-char stem"},{default:a((()=>[i(f(_.tempGan),1)])),_:1}),s(w,{class:"gz-char branch"},{default:a((()=>[i(f(_.tempZhi),1)])),_:1})])),_:1}),s(D,{class:"grid-section"},{default:a((()=>[s(D,{class:"grid-title"},{default:a((()=>[i("å¤©å¹²")])),_:1}),s(D,{class:"grid-row"},{default:a((()=>[(e(!0),l(c,null,n(_.ganList,(s=>(e(),t(D,{class:z(["grid-item stem-item",{active:_.tempGan===s,dimmed:C.isGanDimmed(s)}]),key:s,onClick:e=>C.selectGan(s)},{default:a((()=>[i(f(s),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),s(D,{class:"grid-section"},{default:a((()=>[s(D,{class:"grid-title"},{default:a((()=>[i("åœ°æ”¯")])),_:1}),s(D,{class:"grid-row"},{default:a((()=>[(e(!0),l(c,null,n(_.zhiList,(s=>(e(),t(D,{class:z(["grid-item branch-item",{active:_.tempZhi===s,dimmed:C.isZhiDimmed(s)}]),key:s,onClick:e=>C.selectZhi(s)},{default:a((()=>[i(f(s),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):r("",!0),s(x,{show:_.showDatePicker,value:_.customDate,onChange:C.onDateChange,onClose:m[10]||(m[10]=e=>_.showDatePicker=!1)},null,8,["show","value","onChange"]),s(B,{show:_.showTimePicker,value:_.customTime,onChange:C.onTimeChange,onClose:m[11]||(m[11]=e=>_.showTimePicker=!1)},null,8,["show","value","onChange"])])),_:1})}],["__scopeId","data-v-8fb26cad"]]);export{T as default};
