import{J as l,u as a,c as e,w as t,i as s,o as c,a as i,b as d,C as n,t as u,d as o,e as g,F as f,f as r,h as _,k as h,S as y,l as I}from"./index-a1KjuB_E.js";import{l as D}from"./index.BHYqNsFk.js";import{_ as m}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=m({data:()=>({statusBarHeight:20,contentHeight:600,dateInfo:null,hourlyData:[],showHourlyModal:!1}),onLoad(a){const e=l();this.statusBarHeight=e.statusBarHeight||20,this.contentHeight=e.windowHeight-this.statusBarHeight-44;let t=parseInt(a.year),s=parseInt(a.month),c=parseInt(a.day);if(!t||!s||!c){const l=new Date;t=l.getFullYear(),s=l.getMonth()+1,c=l.getDate()}this.initAlmanac(t,s,c)},methods:{goBack(){a({url:"/pages/index/index"})},openHourlyModal(){this.showHourlyModal=!0},closeHourlyModal(){this.showHourlyModal=!1},initAlmanac(l,a,e){const t=D.Solar.fromYmd(l,a,e),s=t.getLunar(),c=`${s.getDayTianShen()}(${s.getDayTianShenType()}日)`,i=`${s.getDayShengXiao()}日冲${s.getDayChongDesc()} 煞${s.getDaySha()}`,d=`${s.getDayPositionTai()} ${s.getXiu()}${s.getZheng()}${s.getAnimal()}-${s.getXiuLuck()}`,n=s.getDayNineStar(),u=`${n.getNameInTaiYi()}星(${n.getColor()})${n.getTypeInTaiYi()}`;console.log("[Almanac] Loading NineStar:",u),this.dateInfo={gregorian:`${t.getYear()}年${t.getMonth()}月${t.getDay()}日`,lunarShort:`${s.getMonthInChinese()}月${s.getDayInChinese()}`,gzFull:`${s.getYearInGanZhi()}年 ${s.getMonthInGanZhi()}月 ${s.getDayInGanZhi()}日`,weekday:`星期${t.getWeekInChinese()}`,yiList:s.getDayYi().join(" "),jiList:s.getDayJi().join(" "),zhiShen:c,wuXing:s.getDayNaYin(),chongSha:i,xiShen:s.getDayPositionXiDesc(),fuShen:s.getDayPositionFuDesc(),caiShen:s.getDayPositionCaiDesc(),yangGui:s.getDayPositionYangGuiDesc(),taiShen:s.getDayPositionTai(),yinGui:s.getDayPositionYinGuiDesc(),erShiBa:d,jianChu:s.getZhiXing()+"日",mingLu:s.getDayLu(),yueXiang:s.getYueXiang(),wuHou:s.getWuHou(),liuYao:s.getLiuYao(),jiShen:s.getDayJiShen().join(" "),xiongSha:s.getDayXiongSha().join(" "),pengZu:`${s.getPengZuGan()}, ${s.getPengZuZhi()}`,jiuGong:u};const o=s.getTimes();this.hourlyData=o.map((l=>({gan:l.getGan(),zhi:l.getZhi(),timeRange:`${l.getMinHm()} - ${l.getMaxHm()}`,luck:"黄道"===l.getTianShenType()?"吉":"凶",chong:l.getChongDesc(),sha:l.getSha(),xi:l.getPositionXiDesc(),cai:l.getPositionCaiDesc(),fu:l.getPositionFuDesc(),yi:l.getYi(),ji:l.getJi()})))}}},[["render",function(l,a,D,m,b,j){const k=h,S=s,p=y;return c(),e(S,{class:"container"},{default:t((()=>[i(S,{class:"nav-bar",style:n({paddingTop:b.statusBarHeight+"px"})},{default:t((()=>[i(S,{class:"nav-left",onClick:j.goBack},{default:t((()=>[i(k,{class:"back-icon"},{default:t((()=>[d("✕")])),_:1})])),_:1},8,["onClick"]),i(S,{class:"nav-center"},{default:t((()=>[i(k,{class:"nav-title"},{default:t((()=>[d("万象汇元老黄历")])),_:1})])),_:1}),i(S,{class:"nav-right"},{default:t((()=>[i(k,{class:"more-icon"},{default:t((()=>[d("···")])),_:1})])),_:1})])),_:1},8,["style"]),b.dateInfo?(c(),e(p,{key:0,"scroll-y":"",class:"main-content",style:n({height:b.contentHeight+"px"})},{default:t((()=>[i(S,{class:"top-date-section"},{default:t((()=>[i(k,{class:"gregorian-text"},{default:t((()=>[d(u(b.dateInfo.gregorian),1)])),_:1}),i(S,{class:"lunar-huge-box"},{default:t((()=>[i(k,{class:"lunar-ornament left"},{default:t((()=>[d("《")])),_:1}),i(k,{class:"lunar-huge-text"},{default:t((()=>[d(u(b.dateInfo.lunarShort),1)])),_:1}),i(k,{class:"lunar-ornament right"},{default:t((()=>[d("》")])),_:1})])),_:1}),i(k,{class:"ganzhi-week-text"},{default:t((()=>[d(u(b.dateInfo.gzFull)+" "+u(b.dateInfo.weekday),1)])),_:1})])),_:1}),i(S,{class:"yiji-section"},{default:t((()=>[i(S,{class:"yi-row"},{default:t((()=>[i(S,{class:"badge yi-badge"},{default:t((()=>[d("宜")])),_:1}),i(k,{class:"yiji-text"},{default:t((()=>[d(u(b.dateInfo.yiList),1)])),_:1})])),_:1}),i(S,{class:"ji-row"},{default:t((()=>[i(S,{class:"badge ji-badge"},{default:t((()=>[d("忌")])),_:1}),i(k,{class:"yiji-text"},{default:t((()=>[d(u(b.dateInfo.jiList),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"data-grid"},{default:t((()=>[i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("值神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.zhiShen),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("五行")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.wuXing),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("冲煞")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.chongSha),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("喜神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.xiShen),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("福神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.fuShen),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("财神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.caiShen),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("阳贵神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.yangGui),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("胎神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.taiShen),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("阴贵神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.yinGui),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("二十八星宿")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.erShiBa),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("建除十二神")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.jianChu),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("命禄")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.mingLu),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("月相")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.yueXiang),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("物候")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.wuHou),1)])),_:1})])),_:1}),i(S,{class:"grid-cell"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("六曜")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.liuYao),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell span-2"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("吉神宜趋")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.jiShen),1)])),_:1})])),_:1}),i(S,{class:"grid-cell span-2"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("凶神宜忌")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.xiongSha),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row"},{default:t((()=>[i(S,{class:"grid-cell span-2"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("彭祖百忌")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.pengZu),1)])),_:1})])),_:1}),i(S,{class:"grid-cell span-2"},{default:t((()=>[i(k,{class:"cell-label"},{default:t((()=>[d("九宫飞星")])),_:1}),i(k,{class:"cell-val"},{default:t((()=>[d(u(b.dateInfo.jiuGong),1)])),_:1})])),_:1})])),_:1}),i(S,{class:"grid-row hourly-row"},{default:t((()=>[i(S,{class:"hourly-label-col"},{default:t((()=>[i(k,{class:"hourly-label"},{default:t((()=>[d("时辰")])),_:1}),i(k,{class:"hourly-label"},{default:t((()=>[d("吉凶")])),_:1})])),_:1}),(c(!0),o(f,null,g(b.hourlyData,((l,a)=>(c(),e(S,{class:"hourly-data-col",key:a},{default:t((()=>[i(k,{class:"hour-gan"},{default:t((()=>[d(u(l.gan),1)])),_:2},1024),i(k,{class:"hour-zhi"},{default:t((()=>[d(u(l.zhi),1)])),_:2},1024),i(k,{class:I(["hour-luck","吉"===l.luck?"text-ji":"text-xiong"])},{default:t((()=>[d(u(l.luck),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),i(S,{class:"hourly-footer",onClick:j.openHourlyModal},{default:t((()=>[i(k,null,{default:t((()=>[d("点击查看时辰宜忌")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1},8,["style"])):r("",!0),b.showHourlyModal?(c(),e(S,{key:1,class:"modal-mask",onClick:j.closeHourlyModal},{default:t((()=>[i(S,{class:"modal-content",onClick:a[0]||(a[0]=_((()=>{}),["stop"]))},{default:t((()=>[i(S,{class:"modal-header"},{default:t((()=>[i(k,{class:"modal-title"},{default:t((()=>[d("时辰宜忌")])),_:1}),i(k,{class:"modal-close",onClick:j.closeHourlyModal},{default:t((()=>[d("✕")])),_:1},8,["onClick"])])),_:1}),i(p,{"scroll-y":"",class:"modal-scroll"},{default:t((()=>[(c(!0),o(f,null,g(b.hourlyData,((l,a)=>(c(),e(S,{class:"hourly-card",key:a},{default:t((()=>[i(S,{class:"card-top"},{default:t((()=>[i(k,{class:"card-time"},{default:t((()=>[d(u(l.gan)+u(l.zhi)+"时 "+u(l.timeRange),1)])),_:2},1024),i(k,{class:"card-chong"},{default:t((()=>[d("冲"+u(l.chong)+" 煞"+u(l.sha),1)])),_:2},1024),i(S,{class:I(["card-luck","吉"===l.luck?"bg-ji":"bg-xiong"])},{default:t((()=>[d(u(l.luck),1)])),_:2},1032,["class"])])),_:2},1024),i(S,{class:"card-deities"},{default:t((()=>[i(k,null,{default:t((()=>[d("喜神"+u(l.xi),1)])),_:2},1024),i(k,null,{default:t((()=>[d("财神"+u(l.cai),1)])),_:2},1024),i(k,null,{default:t((()=>[d("福神"+u(l.fu),1)])),_:2},1024)])),_:2},1024),l.yi.length?(c(),e(S,{key:0,class:"card-yiji"},{default:t((()=>[i(S,{class:"badge yi-badge small"},{default:t((()=>[d("宜")])),_:1}),i(k,{class:"yiji-text"},{default:t((()=>[d(u(l.yi.join(" ")),1)])),_:2},1024)])),_:2},1024)):r("",!0),l.ji.length?(c(),e(S,{key:1,class:"card-yiji"},{default:t((()=>[i(S,{class:"badge ji-badge small"},{default:t((()=>[d("忌")])),_:1}),i(k,{class:"yiji-text"},{default:t((()=>[d(u(l.ji.join(" ")),1)])),_:2},1024)])),_:2},1024)):r("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["onClick"])):r("",!0)])),_:1})}],["__scopeId","data-v-627c1275"]]);export{b as default};
