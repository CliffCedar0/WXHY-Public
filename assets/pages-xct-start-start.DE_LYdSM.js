import{r as e,s as a,n as s,f as t,c as l,w as i,i as n,o as c,a as r,b as u,g as o,h as d,F as h,t as m,j as f,u as p,l as g,e as _,I as k,m as b,d as w,k as P}from"./index-6ha-q1NO.js";import{b as C}from"./sizhu.BasLQ5LL.js";import{D}from"./DatePickerWheel.BKUO1wYM.js";import{T as v}from"./TimePickerWheel.Kvt0xpKa.js";import{_ as T}from"./qrcode.sWA5bQ7n.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const G={0:1,1:8,2:3,3:6,4:4,5:2,6:5,7:7},y={1:[1,1,1],2:[1,1,0],3:[1,0,1],4:[1,0,0],5:[0,1,1],6:[0,1,0],7:[0,0,1],8:[0,0,0]};const M=S({components:{DatePickerWheel:D,TimePickerWheel:v},data:()=>({modes:[{name:"æ—¶é—´",value:"time"},{name:"æ•°å­—",value:"digits"},{name:"éšæœº",value:"random"},{name:"æŒ‡å®š",value:"gua"}],currentMode:"time",selectedDate:"",selectedTime:"",lunarTimeStr:"",method0CalcResult:null,fourDigits:"",randomNumbers:"",benShang:null,benXia:null,bianShang:null,bianXia:null,guaOptions:["ä¹¾","å¤","ç¦»","å","éœ‡","å…‘","å·½","è‰®"],showGuaPicker:!1,currentGuaField:"",birthDate:"2000-01-01",birthTime:"00:00",showDatePicker:!1,showTimePicker:!1,showBirthDatePicker:!1,showBirthTimePicker:!1,showPasswordModal:!1,inputPassword:"",passwordError:!1}),computed:{canSubmit(){return"time"===this.currentMode?null!==this.method0CalcResult:"digits"===this.currentMode?4===this.fourDigits.length&&/^[0-9]{4}$/.test(this.fourDigits):"random"===this.currentMode?4===this.randomNumbers.length:"gua"===this.currentMode&&(null!==this.benShang&&null!==this.benXia&&null!==this.bianShang&&null!==this.bianXia)}},onLoad(){this.initDateTime()},methods:{goHome(){e({url:"/pages/index/index"})},initDateTime(){const e=new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");this.selectedDate=`${a}-${s}-${t}`,this.selectedTime=`${l}:${i}`,this.calculateLunarGua()},onWheelDateChange(e){this.selectedDate=e,this.calculateLunarGua()},onWheelTimeChange(e){this.selectedTime=e,this.calculateLunarGua()},onBirthDateChange(e){this.birthDate=e},onBirthTimeChange(e){this.birthTime=e},generateRandom(){let e="";for(let a=0;a<4;a++)e+=Math.floor(10*Math.random());this.randomNumbers=e},calculateLunarGua(){if(!this.selectedDate||!this.selectedTime)return;const e=`${this.selectedDate} ${this.selectedTime}`,a=new Date(e.replace(/-/g,"/")),s=C(a);if(s){this.lunarTimeStr=s.lunarStr;const{yearNum:e,monthNum:a,dayNum:t,hourNum:l}=s,i=e+a+t;let n=i%8;0===n&&(n=8);const c=i+l;let r=c%8;0===r&&(r=8);let u=c%6;0===u&&(u=6);const o=n,d=r;let h=o,m=d;if(u<=3){const e=[...y[d]];e[u-1]=1===e[u-1]?0:1,m=this.getGuaNumFromYao(e)}else{const e=[...y[o]];e[u-4]=1===e[u-4]?0:1,h=this.getGuaNumFromYao(e)}this.method0CalcResult={benShang:o,benXia:d,bianShang:h,bianXia:m}}},getGuaNumFromYao(e){for(let a=1;a<=8;a++){const s=y[a];if(s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2])return a}return 8},openGuaPicker(e){this.currentGuaField=e,this.showGuaPicker=!0},selectGua(e){"benShang"===this.currentGuaField?this.benShang=e:"benXia"===this.currentGuaField?this.benXia=e:"bianShang"===this.currentGuaField?this.bianShang=e:"bianXia"===this.currentGuaField&&(this.bianXia=e),this.showGuaPicker=!1},startPaipan(){this.canSubmit?(this.showPasswordModal=!0,this.inputPassword="",this.passwordError=!1):a({title:"è¯·å®Œæ•´è¾“å…¥èµ·å¦ä¿¡æ¯",icon:"none"})},verifyPassword(){["030923","963258"].includes(this.inputPassword)||["050311","764887103","102725","71596","88888888","tcj1997","lzxls0518","990402","547963","10805","12138","1234567","194910","147258369","4622131","971105","20040210","qi123456"].includes(this.inputPassword)?(this.showPasswordModal=!1,this.passwordError=!1,this.doPaipan()):(this.passwordError=!0,this.inputPassword="")},doPaipan(){this.showPasswordModal=!1;let e=[];if("time"===this.currentMode){const a=this.method0CalcResult;e=[a.benShang,a.benXia,a.bianShang,a.bianXia]}else"digits"===this.currentMode?e=this.fourDigits.split("").map((e=>parseInt(e))):"random"===this.currentMode?e=this.randomNumbers.split("").map((e=>parseInt(e))):"gua"===this.currentMode&&(e=[G[this.benShang],G[this.benXia],G[this.bianShang],G[this.bianXia]]);const a=`${this.selectedDate} ${this.selectedTime}`,t=new Date(a.replace(/-/g,"/")).getTime(),l=`${this.birthDate} ${this.birthTime}`,i=new Date(l.replace(/-/g,"/")).getTime();s({url:`/pages/xct/display/display?numbers=${e.join(",")}&timestamp=${t}&birthTimestamp=${i}`})}}},[["render",function(e,a,s,C,D,v){const S=_,G=n,y=k,M=b,X=t("DatePickerWheel"),x=t("TimePickerWheel"),$=w;return c(),l(G,{class:"container"},{default:i((()=>[r(G,{class:"top-bar"},{default:i((()=>[r(G,{class:"back-btn",onClick:v.goHome},{default:i((()=>[r(S,{class:"back-text"},{default:i((()=>[u("é¦–é¡µ")])),_:1})])),_:1},8,["onClick"]),r(S,{class:"page-title"},{default:i((()=>[u("å°æˆå›¾")])),_:1}),r(G,{class:"placeholder"})])),_:1}),r(G,{class:"form-card"},{default:i((()=>[r(G,{class:"tab-card"},{default:i((()=>[(c(!0),o(h,null,d(D.modes,((e,a)=>(c(),l(G,{class:P(["tab-item",{active:D.currentMode===e.value}]),key:a,onClick:a=>D.currentMode=e.value},{default:i((()=>[u(m(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),r(G,{class:"divider"}),"time"===D.currentMode?(c(),l(G,{key:0,class:"input-section"},{default:i((()=>[r(G,{class:"section-label"},{default:i((()=>[u("é€‰æŠ˜æ—¶é—´ (é»˜è®¤å½“å‰)")])),_:1}),r(G,{class:"picker-row"},{default:i((()=>[r(G,{class:"picker-half",onClick:a[0]||(a[0]=e=>D.showDatePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.selectedDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(G,{class:"picker-half",onClick:a[1]||(a[1]=e=>D.showTimePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.selectedTime||"æ—¶ : åˆ†"),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("â°")])),_:1})])),_:1})])),_:1})])),_:1}),D.lunarTimeStr?(c(),l(G,{key:0,class:"time-display"},{default:i((()=>[r(S,{class:"time-text"},{default:i((()=>[u(m(D.lunarTimeStr),1)])),_:1})])),_:1})):f("",!0)])),_:1})):f("",!0),"digits"===D.currentMode?(c(),l(G,{key:1,class:"input-section"},{default:i((()=>[r(G,{class:"section-label"},{default:i((()=>[u("è¾“å…¥å››ä½æ•°å­— (0-9, 0ä»£è¡¨10)")])),_:1}),r(G,{class:"input-wrapper"},{default:i((()=>[r(y,{type:"number",modelValue:D.fourDigits,"onUpdate:modelValue":a[2]||(a[2]=e=>D.fourDigits=e),placeholder:"ä¾‹å¦‚: 1234",maxlength:"4",class:"std-input"},null,8,["modelValue"])])),_:1})])),_:1})):f("",!0),"random"===D.currentMode?(c(),l(G,{key:2,class:"input-section"},{default:i((()=>[r(G,{class:"section-label"},{default:i((()=>[u("éšæœºç”Ÿæˆå››ä½æ•°å­—")])),_:1}),r(G,{class:"huoshi-row"},{default:i((()=>[r(S,{class:"number-display"},{default:i((()=>[u(m(D.randomNumbers||"----"),1)])),_:1}),r(G,{class:"huoshi-btns"},{default:i((()=>[r(G,{class:"btn-xs",onClick:v.generateRandom},{default:i((()=>[u("ğŸ² ç”Ÿæˆ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):f("",!0),"gua"===D.currentMode?(c(),l(G,{key:3,class:"input-section"},{default:i((()=>[r(G,{class:"section-label"},{default:i((()=>[u("èµ·å¦æ—¶é—´")])),_:1}),r(G,{class:"picker-row"},{default:i((()=>[r(G,{class:"picker-half",onClick:a[3]||(a[3]=e=>D.showDatePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.selectedDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(G,{class:"picker-half",onClick:a[4]||(a[4]=e=>D.showTimePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.selectedTime||"æ—¶ : åˆ†"),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("â°")])),_:1})])),_:1})])),_:1})])),_:1}),p("div",{class:"divider"}),r(G,{class:"section-label"},{default:i((()=>[u("é€‰æŠ˜æœ¬å¦ä¸å˜å¦")])),_:1}),r(G,{class:"gua-select-group"},{default:i((()=>[r(G,{class:"gua-row"},{default:i((()=>[r(G,{class:"gua-item"},{default:i((()=>[r(S,{class:"gua-label"},{default:i((()=>[u("æœ¬å¦ä¸Šå¦")])),_:1}),r(G,{class:"gua-selector",onClick:a[5]||(a[5]=e=>v.openGuaPicker("benShang"))},{default:i((()=>[r(S,{class:"gua-value"},{default:i((()=>[u(m(D.guaOptions[D.benShang]||"é€‰æŠ˜"),1)])),_:1}),r(S,{class:"arrow"},{default:i((()=>[u("â–¼")])),_:1})])),_:1})])),_:1}),r(G,{class:"gua-item"},{default:i((()=>[r(S,{class:"gua-label"},{default:i((()=>[u("æœ¬å¦ä¸‹å¦")])),_:1}),r(G,{class:"gua-selector",onClick:a[6]||(a[6]=e=>v.openGuaPicker("benXia"))},{default:i((()=>[r(S,{class:"gua-value"},{default:i((()=>[u(m(D.guaOptions[D.benXia]||"é€‰æŠ˜"),1)])),_:1}),r(S,{class:"arrow"},{default:i((()=>[u("â–¼")])),_:1})])),_:1})])),_:1})])),_:1}),r(G,{class:"gua-row"},{default:i((()=>[r(G,{class:"gua-item"},{default:i((()=>[r(S,{class:"gua-label"},{default:i((()=>[u("å˜å¦ä¸Šå¦")])),_:1}),r(G,{class:"gua-selector",onClick:a[7]||(a[7]=e=>v.openGuaPicker("bianShang"))},{default:i((()=>[r(S,{class:"gua-value"},{default:i((()=>[u(m(D.guaOptions[D.bianShang]||"é€‰æŠ˜"),1)])),_:1}),r(S,{class:"arrow"},{default:i((()=>[u("â–¼")])),_:1})])),_:1})])),_:1}),r(G,{class:"gua-item"},{default:i((()=>[r(S,{class:"gua-label"},{default:i((()=>[u("å˜å¦ä¸‹å¦")])),_:1}),r(G,{class:"gua-selector",onClick:a[8]||(a[8]=e=>v.openGuaPicker("bianXia"))},{default:i((()=>[r(S,{class:"gua-value"},{default:i((()=>[u(m(D.guaOptions[D.bianXia]||"é€‰æŠ˜"),1)])),_:1}),r(S,{class:"arrow"},{default:i((()=>[u("â–¼")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):f("",!0),r(G,{class:"divider"}),r(G,{class:"input-section"},{default:i((()=>[r(G,{class:"section-label"},{default:i((()=>[u("å‡ºç”Ÿæ—¶é—´ (æœ¬å‘½)")])),_:1}),r(G,{class:"picker-row"},{default:i((()=>[r(G,{class:"picker-half",onClick:a[9]||(a[9]=e=>D.showBirthDatePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.birthDate),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(G,{class:"picker-half",onClick:a[10]||(a[10]=e=>D.showBirthTimePicker=!0)},{default:i((()=>[r(G,{class:"picker-view"},{default:i((()=>[r(S,{class:"picker-val"},{default:i((()=>[u(m(D.birthTime),1)])),_:1}),r(S,{class:"icon"},{default:i((()=>[u("â°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),r(M,{class:"btn-submit",onClick:v.startPaipan,"hover-class":"btn-hover"},{default:i((()=>[u("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),r(G,{class:"tips"},{default:i((()=>[r(S,{class:"tips-title"},{default:i((()=>[u("è¯´æ˜ï¼š")])),_:1}),r(S,{class:"tips-content"},{default:i((()=>[u(" â€¢ æ—¶é—´èµ·å¦ï¼šä½¿ç”¨å½“å‰æ—¶é—´(å°æ—¶:åˆ†é’Ÿ)çš„å››ä½æ•°å­— â€¢ å¤©åœ°æ•°èµ·å¦ï¼šç›´æ¥è¾“å…¥4ä½æ•°å­—ï¼ˆ0-9ï¼‰ï¼Œ0ä»£è¡¨10 â€¢ éšæœºèµ·å¦ï¼šç³»ç»Ÿéšæœºç”Ÿæˆ4ä½æ•°å­— â€¢ æŒ‡å®šå•å¦ï¼šç›´æ¥é€‰æŠ˜å…«å¦åç§° ")])),_:1})])),_:1}),r(G,{class:"copyright-info"},{default:i((()=>[r(G,{class:"copyright-line"},{default:i((()=>[u("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),r(G,{class:"copyright-line"},{default:i((()=>[u("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),r(X,{show:D.showDatePicker,value:D.selectedDate,onChange:v.onWheelDateChange,onClose:a[11]||(a[11]=e=>D.showDatePicker=!1)},null,8,["show","value","onChange"]),r(x,{show:D.showTimePicker,value:D.selectedTime,onChange:v.onWheelTimeChange,onClose:a[12]||(a[12]=e=>D.showTimePicker=!1)},null,8,["show","value","onChange"]),r(X,{show:D.showBirthDatePicker,value:D.birthDate,onChange:v.onBirthDateChange,onClose:a[13]||(a[13]=e=>D.showBirthDatePicker=!1)},null,8,["show","value","onChange"]),r(x,{show:D.showBirthTimePicker,value:D.birthTime,onChange:v.onBirthTimeChange,onClose:a[14]||(a[14]=e=>D.showBirthTimePicker=!1)},null,8,["show","value","onChange"]),D.showGuaPicker?(c(),l(G,{key:0,class:"picker-modal",onClick:a[16]||(a[16]=e=>D.showGuaPicker=!1)},{default:i((()=>[r(G,{class:"picker-content",onClick:a[15]||(a[15]=g((()=>{}),["stop"]))},{default:i((()=>[r(G,{class:"picker-header"},{default:i((()=>[u("é€‰æŠ˜å¦è±¡")])),_:1}),r(G,{class:"ganzhi-grid"},{default:i((()=>[(c(!0),o(h,null,d(D.guaOptions,((e,a)=>(c(),l(G,{class:"ganzhi-cell",key:a,onClick:e=>v.selectGua(a)},{default:i((()=>[u(m(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):f("",!0),D.showPasswordModal?(c(),l(G,{key:1,class:"password-modal"},{default:i((()=>[r(G,{class:"password-content"},{default:i((()=>[r(G,{class:"password-header"},{default:i((()=>[r(S,null,{default:i((()=>[u("ç‚¹å‡»å¼€å§‹æ’ç›˜")])),_:1})])),_:1}),r(G,{class:"password-body"},{default:i((()=>[r($,{src:T,mode:"aspectFit",style:{width:"400rpx",height:"400rpx","margin-bottom":"20rpx","align-self":"center"}}),r(G,{class:"password-btns",style:{"margin-top":"20rpx"}},{default:i((()=>[r(G,{class:"password-confirm-btn",onClick:v.doPaipan,style:{width:"100%"}},{default:i((()=>[r(S,null,{default:i((()=>[u("å¼€å§‹æ’ç›˜")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})):f("",!0)])),_:1})}],["__scopeId","data-v-b898be48"]]);export{M as default};
