import{g as e,p as a,q as t,u as s,s as l,m as i,v as c,x as n,y as u,n as o,z as r,c as h,w as d,i as m,o as f,a as p,b as g,d as k,e as _,F as b,t as w,f as C,E as S,h as v,k as P,I as D,A as T,l as M}from"./index-a1KjuB_E.js";import{v as y}from"./auth.CQCOhNF0.js";import{b as G}from"./sizhu.CsmR9TSq.js";import{D as A}from"./DatePickerWheel.KNM5BqyG.js";import{T as X}from"./TimePickerWheel.CHAGNaUb.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.BHYqNsFk.js";const x={0:1,1:8,2:3,3:6,4:4,5:2,6:5,7:7},N={1:[1,1,1],2:[1,1,0],3:[1,0,1],4:[1,0,0],5:[0,1,1],6:[0,1,0],7:[0,0,1],8:[0,0,0]};const W=$({components:{DatePickerWheel:A,TimePickerWheel:X},data:()=>({modes:[{name:"Êó∂Èó¥",value:"time"},{name:"Êï∞Â≠ó",value:"digits"},{name:"ÈöèÊú∫",value:"random"},{name:"ÊåáÂÆö",value:"gua"}],currentMode:"time",selectedDate:"",selectedTime:"",lunarTimeStr:"",method0CalcResult:null,fourDigits:"",randomNumbers:"",benShang:null,benXia:null,bianShang:null,bianXia:null,guaOptions:["‰πæ","Âù§","Á¶ª","Âùé","Èúá","ÂÖë","Â∑Ω","ËâÆ"],showGuaPicker:!1,currentGuaField:"",birthDate:"2000-01-01",birthTime:"00:00",showDatePicker:!1,showTimePicker:!1,showBirthDatePicker:!1,showBirthTimePicker:!1,showAuthModal:!1,authPassword:"",isSecretUnlocked:!1,secretStep:0,currentIsAdmin:!1}),computed:{canSubmit(){return"time"===this.currentMode?null!==this.method0CalcResult:"digits"===this.currentMode?4===this.fourDigits.length&&/^[0-9]{4}$/.test(this.fourDigits):"random"===this.currentMode?4===this.randomNumbers.length:"gua"===this.currentMode&&(null!==this.benShang&&null!==this.benXia&&null!==this.bianShang&&null!==this.bianXia)}},onLoad(){this.initDateTime(),e().globalData.isAdmin&&(this.isSecretUnlocked=!0,this.currentIsAdmin=!0)},methods:{goHome(){a().length>1?t():s({url:"/pages/index/index"})},initDateTime(){const e=new Date,a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");this.selectedDate=`${a}-${t}-${s}`,this.selectedTime=`${l}:${i}`,this.calculateLunarGua()},onWheelDateChange(e){this.selectedDate=e,this.calculateLunarGua()},onWheelTimeChange(e){this.selectedTime=e,this.calculateLunarGua()},onBirthDateChange(e){this.birthDate=e},onBirthTimeChange(e){this.birthTime=e},generateRandom(){let e="";for(let a=0;a<4;a++)e+=Math.floor(10*Math.random());this.randomNumbers=e},calculateLunarGua(){if(!this.selectedDate||!this.selectedTime)return;const e=`${this.selectedDate} ${this.selectedTime}`,a=new Date(e.replace(/-/g,"/")),t=G(a);if(t){this.lunarTimeStr=t.lunarStr;const{yearNum:e,monthNum:a,dayNum:s,hourNum:l}=t,i=e+a+s;let c=i%8;0===c&&(c=8);const n=i+l;let u=n%8;0===u&&(u=8);let o=n%6;0===o&&(o=6);const r=c,h=u;let d=r,m=h;if(o<=3){const e=[...N[h]];e[o-1]=1===e[o-1]?0:1,m=this.getGuaNumFromYao(e)}else{const e=[...N[r]];e[o-4]=1===e[o-4]?0:1,d=this.getGuaNumFromYao(e)}this.method0CalcResult={benShang:r,benXia:h,bianShang:d,bianXia:m}}},getGuaNumFromYao(e){for(let a=1;a<=8;a++){const t=N[a];if(t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2])return a}return 8},openGuaPicker(e){this.currentGuaField=e,this.showGuaPicker=!0},selectGua(e){"benShang"===this.currentGuaField?this.benShang=e:"benXia"===this.currentGuaField?this.benXia=e:"bianShang"===this.currentGuaField?this.bianShang=e:"bianXia"===this.currentGuaField&&(this.bianXia=e),this.showGuaPicker=!1},startPaipan(){this.canSubmit?this.isSecretUnlocked||i("xct_vip")?this.doPaipan("ÁÆ°ÁêÜÂëò"):(this.showAuthModal=!0,this.authPassword=""):l({title:"ËØ∑ÂÆåÊï¥ËæìÂÖ•Ëµ∑Âç¶‰ø°ÊÅØ",icon:"none"})},closeAuthModal(){this.showAuthModal=!1,this.authPassword=""},async verifyAuth(){if(!this.authPassword.trim())return void l({title:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å",icon:"none"});c({title:"È™åËØÅ‰∏≠..."});const e=await y(this.authPassword.trim(),"xct");if(n(),e){const a=e.remark||"ÁÆ°ÁêÜÂëò";u("xct_vip",!0),l({title:"Ëß£ÈîÅÊàêÂäü",icon:"success"}),this.showAuthModal=!1,this.currentIsAdmin=!0,this.doPaipan(a)}else l({title:"ÂØÜÁ†ÅÈîôËØØÊàñÂ∑≤Â§±ÊïàÔºåÂ∞Ü‰ª•Ê∏∏ÂÆ¢Ê®°ÂºèËøõÂÖ•",icon:"none"}),setTimeout((()=>{this.showAuthModal=!1,this.doPaipan("Ê∏∏ÂÆ¢",!0)}),1500)},continueAsGuest(){this.authPassword="",l({title:"Â∑≤ËøõÂÖ•Ê∏∏ÂÆ¢Ê®°Âºè",icon:"none"}),setTimeout((()=>{this.showAuthModal=!1,this.doPaipan("Ê∏∏ÂÆ¢")}),800)},doPaipan(e="Ê∏∏ÂÆ¢"){let a=[];if("time"===this.currentMode){const e=this.method0CalcResult;a=[e.benShang,e.benXia,e.bianShang,e.bianXia]}else"digits"===this.currentMode?a=this.fourDigits.split("").map((e=>parseInt(e))):"random"===this.currentMode?a=this.randomNumbers.split("").map((e=>parseInt(e))):"gua"===this.currentMode&&(a=[x[this.benShang],x[this.benXia],x[this.bianShang],x[this.bianXia]]);const t=`${this.selectedDate} ${this.selectedTime}`,s=new Date(t.replace(/-/g,"/")).getTime(),l=`${this.birthDate} ${this.birthTime}`,i=new Date(l.replace(/-/g,"/")).getTime();o({url:`/pages/xct/display/display?numbers=${a.join(",")}&timestamp=${s}&birthTimestamp=${i}&userName=${e}`})},handleSecretStep(e){1===e?this.secretStep=1:2===e?1===this.secretStep?this.secretStep=2:this.secretStep=0:3===e&&(2===this.secretStep&&(this.isSecretUnlocked=!0,l({title:"Â∑≤ËøõÂÖ•ÁÆ°ÁêÜÂëòÊ®°Âºè",icon:"none"})),this.secretStep=0)},unlockSecretSupport(){this.isSecretUnlocked=!0,l({title:"Â∑≤ËøõÂÖ•ÁÆ°ÁêÜÂëòÊ®°Âºè",icon:"none"})}}},[["render",function(e,a,t,s,l,i){const c=P,n=m,u=D,o=T,y=r("DatePickerWheel"),G=r("TimePickerWheel");return f(),h(n,{class:"container"},{default:d((()=>[p(n,{class:"top-bar"},{default:d((()=>[p(n,{class:"back-btn",onClick:i.goHome},{default:d((()=>[p(c,{class:"back-text"},{default:d((()=>[g("È¶ñÈ°µ")])),_:1})])),_:1},8,["onClick"]),p(c,{class:"page-title"},{default:d((()=>[g("Â∞èÊàêÂõæ")])),_:1}),p(n,{class:"placeholder"})])),_:1}),p(n,{class:"form-card"},{default:d((()=>[p(n,{class:"tab-card"},{default:d((()=>[(f(!0),k(b,null,_(l.modes,((e,a)=>(f(),h(n,{class:M(["tab-item",{active:l.currentMode===e.value}]),key:a,onClick:a=>l.currentMode=e.value},{default:d((()=>[g(w(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),p(n,{class:"divider"}),"time"===l.currentMode?(f(),h(n,{key:0,class:"input-section"},{default:d((()=>[p(n,{class:"section-label"},{default:d((()=>[g("ÈÄâÊäòÊó∂Èó¥ (ÈªòËÆ§ÂΩìÂâç)")])),_:1}),p(n,{class:"picker-row"},{default:d((()=>[p(n,{class:"picker-half",onClick:a[0]||(a[0]=e=>l.showDatePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.selectedDate||"Âπ¥ / Êúà / Êó•"),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1}),p(n,{class:"picker-half",onClick:a[1]||(a[1]=e=>l.showTimePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.selectedTime||"Êó∂ : ÂàÜ"),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1})])),_:1}),l.lunarTimeStr?(f(),h(n,{key:0,class:"time-display"},{default:d((()=>[p(c,{class:"time-text"},{default:d((()=>[g(w(l.lunarTimeStr),1)])),_:1})])),_:1})):C("",!0)])),_:1})):C("",!0),"digits"===l.currentMode?(f(),h(n,{key:1,class:"input-section"},{default:d((()=>[p(n,{class:"section-label"},{default:d((()=>[g("ËæìÂÖ•Âõõ‰ΩçÊï∞Â≠ó (0-9, 0‰ª£Ë°®10)")])),_:1}),p(n,{class:"input-wrapper"},{default:d((()=>[p(u,{type:"number",modelValue:l.fourDigits,"onUpdate:modelValue":a[2]||(a[2]=e=>l.fourDigits=e),placeholder:"‰æãÂ¶Ç: 1234",maxlength:"4",class:"std-input"},null,8,["modelValue"])])),_:1})])),_:1})):C("",!0),"random"===l.currentMode?(f(),h(n,{key:2,class:"input-section"},{default:d((()=>[p(n,{class:"section-label"},{default:d((()=>[g("ÈöèÊú∫ÁîüÊàêÂõõ‰ΩçÊï∞Â≠ó")])),_:1}),p(n,{class:"huoshi-row"},{default:d((()=>[p(c,{class:"number-display"},{default:d((()=>[g(w(l.randomNumbers||"----"),1)])),_:1}),p(n,{class:"huoshi-btns"},{default:d((()=>[p(n,{class:"btn-xs",onClick:i.generateRandom},{default:d((()=>[g("üé≤ ÁîüÊàê")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):C("",!0),"gua"===l.currentMode?(f(),h(n,{key:3,class:"input-section"},{default:d((()=>[p(n,{class:"section-label"},{default:d((()=>[g("Ëµ∑Âç¶Êó∂Èó¥")])),_:1}),p(n,{class:"picker-row"},{default:d((()=>[p(n,{class:"picker-half",onClick:a[3]||(a[3]=e=>l.showDatePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.selectedDate||"Âπ¥ / Êúà / Êó•"),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1}),p(n,{class:"picker-half",onClick:a[4]||(a[4]=e=>l.showTimePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.selectedTime||"Êó∂ : ÂàÜ"),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1})])),_:1}),S("div",{class:"divider"}),p(n,{class:"section-label"},{default:d((()=>[g("ÈÄâÊäòÊú¨Âç¶‰∏éÂèòÂç¶")])),_:1}),p(n,{class:"gua-select-group"},{default:d((()=>[p(n,{class:"gua-row"},{default:d((()=>[p(n,{class:"gua-item"},{default:d((()=>[p(c,{class:"gua-label"},{default:d((()=>[g("Êú¨Âç¶‰∏äÂç¶")])),_:1}),p(n,{class:"gua-selector",onClick:a[5]||(a[5]=e=>i.openGuaPicker("benShang"))},{default:d((()=>[p(c,{class:"gua-value"},{default:d((()=>[g(w(l.guaOptions[l.benShang]||"ÈÄâÊäò"),1)])),_:1}),p(c,{class:"arrow"},{default:d((()=>[g("‚ñº")])),_:1})])),_:1})])),_:1}),p(n,{class:"gua-item"},{default:d((()=>[p(c,{class:"gua-label"},{default:d((()=>[g("Êú¨Âç¶‰∏ãÂç¶")])),_:1}),p(n,{class:"gua-selector",onClick:a[6]||(a[6]=e=>i.openGuaPicker("benXia"))},{default:d((()=>[p(c,{class:"gua-value"},{default:d((()=>[g(w(l.guaOptions[l.benXia]||"ÈÄâÊäò"),1)])),_:1}),p(c,{class:"arrow"},{default:d((()=>[g("‚ñº")])),_:1})])),_:1})])),_:1})])),_:1}),p(n,{class:"gua-row"},{default:d((()=>[p(n,{class:"gua-item"},{default:d((()=>[p(c,{class:"gua-label"},{default:d((()=>[g("ÂèòÂç¶‰∏äÂç¶")])),_:1}),p(n,{class:"gua-selector",onClick:a[7]||(a[7]=e=>i.openGuaPicker("bianShang"))},{default:d((()=>[p(c,{class:"gua-value"},{default:d((()=>[g(w(l.guaOptions[l.bianShang]||"ÈÄâÊäò"),1)])),_:1}),p(c,{class:"arrow"},{default:d((()=>[g("‚ñº")])),_:1})])),_:1})])),_:1}),p(n,{class:"gua-item"},{default:d((()=>[p(c,{class:"gua-label"},{default:d((()=>[g("ÂèòÂç¶‰∏ãÂç¶")])),_:1}),p(n,{class:"gua-selector",onClick:a[8]||(a[8]=e=>i.openGuaPicker("bianXia"))},{default:d((()=>[p(c,{class:"gua-value"},{default:d((()=>[g(w(l.guaOptions[l.bianXia]||"ÈÄâÊäò"),1)])),_:1}),p(c,{class:"arrow"},{default:d((()=>[g("‚ñº")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):C("",!0),p(n,{class:"divider"}),p(n,{class:"input-section"},{default:d((()=>[p(n,{class:"section-label"},{default:d((()=>[g("Âá∫ÁîüÊó∂Èó¥ (Êú¨ÂëΩ)")])),_:1}),p(n,{class:"picker-row"},{default:d((()=>[p(n,{class:"picker-half",onClick:a[9]||(a[9]=e=>l.showBirthDatePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.birthDate),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1}),p(n,{class:"picker-half",onClick:a[10]||(a[10]=e=>l.showBirthTimePicker=!0)},{default:d((()=>[p(n,{class:"picker-view"},{default:d((()=>[p(c,{class:"picker-val"},{default:d((()=>[g(w(l.birthTime),1)])),_:1}),p(c,{class:"icon"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),p(o,{class:"btn-submit",onClick:i.startPaipan,"hover-class":"btn-hover"},{default:d((()=>[g("ÂºÄÂßãÊéíÁõò")])),_:1},8,["onClick"]),p(n,{class:"tips"},{default:d((()=>[p(c,{class:"tips-title"},{default:d((()=>[g("ËØ¥ÊòéÔºö")])),_:1}),p(c,{class:"tips-content"},{default:d((()=>[g(" ‚Ä¢ Êó∂Èó¥Ëµ∑Âç¶Ôºö‰ΩøÁî®ÂΩìÂâçÊó∂Èó¥(Â∞èÊó∂:ÂàÜÈíü)ÁöÑÂõõ‰ΩçÊï∞Â≠ó ‚Ä¢ Â§©Âú∞Êï∞Ëµ∑Âç¶ÔºöÁõ¥Êé•ËæìÂÖ•4‰ΩçÊï∞Â≠óÔºà0-9ÔºâÔºå0‰ª£Ë°®10 ‚Ä¢ ÈöèÊú∫Ëµ∑Âç¶ÔºöÁ≥ªÁªüÈöèÊú∫ÁîüÊàê4‰ΩçÊï∞Â≠ó ‚Ä¢ ÊåáÂÆöÂçïÂç¶ÔºöÁõ¥Êé•ÈÄâÊäòÂÖ´Âç¶ÂêçÁß∞ ")])),_:1})])),_:1}),p(n,{class:"copyright-info"},{default:d((()=>[p(n,{class:"copyright-line",onClick:a[11]||(a[11]=e=>i.handleSecretStep(3))},{default:d((()=>[g("¬© Developer: ÊôØÂ∑ù ¬∑ Wechat: Im_JingChuang")])),_:1}),p(n,{class:"copyright-line",onClick:a[12]||(a[12]=e=>i.handleSecretStep(1))},{default:d((()=>[g("¬© Technical supporter: ÂçøÊ†∏ ¬∑ Wechat: qinghe4994")])),_:1}),p(n,{class:"copyright-line",onClick:a[13]||(a[13]=e=>i.handleSecretStep(2))},{default:d((()=>[g("¬© Server supporterÔºö üêçÁáï‰πêÁß¶üêç WeChatÔºöaispidercc")])),_:1})])),_:1}),p(y,{show:l.showDatePicker,value:l.selectedDate,onChange:i.onWheelDateChange,onClose:a[14]||(a[14]=e=>l.showDatePicker=!1)},null,8,["show","value","onChange"]),p(G,{show:l.showTimePicker,value:l.selectedTime,onChange:i.onWheelTimeChange,onClose:a[15]||(a[15]=e=>l.showTimePicker=!1)},null,8,["show","value","onChange"]),p(y,{show:l.showBirthDatePicker,value:l.birthDate,onChange:i.onBirthDateChange,onClose:a[16]||(a[16]=e=>l.showBirthDatePicker=!1)},null,8,["show","value","onChange"]),p(G,{show:l.showBirthTimePicker,value:l.birthTime,onChange:i.onBirthTimeChange,onClose:a[17]||(a[17]=e=>l.showBirthTimePicker=!1)},null,8,["show","value","onChange"]),l.showGuaPicker?(f(),h(n,{key:0,class:"picker-modal",onClick:a[19]||(a[19]=e=>l.showGuaPicker=!1)},{default:d((()=>[p(n,{class:"picker-content",onClick:a[18]||(a[18]=v((()=>{}),["stop"]))},{default:d((()=>[p(n,{class:"picker-header"},{default:d((()=>[g("ÈÄâÊäòÂç¶Ë±°")])),_:1}),p(n,{class:"ganzhi-grid"},{default:d((()=>[(f(!0),k(b,null,_(l.guaOptions,((e,a)=>(f(),h(n,{class:"ganzhi-cell",key:a,onClick:e=>i.selectGua(a)},{default:d((()=>[g(w(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):C("",!0),l.showAuthModal?(f(),h(n,{key:1,class:"auth-modal"},{default:d((()=>[p(n,{class:"auth-content"},{default:d((()=>[p(n,{class:"auth-header"},{default:d((()=>[p(c,{class:"auth-title"},{default:d((()=>[g("ËØ∑ËæìÂÖ•ÊéàÊùÉÂØÜÁ†Å")])),_:1}),p(c,{class:"close-btn",onClick:i.closeAuthModal},{default:d((()=>[g("√ó")])),_:1},8,["onClick"]),p(c,{class:"auth-subtitle"},{default:d((()=>[g("ÂÆåÊï¥Áâà‰æõÂÜÖÈÉ®Â≠¶ÂëòÊü•ÈòÖÔºåÊó†ÂØÜÁ†ÅÂèØÁî®Ê∏∏ÂÆ¢ÈôêÂà∂ÁâàÊéíÁõò")])),_:1})])),_:1}),p(u,{class:"auth-input",type:"password",modelValue:l.authPassword,"onUpdate:modelValue":a[20]||(a[20]=e=>l.authPassword=e),placeholder:"ËØ∑ËæìÂÖ•ÂØÜÁ†Å"},null,8,["modelValue"]),p(n,{class:"auth-btns"},{default:d((()=>[p(n,{class:"auth-btn btn-guest",onClick:i.continueAsGuest},{default:d((()=>[g("Ê∏∏ÂÆ¢ËøõÂÖ•")])),_:1},8,["onClick"]),p(n,{class:"auth-btn btn-verify",onClick:i.verifyAuth},{default:d((()=>[g("Á°ÆÂÆöËß£ÈîÅ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):C("",!0)])),_:1})}],["__scopeId","data-v-11436fab"]]);export{W as default};
