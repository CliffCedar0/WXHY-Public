import{i as n}from"./shichen.C6pgosp-.js";import{e}from"./xingnian.BrG0V-Tl.js";const s={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"};function a(n,e,a){const c=s[n]||"";const u=a[c]||"",t=n,i=a[u]||"",d=u,h=a[e]||"";return{yike:{shang:u,xia:t},erke:{shang:i,xia:d},sanke:{shang:h,xia:e},sike:{shang:a[h]||"",xia:h},ganJigong:c}}const c=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],u={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"},t=["甲寅","庚申","癸丑","己未","丁未"],i={"金":"木","木":"土","土":"水","水":"火","火":"金"},d={"子":"水","丑":"土","寅":"木","卯":"木","辰":"土","巳":"火","午":"火","未":"土","申":"金","酉":"金","戌":"土","亥":"水"},h={"甲":"木","乙":"木","丙":"火","丁":"火","戊":"土","己":"土","庚":"金","辛":"金","壬":"水","癸":"水"},o={"子":"午","午":"子","丑":"未","未":"丑","寅":"申","申":"寅","卯":"酉","酉":"卯","辰":"戌","戌":"辰","巳":"亥","亥":"巳"},m={"申":"寅","子":"寅","辰":"寅","寅":"申","午":"申","戌":"申","巳":"亥","酉":"亥","丑":"亥","亥":"巳","卯":"巳","未":"巳"};function r(n){return h[n]||d[n]||""}function g(n){return["甲","丙","戊","庚","壬"].includes(n)||["子","寅","辰","午","申","戌"].includes(n)}function l(n,e){return i[n]===e}function f(n,e){return l(r(n),r(e))}function p(n,e){const s=r(n);return l(r(e),s)}function k(n){const e=[],s=[],a=[{index:1,name:"yike",...n.yike},{index:2,name:"erke",...n.erke},{index:3,name:"sanke",...n.sanke},{index:4,name:"sike",...n.sike}];for(const c of a)f(c.shang,c.xia)&&e.push({index:c.index,tianpan:c.shang,dipan:c.xia,name:c.name}),p(c.shang,c.xia)&&s.push({index:c.index,tianpan:c.shang,dipan:c.xia,name:c.name});return{shangke:e,xiazei:s}}function x(n,e,s){let a=null;for(let c in e)if(e[c]===n){a=c;break}if(!a)return 0;const u=function(n,e){const s=c.indexOf(n),a=c.indexOf(e),u=[n];let t=s;for(;t!==a;)t=(t+1)%12,u.push(c[t]);return u}(a,n);let t=0;const i=r(n);for(let c=0;c<u.length;c++){const n=u[c];t+=y(i,n,!s)}return t}function y(n,e,s){let a=0;const c=r(e);if(s){l(n,c)&&a++;const s=z(e);for(const e of s){l(n,r(e))&&a++}}else{l(c,n)&&a++;const s=z(e);for(const e of s){l(r(e),n)&&a++}}return a}function z(n){return{"寅":["甲"],"辰":["乙"],"巳":["丙","戊"],"未":["丁","己"],"申":["庚"],"戌":["辛","戊"],"亥":["壬"],"丑":["癸","己"]}[n]||[]}function v(n,e){const s=[e.erke,e.sanke,e.sike],a=[],c=[];for(let u=0;u<s.length;u++){const e=s[u];f(e.shang,n)&&a.push({index:u+2,tianpan:e.shang}),f(n,e.shang)&&c.push({index:u+2,tianpan:e.shang})}return{keRigan:a,riganKe:c}}function $(n,e,s){const a=c.indexOf(n);if(-1===a)return n;let u;return u=s?(a+(e-1))%12:(a-(e-1)+12)%12,c[u]}function j(n,e){if(!n)return"";return{"寅":"巳","巳":"申","申":"寅","丑":"戌","戌":"未","未":"丑","子":"卯","卯":"子","辰":"辰","午":"午","酉":"酉","亥":"亥"}[n]||n}function b(n,e,s,a){if(!function(n){let e=0;for(let s in n)o[s]===n[s]&&e++;return e>=6}(a))return null;const c=k(s);if(c.shangke.length>0||c.xiazei.length>0){const n=(c.xiazei.length>0?c.xiazei[0]:c.shangke[0]).tianpan,e=a[n]||"";return{chuchuan:n,zhongchuan:e,mochuan:a[e]||"",method:"反吟有克",reason:"反吟课有贼克"}}const u=m[e];return u?{chuchuan:u,zhongchuan:s.sanke.shang,mochuan:s.yike.shang,method:"反吟驿马",reason:"无克取日支驿马"}:null}function O(n,e,s,a){const c=k(n),i=c.shangke.length>0||c.xiazei.length>0,d=v(e,n),h=d.keRigan.length>0||d.riganKe.length>0,m=function(n,e){const s=[`${u[n]}-${e.yike.shang}`,`${e.erke.xia}-${e.erke.shang}`,`${e.sanke.xia}-${e.sanke.shang}`,`${e.sike.xia}-${e.sike.shang}`];return new Set(s).size<4}(e,n),r=function(n,e,s,a){if(!function(n){let e=0;for(let s in n)s===n[s]&&e++;return e>=6}(a))return null;const c=k(s),u=g(n);let t,i,d,h="伏吟课",m="";const r=[...c.xiazei,...c.shangke],l=s.yike.shang,f=s.sanke.shang;r.length>0?(r.sort(((n,e)=>n.index-e.index)),t=r[0].tianpan,h=c.xiazei.length>0?"伏吟重审":"伏吟元首",m="伏吟有克，"+h):u?(t=l,h="伏吟自任",m="伏吟无克，阳日取干上"):(t=f,h="伏吟自信",m="伏吟无克，阴日取支上");return["辰","午","酉","亥"].includes(t)?(i=t===l?f:l,h+="（杜传）",d=["辰","午","酉","亥"].includes(i)?o[i]:j(i)):(i=j(t),d="卯"===t&&"子"===i?"午":j(i)),{chuchuan:t,zhongchuan:i,mochuan:d,method:h,reason:m}}(e,0,n,a);if(r)return r;const l=b(0,s,n,a);if(l)return l;const f=function(n,e,s,a,c){const u=n+e;if(!t.includes(u))return null;if(c.shangke.length>0||c.xiazei.length>0)return null;const i=g(n),d=s.yike.shang,h=s.sike.shang;let o;return o=i?$(d,3,!0):$(h,3,!1),{chuchuan:o,zhongchuan:d,mochuan:d,method:i?"八专课（阳）":"八专课（阴）",reason:"两课无克，"+(i?"阳日顺行三":"阴日逆行三")}}(e,s,n,0,c);if(f)return f;const p=function(n,e){if(1===n.xiazei.length&&0===n.shangke.length){const s=n.xiazei[0].tianpan;return{chuchuan:s,zhongchuan:e[s]||"",mochuan:e[e[s]]||"",method:"始入课",reason:"一贼取贼"}}if(0===n.xiazei.length&&1===n.shangke.length){const s=n.shangke[0].tianpan;return{chuchuan:s,zhongchuan:e[s]||"",mochuan:e[e[s]]||"",method:"元首课",reason:"一克取克"}}if(1===n.xiazei.length&&n.shangke.length>0){const s=n.xiazei[0].tianpan;return{chuchuan:s,zhongchuan:e[s]||"",mochuan:e[e[s]]||"",method:"重审课",reason:"有贼有克取贼"}}return null}(c,a);if(p)return p;const y=function(n,e,s){const a=g(n);let c=[],u="";if(e.xiazei.length>=2)c=e.xiazei,u="贼";else{if(!(e.shangke.length>=2))return null;c=e.shangke,u="克"}const t=c.filter((n=>g(n.tianpan)===a));if(1===t.length){const n=t[0].tianpan;return{chuchuan:n,zhongchuan:s[n]||"",mochuan:s[s[n]]||"",method:"比用课",reason:"阴阳相比唯一"}}const i=(t.length>=2?t:c).map((n=>{return{...n,depth:x(n.tianpan,s,"贼"===u),mengzhongji:(e=n.tianpan,["寅","巳","申","亥"].includes(e)?3:["子","卯","午","酉"].includes(e)?2:["丑","辰","未","戌"].includes(e)?1:0)};var e}));i.sort(((n,e)=>e.depth!==n.depth?e.depth-n.depth:e.mengzhongji!==n.mengzhongji?e.mengzhongji-n.mengzhongji:a?n.index-e.index:e.index-n.index));const d=i[0].tianpan;return{chuchuan:d,zhongchuan:s[d]||"",mochuan:s[s[d]]||"",method:"涉害课",reason:"涉害深浅取最深"}}(e,c,a);if(y)return y;if(!i){const s=function(n,e,s){const{keRigan:a,riganKe:c}=v(n,e),u=g(n);if(a.length>0){let n;if(1===a.length)n=a[0];else{const e=a.filter((n=>g(n.tianpan)===u));n=e.length>0?e[0]:a[0]}const e=n.tianpan;return{chuchuan:e,zhongchuan:s[e]||"",mochuan:s[s[e]]||"",method:"蒿矢",reason:"课克日干"}}if(c.length>0){let n;if(1===c.length)n=c[0];else{const e=c.filter((n=>g(n.tianpan)===u));n=e.length>0?e[0]:c[0]}const e=n.tianpan;return{chuchuan:e,zhongchuan:s[e]||"",mochuan:s[s[e]]||"",method:"弹射",reason:"日干克课"}}return null}(e,n,a);if(s)return s}if(!i&&!h&&!m){const s=function(n,e,s){if(g(n)){const n=s["酉"];return n?{chuchuan:n,zhongchuan:e.sanke.shang,mochuan:e.yike.shang,method:"虎视（昴星）",reason:"阳日：地盘酉上神为初传"}:null}{let n=null;for(let e in s)if("酉"===s[e]){n=e;break}return n?{chuchuan:n,zhongchuan:e.yike.shang,mochuan:e.sanke.shang,method:"冬蛇掩目（昴星）",reason:"阴日：天盘酉下神为初传"}:null}}(e,n,a);if(s)return s}if(!i&&m){const c=function(n,e,s,a){s.yike,s.erke,s.sanke,s.sike;const c=g(n);let t;t=c?a[u[{"甲":"己","乙":"庚","丙":"辛","丁":"壬","戊":"癸","己":"甲","庚":"乙","辛":"丙","壬":"丁","癸":"戊"}[n]]]:(n=>{const e=[["申","子","辰"],["亥","卯","未"],["寅","午","戌"],["巳","酉","丑"]];for(const s of e){const e=s.indexOf(n);if(-1!==e)return s[(e+1)%3]}return n})(e);const i=s.yike.shang;return{chuchuan:t,zhongchuan:i,mochuan:i,method:"别责课",reason:c?"阳日干合上神":"阴日支三合前辰"}}(e,s,n,a);if(c)return c}return{chuchuan:n.yike.shang,zhongchuan:a[n.yike.shang]||"",mochuan:a[a[n.yike.shang]]||"",method:"默认",reason:"无法确定课格"}}const Z={"甲":"木","乙":"木","丙":"火","丁":"火","戊":"土","己":"土","庚":"金","辛":"金","壬":"水","癸":"水","寅":"木","卯":"木","巳":"火","午":"火","辰":"土","戌":"土","丑":"土","未":"土","申":"金","酉":"金","亥":"水","子":"水"},w=["甲","丙","戊","庚","壬","子","寅","辰","午","申","戌"];function E(n){return Z[n]||""}function G(n){return w.includes(n)}function K(n,e){return{"木":"火","火":"土","土":"金","金":"水","水":"木"}[n]===e}function R(n,e){return{"木":"土","火":"金","土":"水","金":"木","水":"火"}[n]===e}function S(n,e){if(!n||!e)return"";const s=E(n),a=E(e);return s===a?"兄弟":K(a,s)?"父母":K(s,a)?"子孙":R(a,s)?"官鬼":R(s,a)?"妻财":""}function D(n,e){if(!n||!e)return"";const s=E(n),a=E(e),c=G(n)===G(e);return s===a?c?"比肩":"劫财":K(a,s)?c?"偏印":"正印":K(s,a)?c?"食神":"伤官":R(s,a)?c?"偏财":"正财":R(a,s)?c?"七杀":"正官":""}const J={"贵人":{"子":{name:"贵人加子曰解纷",desc:"找贵人帮忙解决麻烦，多见于司法诉讼或托人办事"},"丑":{name:"贵人居丑曰升堂",desc:"告状、对峙、打官司"},"寅":{name:"贵人居寅曰凭几",desc:"贵人坐书案前，对应文职、老师等行业"},"卯":{name:"贵人居卯曰登车",desc:"出行、大客户上门、豪车"},"辰":{name:"贵人居辰曰天牢",desc:"贵人自身难保，无法发挥作用"},"巳":{name:"贵人居巳曰受贡",desc:"求人办事、送礼、尊敬有加"},"午":{name:"贵人居午曰受贡",desc:"求人办事、送礼、尊敬有加"},"未":{name:"贵人居未曰列席",desc:"请贵人吃饭，含入座、录取等意"},"申":{name:"贵人居申曰移途",desc:"在路上，动中吉"},"酉":{name:"贵人居酉入私门",desc:"走后门、包养、受贿等"},"戌":{name:"贵人居戌曰地狱",desc:"贵人自身难保，不能发挥作用"},"亥":{name:"贵人加亥登天门",desc:"指政府公务人员或关系强大的达官贵人"}},"螣蛇":{"子":{name:"螣蛇加子曰掩目",desc:"遗漏、疏忽、逃避、头疼"},"丑":{name:"螣蛇居丑曰蟠龟",desc:"转危为安，宜静不宜动"},"寅":{name:"螣蛇居寅曰生角",desc:"事情耗时久、钻牛角尖"},"卯":{name:"螣蛇居卯曰当门",desc:"家里有糟心事、事到临头"},"辰":{name:"螣蛇居辰曰象龙",desc:"自信心爆棚、狂妄、虚假广告等"},"巳":{name:"螣蛇居巳曰乘雾",desc:"烟雾弹、假话、虚实难辨"},"午":{name:"螣蛇居午曰飞空",desc:"想法不切实际"},"未":{name:"螣蛇居未曰入林",desc:"心思深、隐藏"},"申":{name:"螣蛇居申曰衔剑",desc:"隐患大、精神紧张"},"酉":{name:"螣蛇居酉曰露齿",desc:"有毒、想害人、骂人难听等"},"戌":{name:"螣蛇居戌曰入冢",desc:"多余担心、自闭症"},"亥":{name:"螣蛇加亥曰坠水",desc:"测走失大凶，担心、后怕"}},"朱雀":{"子":{name:"朱雀加子曰损羽",desc:"考试成绩差、收不到信息文书"},"丑":{name:"朱雀居丑曰掩目",desc:"争论休止、文书信息不来等"},"寅":{name:"朱雀居寅曰安巢",desc:"真消息、文书状态好、分数高"},"卯":{name:"朱雀居卯曰安巢",desc:"真消息、文书状态好、分数高"},"辰":{name:"朱雀居辰曰投网",desc:"投标、上传、信息录入、没消息"},"巳":{name:"朱雀居巳曰昼翔",desc:"信息即将到来"},"午":{name:"朱雀居午曰衔符",desc:"真消息、文书状态好、分数高、白热化"},"未":{name:"朱雀居未曰临坟",desc:"没消息、不联系、逃避"},"申":{name:"朱雀居申曰厉嘴",desc:"口才好、争论强胜"},"酉":{name:"朱雀居酉曰夜噪",desc:"吵架、辩论、官非"},"戌":{name:"朱雀居戌曰投网",desc:"投标、上传、信息录入、没消息"},"亥":{name:"朱雀加亥曰入水",desc:"文书信息因问题不来、停滞"}},"六合":{"子":{name:"六合加子曰反目",desc:"翻脸、关系恶化，测感情不佳"},"丑":{name:"六合居丑曰妆严",desc:"谄媚、有心机、谨慎"},"寅":{name:"六合居寅曰乘轩",desc:"相亲介绍、测感情吉"},"卯":{name:"六合居卯曰入室",desc:"上门、同居、室内会谈"},"辰":{name:"六合居辰曰违理",desc:"违背常规，合作走后门、感情关系非正常"},"巳":{name:"六合居巳曰不谐",desc:"感情不合、三观不合"},"午":{name:"六合居午曰升堂",desc:"对峙、走法律途径，问感情见父母"},"未":{name:"六合居未曰纳采",desc:"结婚、宴请吃饭"},"申":{name:"六合居申曰结发",desc:"感情稳定、相濡以沫"},"酉":{name:"六合居酉曰私窜",desc:"托关系走后门、男女关系混乱"},"戌":{name:"六合居戌曰亡羞",desc:"恼羞成怒、后悔"},"亥":{name:"六合加亥曰待命",desc:"等待指示、录取"}},"勾陈":{"子":{name:"勾陈加子曰投机",desc:"侥幸、坏心思、想坑人"},"丑":{name:"勾陈居丑曰受越",desc:"利益纷争、不顾劝阻强行而为"},"寅":{name:"勾陈居寅曰遭囚",desc:"被官方制止"},"卯":{name:"勾陈居卯曰临门",desc:"家庭不和、家暴、警察上门"},"辰":{name:"勾陈居辰曰升堂",desc:"上法庭、向领导坦白"},"巳":{name:"勾陈居巳曰铸印",desc:"测文书吉，合同录取等事成"},"午":{name:"勾陈居午曰反目",desc:"翻脸、关系恶化，多遭公检法严查"},"未":{name:"勾陈居未曰入驿",desc:"出门、出差、在路上"},"申":{name:"勾陈居申曰趋户",desc:"上门、约好去某地"},"酉":{name:"勾陈居酉曰披刃",desc:"手术、刀伤、打架、情绪暴戾"},"戌":{name:"勾陈居戌曰落井",desc:"坐牢、被孤立、无晋升希望"},"亥":{name:"勾陈加亥曰寨裳",desc:"心惊肉跳、失眠多梦"}},"青龙":{"子":{name:"青龙加子曰入海",desc:"青龙状态好，有钱、大钱"},"丑":{name:"青龙居丑曰蟠泥",desc:"状态不好，财务问题、被拖欠"},"寅":{name:"青龙居寅曰乘云",desc:"状态好，利经商"},"卯":{name:"青龙居卯曰驱雷",desc:"状态好，有钱"},"辰":{name:"青龙居辰曰飞天",desc:"状态好，有钱、大钱，适合大生意合作"},"巳":{name:"青龙居巳曰掩目",desc:"损财、财物失窃"},"午":{name:"青龙居午曰烧身",desc:"损财、经济压力大"},"未":{name:"青龙居未曰在陆",desc:"财务有问题但有转机"},"申":{name:"青龙居申曰临鳞",desc:"损财、破财较大"},"酉":{name:"青龙居酉曰摧角",desc:"损财、破财更大"},"戌":{name:"青龙居戌曰登魁",desc:"考试学业吉，中标、拔得头筹"},"亥":{name:"青龙加亥曰游江",desc:'青龙状态好，有钱、大钱但不如"入海"'}},"天空":{"子":{name:"天空加子曰伏室",desc:"宅家不出、多因女人起祸"},"丑":{name:"天空居丑曰侍侧",desc:"身边有小人、背后举报等"},"寅":{name:"天空居寅曰乘侮",desc:"上当受骗、见小人"},"卯":{name:"天空居卯曰乘侮",desc:"上当受骗、见小人"},"辰":{name:"天空居辰曰凶恶",desc:"报官无用、狼狈为奸"},"巳":{name:"天空居巳曰受辱",desc:"被辱骂欺凌"},"午":{name:"天空居午曰识字",desc:"暴露、测文书利"},"未":{name:"天空居未曰趋进",desc:"图财、贪财"},"申":{name:"天空居申曰鼓舌",desc:"说话多、哄骗、费口舌"},"酉":{name:"天空居酉曰巧说",desc:"花言巧语、哄骗、销售"},"戌":{name:"天空居戌曰居家",desc:"宅家不出、小人得志"},"亥":{name:"天空加亥曰诬词",desc:"诽谤、有心机"}},"白虎":{"子":{name:"白虎加子曰溺水",desc:"绝望、道路受阻，寻人忌得"},"丑":{name:"白虎居丑曰在野",desc:"出行在外"},"寅":{name:"白虎居寅曰登山",desc:"气势强、来势汹汹"},"卯":{name:"白虎居卯曰临门",desc:"祸乱临头"},"辰":{name:"白虎居辰曰咥人",desc:"气愤、大怒"},"巳":{name:"白虎居巳曰焚身",desc:"焦急"},"午":{name:"白虎居午曰焚身",desc:"焦急"},"未":{name:"白虎居未曰在野",desc:"出行在外"},"申":{name:"白虎居申曰衔牒",desc:"信息传送"},"酉":{name:"白虎居酉曰临门",desc:"祸乱临头"},"戌":{name:"白虎居戌曰落井",desc:"绝望、掉坑"},"亥":{name:"白虎加亥曰溺水",desc:"绝望、道路受阻，寻人忌得"}},"太常":{"子":{name:"太常加子曰遭枷",desc:"受制、背债务、受罚，问官司忌得"},"丑":{name:"太常居丑曰受爵",desc:"升官晋爵、利升迁比赛卦"},"寅":{name:"太常居寅曰侧目",desc:"敢怒不敢言、受关注"},"卯":{name:"太常居卯曰掩冠",desc:"意外之财、财物有失、奸情"},"辰":{name:"太常居辰曰佩印",desc:"获证书、新官上任，利升迁考试等"},"巳":{name:"太常居巳曰铸印",desc:"喜事、测文书吉，合同录取事成"},"午":{name:"太常居午曰乘轩",desc:"测官运吉，升职加薪"},"未":{name:"太常居未曰捧觞",desc:"喝酒、喜庆、谈生意"},"申":{name:"太常居申曰衔杯",desc:"喝酒、谈生意"},"酉":{name:"太常居酉曰券书",desc:"文书合同、学习，刚愎自用"},"戌":{name:"太常居戌曰逆命",desc:"反悔、跑路、不服气"},"亥":{name:"太常加亥曰征召",desc:"找人、叫人、通知"}},"玄武":{"子":{name:"玄武加子曰散发",desc:"失眠、惊惶、担惊受怕"},"丑":{name:"玄武居丑曰升堂",desc:"报警、对簿公堂、以权谋私"},"寅":{name:"玄武居寅曰入林",desc:"无影无踪"},"卯":{name:"玄武居卯曰窥户",desc:"家中失窃、暗昧之事"},"辰":{name:"玄武居辰曰失路",desc:"失踪、迷路"},"巳":{name:"玄武居巳曰反顾",desc:"惶恐、虚惊"},"午":{name:"玄武居午曰截路",desc:"道路不通、测病凶"},"未":{name:"玄武居未曰不成",desc:"失物不失、诸事难成"},"申":{name:"玄武居申曰折足",desc:"半途而废、腿脚不便"},"酉":{name:"玄武居酉曰拔剑",desc:"剑拔弩张、形势严峻"},"戌":{name:"玄武居戌曰遭囚",desc:"身处困境、利捕盗"},"亥":{name:"玄武加亥曰伏藏",desc:"躲起来、逃避"}},"太阴":{"子":{name:"太阴加子曰垂帘",desc:"背后交易、睡觉"},"丑":{name:"太阴居丑曰入内",desc:"钱财入账"},"寅":{name:"太阴居寅曰踯躅",desc:"文书财物动作、男女共寝"},"卯":{name:"太阴居卯曰微行",desc:"谨慎行事、怕被抓把柄"},"辰":{name:"太阴居辰曰造庭",desc:"谄媚、游龙戏凤"},"巳":{name:"太阴居巳曰伏枕",desc:"精神不济、卧病在床"},"午":{name:"太阴居午曰脱巾",desc:"文书财物动作、脱衣服遗失"},"未":{name:"太阴居未曰观书",desc:"文书相关、看书"},"申":{name:"太阴居申曰执政",desc:"执行计划、女人管事"},"酉":{name:"太阴居酉曰闭户",desc:"闭门不出"},"戌":{name:"太阴居戌曰被察",desc:"被发现、露端倪"},"亥":{name:"太阴加亥曰裸形",desc:"情色暧昧、卧床、惊疑"}},"天后":{"子":{name:"天后加子曰守闺",desc:"居家不出"},"丑":{name:"天后居丑曰偷窥",desc:"惊恐、打探消息"},"寅":{name:"天后居寅曰理发",desc:"悠游闲暇"},"卯":{name:"天后居卯曰临门",desc:"女人上门、走后门"},"辰":{name:"天后居辰曰毁妆",desc:"羞愤、悔恨，测寻人凶"},"巳":{name:"天后居巳曰裸体",desc:"坦诚、测寻人凶"},"午":{name:"天后居午曰伏枕",desc:"卧床不起、事情难遂"},"未":{name:"天后居未曰沐浴",desc:"惊惶，课内见青龙有男女情色象，寻人在水里"},"申":{name:"天后居申曰整容",desc:"穿衣打扮、医美、悠闲"},"酉":{name:"天后居酉曰倚户",desc:"家中有女人、涉色情美容业"},"戌":{name:"天后居戌曰褰帷",desc:"卧病、事情受阻"},"亥":{name:"天后加亥曰治事",desc:"持家管理有方、采取行动"}}};function N(n,e){if(!n||!e)return null;const s=J[n];return s&&s[e]?s[e]:null}function P(n,e){const s=N(n,e);if(!s||!s.name)return"";const a=s.name.match(/曰(.+)$/);return a&&a[1]?a[1]:""}function q(n,e,s,a){const c={tianpan:[],dipan:[]};if(n){const e=N(n,a);e&&c.tianpan.push({type:"天将临天盘",tianjiang:n,branch:a,...e});const u=N(n,s);u&&c.tianpan.push({type:"天将临地盘",tianjiang:n,branch:s,...u})}if(e){const n=N(e,a);n&&c.dipan.push({type:"地将临天盘",tianjiang:e,branch:a,...n});const u=N(e,s);u&&c.dipan.push({type:"地将临地盘",tianjiang:e,branch:s,...u})}return c}const A=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],B=["亥","子","丑","寅","卯","辰"],C=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],F=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"],H={"子":{day:"己",night:"乙"},"丑":{day:"庚",night:"甲"},"寅":{day:"辛",night:"辛"},"卯":{day:"壬",night:"癸"},"辰":{day:"戊",night:"己"},"巳":{day:"癸",night:"壬"},"午":{day:"辛",night:"辛"},"未":{day:"甲",night:"庚"},"申":{day:"乙",night:"己"},"酉":{day:"丙",night:"丁"},"戌":{day:"己",night:"戊"},"亥":{day:"丁",night:"丙"}};function I(s,a,c,u,t){const i=n(u),d=function(n,e){const s=H[n];return s?e?s.day:s.night:"甲"}(s,i),h={};for(const n of A)h[n]=e(n,a,c);let o=null;for(const n of A)if(h[n]===d){o=n;break}o||(o=s);const m=function(n){const e={},s=A.indexOf(n),a=B.includes(n)?C:F;for(let c=0;c<12;c++)e[A[(s+c)%12]]=a[c];return e}(o);return{layout:m,isDay:i,dayNight:i?"昼":"夜",startGan:d,guirenPosition:o}}const L={name:"元首课",gua:"乾",desc:"尊制卑，事从外来，多顺，忧喜皆实，宜主动"},M={name:"重审课",gua:"坤",desc:"卑犯尊，事从内起，先难后成，宜后动"},Q={name:"知一课",gua:"比",desc:"事有两歧，狐疑不决，失物在近，宜和解"},T={name:"涉害课",gua:"坎",desc:"凡事艰难，多稽迟，苦尽甘来，婚姻有阻"},U={name:"遥克课",gua:"睽",desc:"势轻，雷声大雨点小，文书虚谋，忧喜难实"},V={name:"昴星课",gua:"履",desc:"关梁闭塞，阳日虎视主惊恐，阴日掩目主暗昧"},W={name:"别责课",gua:"涣",desc:"诸事不备，依赖他人，婚有别娶之象，又名芜淫"},X={name:"八专课",gua:"同人",desc:"刚日速成，阴日迟缓；带后合玄为帷薄不修"},Y={name:"伏吟课",gua:"艮",desc:"伏而不动，多预料外之事，宜静守，委屈难伸"},_={name:"反吟课",gua:"震",desc:"事多反复，成败难凭，父子不和，夫妻异心"},nn={name:"三光课",gua:"离",desc:"万事通达，福祥显著，无往不利"},en={name:"三阳课",gua:"晋",desc:"动达升进，公吉私凶，官职升迁，占孕生男"},sn={name:"三奇课",gua:"豫",desc:"机缘难得，万事亨通，贵人提携，所求顺遂"},an={name:"六仪课",gua:"兑",desc:"仪礼周全，得权贵助，谋事有成，声名远播"},cn={name:"时泰课",gua:"泰",desc:"时来运转，百事亨泰，动静皆宜，福至心灵"},un={name:"官爵课",gua:"益",desc:"官运亨通，名利双收，有升迁封爵之喜"},tn={name:"富贵课",gua:"大有",desc:"富贵双全，根基稳固，财源广进，贵人常伴"},dn={name:"龙德课",gua:"萃",desc:"龙德护佑，化险为夷，有喜庆之事，贵人提携"},hn={name:"轩盖课",gua:"升",desc:"主有升迁，出行有仪，功名显达，贵人接引"},on={name:"铸印课",gua:"鼎",desc:"主拜官受印，文书大吉，事业根基稳固"},mn={name:"斫轮课",gua:"颐",desc:"成事迟缓，先难后成，禄位加增，孕病凶险"},rn={name:"引从课",gua:"临",desc:"内外呼应，上下同心，所求必应，得人助力"},gn={name:"亨通课",gua:"谦",desc:"万事亨通，财源顺畅，谋事速成，无往不利"},ln={name:"繁昌课",gua:"咸",desc:"家族繁昌，事业兴旺，子孙昌盛，喜事连连"},fn={name:"荣华课",gua:"渐",desc:"荣华富贵，声名显赫，仕途顺遂，财源滚滚"},pn={name:"德庆课",gua:"需",desc:"吉祥如意，有喜庆之兆，逢凶化吉，福泽深厚"},kn={name:"合欢课",gua:"恒",desc:"夫妻恩爱，朋友相得，合作共赢，万事和谐"},xn={name:"和美课",gua:"丰",desc:"家庭和美，人际关系融洽，谋事顺遂，心情愉悦"},yn={name:"斩关课",gua:"大壮",desc:"冲破阻碍，化险为夷，出行顺利，所求必得"},zn={name:"闭口课",gua:"遁",desc:"事多隐秘，口舌不兴，疾病难医，守口如瓶"},vn={name:"游子课",gua:"观",desc:"主远行在外，背井离乡，谋事于外，动中求财"},$n={name:"三交课",gua:"姤",desc:"交结贵人，合作成事，男女交往，事多牵连"},jn={name:"乱首课",gua:"师",desc:"尊卑颠倒，内外混乱，事起仓促，先乱后治"},bn={name:"赘婿课",gua:"旅",desc:"主入赘，或依附于人，求财须依靠他人，寄人篱下"},On={name:"冲破课",gua:"夬",desc:"事多破坏，人际关系紧张，谋事难成，谨防意外"},Zn={name:"淫泆课",gua:"既济",desc:"主淫乱，男女关系复杂，事多暧昧，谨防丑闻"},wn={name:"芜淫课",gua:"小畜",desc:"同别责课，主男女淫乱，夫妇反目，事多牵连"},En={name:"孤寡课",gua:"革",desc:"主孤独无依，婚姻难成，疾病缠身，心情抑郁"},Gn={name:"度厄课",gua:"剥",desc:"先有灾厄，后得解救，逢凶化吉，谨防小人"},Kn={name:"无禄绝嗣课",gua:"否",desc:"主无官禄，子孙断绝，凶兆显著，诸事不利"},Rn={name:"迍福课",gua:"屯",desc:"吉凶参驳，先难后易，历经坎坷，终获福报"},Sn={name:"侵害课",gua:"损",desc:"主被人侵害，口舌是非，疾病缠身，财物损失"},Dn={name:"刑伤课",gua:"讼",desc:"主有刑狱之灾，身体受伤，人际关系紧张，诉讼缠身"},Jn={name:"天烦课",gua:"明夷",desc:"主上天烦扰，事多阻碍，心情烦躁，诸事不顺"},Nn={name:"天祸课",gua:"大过",desc:"天降灾祸，意外频发，疾病凶险，财物大损"},Pn={name:"天狱课",gua:"困",desc:"主有牢狱之灾，囚禁束缚，疾病缠身，难以解脱"},qn={name:"天寇课",gua:"讼",desc:"主有寇盗之患，财物被劫，谨防小人，出门小心"},An={name:"天网课",gua:"坎",desc:"主陷入网罗，难以脱身，诉讼缠身，疾病难医"},Bn={name:"魄化课",gua:"归妹",desc:"主魂魄离散，精神恍惚，疾病凶险，多有怪异"},Cn={name:"尸解课",gua:"解",desc:"主先凶后吉，疾病痊愈，摆脱困境，有神灵护佑"},Fn={name:"龙战课",gua:"坤",desc:"主龙蛇相争，内外不和，争斗频繁，谨防内乱"},Hn={name:"死奇课",gua:"未济",desc:"主有死亡之兆，疾病凶险，诸事不利，谨防意外"},In={name:"灾厄课",gua:"蹇",desc:"主灾厄连连，疾病缠身，财物损失，诸事不顺"},Ln={name:"殃咎课",gua:"解",desc:"主有重灾大难，死亡之险，家破人亡，诸事皆凶"},Mn={name:"九丑课",gua:"萃",desc:"主有丑恶之事，丑闻曝光，婚姻破裂，诸事不顺"},Qn={name:"鬼墓课",gua:"蒙",desc:"主官非缠身，疾病难医，陷入困境，难以解脱"},Tn={name:"励德课",gua:"颐",desc:"主历经磨难，终成大德，修身养性，后福无穷"},Un={name:"盘珠课",gua:"大壮",desc:"主事多回环，周而复始，求财有得，谋事有成"},Vn={name:"全局课",gua:"大畜",desc:"主全局在握，合作成事，财源广进，事业兴旺"},Wn={name:"元胎课",gua:"家人",desc:"主有新生之喜，孕育子女，事业初创，根基稳固"},Xn={name:"连珠课",gua:"复",desc:"主事多连续，好运连连，财源不断，事业顺遂"},Yn={name:"间传课",gua:"随",desc:"主事多间隔，进展缓慢，贵人难遇，谋事迟滞"},_n={name:"六纯课",gua:"无妄",desc:"六阳公吉私凶，六阴公凶私吉，极端之象"},ne={name:"物类课",gua:"颐",desc:"主物以类聚，人以群分，谋事寻同类，易得助力"},ee={"甲":"木","乙":"木","丙":"火","丁":"火","戊":"土","己":"土","庚":"金","辛":"金","壬":"水","癸":"水","子":"水","丑":"土","寅":"木","卯":"木","辰":"土","巳":"火","午":"火","未":"土","申":"金","酉":"金","戌":"土","亥":"水"},se=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],ae=["寅","申","巳","亥"],ce=(n,e)=>{const s=ee[n],a=ee[e];return!(!s||!a)&&("木"===s&&"土"===a||"土"===s&&"水"===a||"水"===s&&"火"===a||"火"===s&&"金"===a||"金"===s&&"木"===a)},ue=(n,e)=>{const s=ee[n],a=ee[e];return!(!s||!a)&&("木"===s&&"火"===a||"火"===s&&"土"===a||"土"===s&&"金"===a||"金"===s&&"水"===a||"水"===s&&"木"===a)},te=n=>["甲","丙","戊","庚","壬","子","寅","辰","午","申","戌"].includes(n),ie={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"},de={"子":"丑","丑":"子","寅":"亥","卯":"戌","辰":"酉","巳":"申","午":"未","未":"午","申":"巳","酉":"辰","戌":"卯","亥":"寅"},he={"子":"午","丑":"未","寅":"申","卯":"酉","辰":"戌","巳":"亥","午":"子","未":"丑","申":"寅","酉":"卯","戌":"辰","亥":"巳"},oe=[["申","子","辰"],["亥","卯","未"],["寅","午","戌"],["巳","酉","丑"]],me={"寅":"巳","巳":"申","申":"寅","未":"丑","丑":"戌","戌":"未","子":"卯","卯":"子","辰":"辰","午":"午","酉":"酉","亥":"亥"},re={"子":"未","丑":"午","寅":"巳","卯":"辰","辰":"卯","巳":"寅","午":"丑","未":"子","申":"亥","酉":"戌","戌":"酉","亥":"申"},ge={"甲":"寅","乙":"卯","丙":"巳","丁":"午","戊":"巳","己":"午","庚":"申","辛":"酉","壬":"亥","癸":"子"},le={"甲":"未","乙":"戌","丙":"戌","丁":"丑","戊":"戌","己":"丑","庚":"丑","辛":"辰","壬":"辰","癸":"未"},fe=["戊子","己酉","乙卯","壬午","丙子","丁酉","辛卯","壬子","癸卯"];function pe(n,e){const s=ee[n],a=ee[e];return!(!s||!a)&&s===a}function ke(n,e){const s=ee[n],a=ee[e];if(!s||!a)return!1;return s===a||s==={"木":"火","火":"土","土":"金","金":"水","水":"木"}[a]}function xe(n){return["申","子","辰"].includes(n)?"寅":["寅","午","戌"].includes(n)?"申":["亥","卯","未"].includes(n)?"巳":["巳","酉","丑"].includes(n)?"亥":null}function ye(n){return{"寅":"丁","卯":"申","辰":"壬","巳":"辛","午":"亥","未":"甲","申":"癸","酉":"寅","戌":"丙","亥":"乙","子":"巳","丑":"庚"}[n]||null}const ze=["长生","沐浴","冠带","临官","帝旺","衰","病","死","墓","绝","胎","养"],ve={"甲":"亥","丙":"寅","戊":"寅","庚":"巳","壬":"申","乙":"午","丁":"酉","己":"酉","辛":"子","癸":"卯"};function $e(n,e){const s=ve[n];if(!s)return null;const a=se.indexOf(s),c=se.indexOf(e);if(a<0||c<0)return null;const u=te(n);return ze[u?(c-a+12)%12:(a-c+12)%12]}function je(n){return se.indexOf(n)}function be(n,e,s,a,c,u){if(!e||!e.yike||!s)return[];const t=[],i=n.dayGan,d=n.dayZhi,h=n.monthZhi;n.hourGan;const o=n.hourZhi,m=i+d,r=[s.chuchuan,s.zhongchuan,s.mochuan],g=ie[i],l=[e.yike,e.erke,e.sanke,e.sike],f=l.map((n=>{return e=n.shang,s=n.xia,ce(s,e)?"zei":ce(e,s)?"ke":null;var e,s})),p=f.filter((n=>"zei"===n)).length,k=f.filter((n=>"ke"===n)).length,x=new Set;x.add(`${g}-${e.yike.shang}`),x.add(`${e.erke.xia}-${e.erke.shang}`),x.add(`${e.sanke.xia}-${e.sanke.shang}`),x.add(`${e.sike.xia}-${e.sike.shang}`);const y=x.size<4,z=[];l.forEach((n=>{se.includes(n.shang)&&z.push(n.shang),se.includes(n.xia)&&z.push(n.xia)}));const v=r.map((n=>ee[n])),$=function(n,e,s){return s?n.map((n=>{var a,c;const u=Object.keys(e||{}).find((s=>e[s]===n));return u&&s[u]&&(null==(c=null==(a=s[u])?void 0:a.xundun)?void 0:c.gan)||null})):[]}(r,a,u),j=r.map((n=>(n=>{if(!c)return null;const e=Object.keys(a||{}).find((e=>a[e]===n));return e&&c[e]||null})(n)));if(1===k&&0===p&&t.push(L),p>=1&&0===k&&t.push(M),1===p&&k>0&&t.push(M),(2===k&&0===p||2===p&&0===k)&&t.push(Q),(k>2||p>2)&&t.push(T),s.method&&s.method.includes("涉害")&&t.push(T),0===p&&0===k&&!y){let n=!1;[e.erke,e.sanke,e.sike].forEach((e=>{(ce(i,e.shang)||ce(e.shang,i))&&(n=!0)})),n&&t.push(U)}s.method&&s.method.includes("昴星")&&t.push(V),s.method&&s.method.includes("别责")&&t.push(W);if(["甲寅","庚申","己未","丁未","癸丑"].includes(m)&&t.push(X),a&&"子"===a["子"]&&t.push(Y),a&&"午"===a["子"]&&t.push(_),h&&(r[0],pe(r[0],h)&&pe(i,h)&&pe(o,h)&&t.push(nn)),te(i)&&te(d)&&r.every((n=>te(n)))&&t.push(en),$.every((n=>n))){const n=$,e=["甲","戊","庚"],s=["乙","丙","丁"].every((e=>n.includes(e))),a=e.every((e=>n.includes(e)));(s||a)&&t.push(sn)}{const n=["戊","己","庚","辛","壬","癸"];$.every((e=>e&&n.includes(e)))&&t.push(an)}ue(r[0],r[1])&&ue(r[1],r[2])&&t.push(cn);{const n=xe(d);n&&r.includes(n)&&(r.includes("辰")||r.includes("戌"))&&t.push(un)}if(c&&h){const n=Object.keys(c).find((n=>"贵"===c[n]));if(n){const e=a[n];e&&ke(e,h)&&(ue(i,d)||ue(d,i))&&t.push(tn)}}if(c){"贵"===j[0]&&t.push(dn)}if(r.includes("午")&&r.includes("卯")&&r.includes("子")&&t.push(hn),a&&"戌"===a["巳"]&&r.includes("戌")&&t.push(on),"卯"===r[0]){const n=Object.keys(a||{}).find((n=>"卯"===a[n]));n&&["申","酉"].includes(n)&&t.push(mn)}if(r.includes(g)&&r.includes(d)&&g!==d&&t.push(rn),ue(r[0],r[1])&&ue(r[1],r[2])){const n=r.some(((n,e)=>e<2&&me[n]===r[e+1])),e=r.some(((n,e)=>e<2&&re[n]===r[e+1]));n||e||t.push(gn)}(ue(r[0],r[1])&&ue(r[1],r[2])||ue(r[2],r[1])&&ue(r[1],r[0]))&&t.push(ln);{const n=ge[i],e=xe(d);n&&r.includes(n)&&e&&r.includes(e)&&t.push(fn)}if(h){const n=ye(h);if(n){const e=ie[n]||n;se.includes(e)&&r.includes(e)&&t.push(pn)}}(de[d]===i||se.includes(d)&&r.some((n=>de[n]===d)))&&r.some(((n,e)=>e<2&&de[n]===r[e+1]))&&t.push(kn),(ue(i,d)||ue(d,i))&&ue(r[0],r[1])&&ue(r[1],r[2])&&t.push(xn);{let n=!1;if(de[r[0]]!==r[1]&&de[r[1]]!==r[2]||(n=!0),!n)for(const e of oe)if(e.every((n=>r.includes(n)))){n=!0;break}n&&t.push(yn)}if("酉"===r[0]&&a&&"酉"===a["戌"])t.push(zn);else if(c){const n=Object.keys(c).find((n=>"玄"===c[n]));n&&a&&"酉"===a[n]&&t.push(zn)}{const n=xe(d);(r.every((n=>ae.includes(n)))||n&&r.includes(n))&&t.push(vn)}{const n=de[r[0]]===r[1],e=de[r[1]]===r[2],s=de[r[0]]===r[2];(n&&e||n&&s||e&&s)&&t.push($n)}if((ce(i,d)||ce(d,i))&&r[0]===e.yike.shang&&t.push(jn),g===d&&t.push(bn),he[r[0]]!==r[1]&&he[r[1]]!==r[2]||t.push(On),c){const n=j.includes("玄"),e=j.includes("后");if(n||e){r.filter((n=>"沐浴"===$e(i,n))).length>0&&t.push(Zn)}}y&&s.method&&s.method.includes("别责")&&t.push(wn);{const n=["寅","卯","辰"].includes(b=d)?{guchen:"巳",guaxiu:"丑"}:["巳","午","未"].includes(b)?{guchen:"申",guaxiu:"辰"}:["申","酉","戌"].includes(b)?{guchen:"亥",guaxiu:"未"}:["亥","子","丑"].includes(b)?{guchen:"寅",guaxiu:"戌"}:null;if(n){const e=[...z,...r];(e.includes(n.guchen)||e.includes(n.guaxiu))&&t.push(En)}}var b;if(h&&n.yearZhi){const e=he[n.yearZhi],s=he[h];(r.includes(e)||r.includes(s))&&r.some(((n,e)=>e>0&&ue(n,r[0])))&&t.push(Gn)}{const n=ge[i],e=r.includes(n),s=r.some(((n,e)=>e<2&&me[n]===r[e+1]));!e&&s&&t.push(Kn)}if(c){const n=["贵","合","青","常","空"],e=["蛇","朱","勾","白","玄","阴"],s=j.filter((e=>n.includes(e))).length,a=j.filter((n=>e.includes(n))).length;s>0&&a>0&&t.push(Rn)}{const n=re[d];n&&r.includes(n)&&t.push(Sn)}{const n=r.some(((n,e)=>e<2&&me[n]===r[e+1])),e=r.some((n=>me[d]===n||me[n]===d));n&&e&&t.push(Dn)}if(h){const n=!ke(i,h),e=!ue(r[0],r[1])&&!ue(r[1],r[2]),s=ce(r[0],r[1])||ce(r[1],r[2]);n&&e&&s&&t.push(Jn)}if(h){const n=!ke(i,h),e=r.some(((n,e)=>e<2&&me[n]===r[e+1])),s=r.some(((n,e)=>e<2&&re[n]===r[e+1]));n&&e&&s&&t.push(Nn)}{const n=le[i];n&&r[0]===n&&t.push(Pn)}if(h){const n=he[h];n&&r.includes(n)&&t.push(qn)}if(r.includes("辰")&&r.includes("戌")&&t.push(An),h){r.filter((n=>{const e=$e(i,n);return"死"===e||"墓"===e||"绝"===e})).length>=2&&!ke(i,h)&&t.push(Bn)}if(h){const n=r.filter((n=>{const e=$e(i,n);return"死"===e||"墓"===e||"绝"===e})),e=r.filter((n=>{const e=$e(i,n);return"长生"===e||"帝旺"===e||"临官"===e}));n.length>=1&&e.length>=1&&t.push(Cn)}if(r.includes("辰")&&r.includes("戌")&&t.push(Fn),h){const n=r.some((n=>"死"===$e(i,n))),e=$.some((n=>n&&["乙","丙","丁"].includes(n)));n&&e&&t.push(Hn)}if(h&&c){const n=r.every((n=>!ke(n,h))),e=["贵","合","青","常","空"],s=j.every((n=>!e.includes(n)));n&&s&&t.push(In)}if(h&&c){const n=r.every((n=>!ke(n,h))),e=["贵","合","青","常","空"],s=j.every((n=>!e.includes(n))),a=r.some(((n,e)=>e<2&&me[n]===r[e+1]));n&&s&&a&&t.push(Ln)}fe.includes(m)&&t.push(Mn);{const n=le[i];n&&r[0]===n&&t.push(Qn)}if(h){const n=ye(h);if(n){const e=ie[n]||n,s=se.includes(e)&&r.includes(e),a=r.some(((n,e)=>e<2&&me[n]===r[e+1]));s&&a&&t.push(Tn)}}r[0]===r[2]&&r[0]!==r[1]&&t.push(Un);for(const w of oe)if(w.every((n=>r.includes(n)))){t.push(Vn);break}r.filter((n=>{const e=$e(i,n);return"胎"===e||"养"===e||"长生"===e})).length>=2&&t.push(Wn);{const n=r.map((n=>je(n)));if(n.every((n=>-1!==n))){const e=(n[1]-n[0]+12)%12,s=(n[2]-n[1]+12)%12;(1===e&&1===s||11===e&&11===s)&&t.push(Xn)}}{const n=r.map((n=>je(n)));if(n.every((n=>-1!==n))){const e=(n[1]-n[0]+12)%12,s=(n[2]-n[1]+12)%12;(2===e&&2===s||10===e&&10===s)&&t.push(Yn)}}{const n=[...z,...r];if(n.length>0){const e=n.every((n=>te(n))),s=n.every((n=>!te(n)));(e||s)&&t.push(_n)}}v[0]&&v.every((n=>n===v[0]))&&t.push(ne);const O=new Set,Z=[];return t.forEach((n=>{O.has(n.name)||(O.add(n.name),Z.push(n))})),Z}export{O as a,I as b,a as c,P as d,q as e,S as f,be as g,D as h};
