import{r as e,s as a,n as t,c as s,w as l,i as n,o as i,a as u,b as c,t as d,g as o,f as r,h,F as g,j as f,e as m,k as p,I as _,p as b,d as k,l as S}from"./index-BK8_wAi-.js";import{b as C}from"./sizhu.B-KRuBa6.js";import{_ as w}from"./qrcode.sWA5bQ7n.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";const D={0:1,1:8,2:3,3:6,4:4,5:2,6:5,7:7},G={1:[1,1,1],2:[1,1,0],3:[1,0,1],4:[1,0,0],5:[0,1,1],6:[0,1,0],7:[0,0,1],8:[0,0,0]};const x=M({data:()=>({selectedMethod:0,methodOptions:["å†œå†æ—¶é—´èµ·å¦","å¤©åœ°æ•°èµ·å¦","éšæœºèµ·å¦","æŒ‡å®šä¸Šä¸‹å•å¦"],showMethodPicker:!1,lunarTimeStr:"",method0CalcResult:null,method0Summary:"",selectedDate:"",selectedTime:"",dateRange:[[],[],[]],dateIndex:[0,0,0],timeRange:[[],[]],timeIndex:[0,0],fourDigits:"",randomNumbers:"",benShang:null,benXia:null,bianShang:null,bianXia:null,guaOptions:["ä¹¾","å¤","ç¦»","å","éœ‡","å…‘","å·½","è‰®"],showGuaPicker:!1,currentGuaField:"",showQrModal:!1}),computed:{canSubmit(){return 0===this.selectedMethod?null!==this.method0CalcResult:1===this.selectedMethod?4===this.fourDigits.length&&/^[0-9]{4}$/.test(this.fourDigits):2===this.selectedMethod?4===this.randomNumbers.length:3===this.selectedMethod&&(null!==this.benShang&&null!==this.benXia&&null!==this.bianShang&&null!==this.bianXia)},currentGuaValue(){return"benShang"===this.currentGuaField?this.benShang:"benXia"===this.currentGuaField?this.benXia:"bianShang"===this.currentGuaField?this.bianShang:"bianXia"===this.currentGuaField?this.bianXia:null}},onLoad(){this.initPickers(),this.updateLocalTime()},methods:{initPickers(){const e=[];for(let n=1900;n<=2100;n++)e.push(n+"å¹´");const a=[];for(let n=1;n<=12;n++)a.push(n+"æœˆ");const t=[];for(let n=1;n<=31;n++)t.push(n+"æ—¥");this.dateRange=[e,a,t];const s=[];for(let n=0;n<24;n++)s.push((n<10?"0"+n:n)+"æ—¶");const l=[];for(let n=0;n<60;n++)l.push((n<10?"0"+n:n)+"åˆ†");this.timeRange=[s,l]},updateLocalTime(){const e=new Date,a=e.getFullYear(),t=e.getMonth()+1,s=e.getDate(),l=e.getHours(),n=e.getMinutes();this.selectedDate=`${a}-${String(t).padStart(2,"0")}-${String(s).padStart(2,"0")}`,this.selectedTime=`${String(l).padStart(2,"0")}:${String(n).padStart(2,"0")}`;const i=a-1900,u=t-1,c=s-1;this.dateIndex=[i>=0?i:0,u,c];const d=l,o=n;this.timeIndex=[d,o],this.calculateLunarGua()},onDateColumnChange(e){this.dateIndex[e.detail.column]=e.detail.value},onDateChange(e){this.dateIndex=e.detail.value;const a=this.dateRange[0][this.dateIndex[0]],t=this.dateRange[1][this.dateIndex[1]],s=this.dateRange[2][this.dateIndex[2]],l=parseInt(a),n=parseInt(t),i=parseInt(s),u=new Date(l,n,0).getDate();let c=i;c>u&&(c=u,this.dateIndex[2]=c-1),this.selectedDate=`${l}-${String(n).padStart(2,"0")}-${String(c).padStart(2,"0")}`,this.calculateLunarGua()},onTimeChange(e){this.timeIndex=e.detail.value;const a=this.timeRange[0][this.timeIndex[0]],t=this.timeRange[1][this.timeIndex[1]],s=parseInt(a),l=parseInt(t);this.selectedTime=`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`,this.calculateLunarGua()},calculateLunarGua(){if(!this.selectedDate||!this.selectedTime)return;const e=`${this.selectedDate} ${this.selectedTime}`,a=new Date(e.replace(/-/g,"/")),t=C(a);if(t){this.lunarTimeStr=t.lunarStr;const{yearNum:e,monthNum:a,dayNum:s,hourNum:l}=t,n=e+a+s;let i=n%8;0===i&&(i=8);const u=n+l;let c=u%8;0===c&&(c=8);let d=u%6;0===d&&(d=6);const o=i,r=c;let h=o,g=r;if(d<=3){const e=[...G[r]];e[d-1]=1===e[d-1]?0:1,g=this.getGuaNumFromYao(e)}else{const e=[...G[o]];e[d-4]=1===e[d-4]?0:1,h=this.getGuaNumFromYao(e)}this.method0CalcResult={benShang:o,benXia:r,bianShang:h,bianXia:g},this.method0Summary=`ä¸Š${i} ä¸‹${c} åŠ¨${d} -> æœ¬:${i}${c} å˜:${h}${g}`}},getGuaNumFromYao(e){for(let a=1;a<=8;a++){const t=G[a];if(t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2])return a}return 8},goHome(){e({url:"/pages/index/index"})},selectMethod(e){this.selectedMethod=e,this.showMethodPicker=!1,this.fourDigits="",this.randomNumbers="",this.benShang=null,this.benXia=null,this.bianShang=null,this.bianXia=null},generateRandom(){let e="";for(let a=0;a<4;a++)e+=Math.floor(10*Math.random());this.randomNumbers=e},openGuaPicker(e){this.currentGuaField=e,this.showGuaPicker=!0},selectGua(e){"benShang"===this.currentGuaField?this.benShang=e:"benXia"===this.currentGuaField?this.benXia=e:"bianShang"===this.currentGuaField?this.bianShang=e:"bianXia"===this.currentGuaField&&(this.bianXia=e),this.showGuaPicker=!1},startPaipan(){this.canSubmit?this.showQrModal=!0:a({title:"è¯·å®Œæ•´è¾“å…¥èµ·å¦ä¿¡æ¯",icon:"none"})},closeQrModal(){this.showQrModal=!1,this.doPaipan()},doPaipan(){let e=[];if(0===this.selectedMethod){const a=this.method0CalcResult;e=[a.benShang,a.benXia,a.bianShang,a.bianXia]}else 1===this.selectedMethod?e=this.fourDigits.split("").map((e=>parseInt(e))):2===this.selectedMethod?e=this.randomNumbers.split("").map((e=>parseInt(e))):3===this.selectedMethod&&(e=[D[this.benShang],D[this.benXia],D[this.bianShang],D[this.bianXia]]);const a=`${this.selectedDate} ${this.selectedTime}`,s=new Date(a.replace(/-/g,"/")).getTime();t({url:`/pages/xct/display/display?numbers=${e.join(",")}&timestamp=${s}`})}}},[["render",function(e,a,t,C,M,D){const G=m,x=n,y=p,X=_,I=b,v=k;return i(),s(x,{class:"container"},{default:l((()=>[u(x,{class:"top-bar"},{default:l((()=>[u(x,{class:"back-btn",onClick:D.goHome},{default:l((()=>[u(G,{class:"back-icon"},{default:l((()=>[c("â†")])),_:1}),u(G,{class:"back-text"},{default:l((()=>[c("ä¸»é¡µ")])),_:1})])),_:1},8,["onClick"]),u(x,{class:"placeholder"})])),_:1}),u(x,{class:"header"},{default:l((()=>[u(G,{class:"title"},{default:l((()=>[c("å°æˆå›¾")])),_:1})])),_:1}),u(x,{class:"method-section"},{default:l((()=>[u(G,{class:"section-label"},{default:l((()=>[c("èµ·å¦æ–¹å¼")])),_:1}),u(x,{class:"method-selector",onClick:a[0]||(a[0]=e=>M.showMethodPicker=!0)},{default:l((()=>[u(G,{class:"method-text"},{default:l((()=>[c(d(M.methodOptions[M.selectedMethod]),1)])),_:1}),u(G,{class:"arrow"},{default:l((()=>[c("â–¼")])),_:1})])),_:1})])),_:1}),0===M.selectedMethod?(i(),s(x,{key:0,class:"input-section"},{default:l((()=>[u(G,{class:"section-title"},{default:l((()=>[c("æ—¶é—´èµ·å¦")])),_:1}),u(x,{class:"datetime-pickers"},{default:l((()=>[u(y,{mode:"multiSelector",range:M.dateRange,value:M.dateIndex,onChange:D.onDateChange,onColumnchange:D.onDateColumnChange},{default:l((()=>[u(x,{class:"picker-display"},{default:l((()=>[u(G,null,{default:l((()=>[c(d(M.selectedDate),1)])),_:1}),u(G,{class:"icon"},{default:l((()=>[c("ğŸ“…")])),_:1})])),_:1})])),_:1},8,["range","value","onChange","onColumnchange"]),u(y,{mode:"multiSelector",range:M.timeRange,value:M.timeIndex,onChange:D.onTimeChange},{default:l((()=>[u(x,{class:"picker-display"},{default:l((()=>[u(G,null,{default:l((()=>[c(d(M.selectedTime),1)])),_:1}),u(G,{class:"icon"},{default:l((()=>[c("ğŸ•")])),_:1})])),_:1})])),_:1},8,["range","value","onChange"])])),_:1}),u(x,{class:"time-display"},{default:l((()=>[u(G,{class:"time-text"},{default:l((()=>[c(d(M.lunarTimeStr),1)])),_:1})])),_:1})])),_:1})):o("",!0),1===M.selectedMethod?(i(),s(x,{key:1,class:"input-section"},{default:l((()=>[u(G,{class:"section-title"},{default:l((()=>[c("è¾“å…¥å››ä½æ•°å­—ï¼ˆ0-9ï¼‰")])),_:1}),u(x,{class:"single-input-wrap"},{default:l((()=>[u(X,{type:"number",modelValue:M.fourDigits,"onUpdate:modelValue":a[1]||(a[1]=e=>M.fourDigits=e),placeholder:"ä¾‹å¦‚: 1234",maxlength:"4",class:"four-digit-input"},null,8,["modelValue"])])),_:1}),4===M.fourDigits.length?(i(),s(x,{key:0,class:"preview"},{default:l((()=>[u(G,{class:"preview-text"},{default:l((()=>[c("è¾“å…¥: "+d(M.fourDigits.substring(0,2))+":"+d(M.fourDigits.substring(2,4)),1)])),_:1})])),_:1})):o("",!0)])),_:1})):o("",!0),2===M.selectedMethod?(i(),s(x,{key:2,class:"input-section"},{default:l((()=>[u(G,{class:"section-title"},{default:l((()=>[c("éšæœºç”Ÿæˆå››ä½æ•°å­—")])),_:1}),u(x,{class:"random-display"},{default:l((()=>[u(G,{class:"random-number"},{default:l((()=>[c(d(M.randomNumbers||"----"),1)])),_:1})])),_:1}),u(x,{class:"random-btn-wrap"},{default:l((()=>[u(x,{class:"random-btn",onClick:D.generateRandom},{default:l((()=>[u(G,null,{default:l((()=>[c("ğŸ² ç”Ÿæˆéšæœºæ•°")])),_:1})])),_:1},8,["onClick"])])),_:1}),M.randomNumbers?(i(),s(x,{key:0,class:"preview"},{default:l((()=>[u(G,{class:"preview-text"},{default:l((()=>[c("è¾“å…¥: "+d(M.randomNumbers.substring(0,2))+":"+d(M.randomNumbers.substring(2,4)),1)])),_:1})])),_:1})):o("",!0)])),_:1})):o("",!0),3===M.selectedMethod?(i(),s(x,{key:3,class:"input-section"},{default:l((()=>[u(G,{class:"section-title"},{default:l((()=>[c("èµ·å¦æ—¶é—´")])),_:1}),u(x,{class:"datetime-pickers"},{default:l((()=>[u(y,{mode:"multiSelector",range:M.dateRange,value:M.dateIndex,onChange:D.onDateChange,onColumnchange:D.onDateColumnChange},{default:l((()=>[u(x,{class:"picker-display"},{default:l((()=>[u(G,null,{default:l((()=>[c(d(M.selectedDate),1)])),_:1}),u(G,{class:"icon"},{default:l((()=>[c("ğŸ“…")])),_:1})])),_:1})])),_:1},8,["range","value","onChange","onColumnchange"]),u(y,{mode:"multiSelector",range:M.timeRange,value:M.timeIndex,onChange:D.onTimeChange},{default:l((()=>[u(x,{class:"picker-display"},{default:l((()=>[u(G,null,{default:l((()=>[c(d(M.selectedTime),1)])),_:1}),u(G,{class:"icon"},{default:l((()=>[c("ğŸ•")])),_:1})])),_:1})])),_:1},8,["range","value","onChange"])])),_:1}),u(G,{class:"section-title"},{default:l((()=>[c("é€‰æ‹©æœ¬å¦å’Œå˜å¦")])),_:1}),u(x,{class:"gua-select-group"},{default:l((()=>[u(x,{class:"gua-row"},{default:l((()=>[u(x,{class:"gua-item"},{default:l((()=>[u(G,{class:"gua-label"},{default:l((()=>[c("æœ¬å¦ä¸Šå¦")])),_:1}),u(x,{class:"gua-selector",onClick:a[2]||(a[2]=e=>D.openGuaPicker("benShang"))},{default:l((()=>[u(G,{class:"gua-value"},{default:l((()=>[c(d(M.guaOptions[M.benShang]),1)])),_:1}),u(G,{class:"arrow"},{default:l((()=>[c("â–¼")])),_:1})])),_:1})])),_:1}),u(x,{class:"gua-item"},{default:l((()=>[u(G,{class:"gua-label"},{default:l((()=>[c("æœ¬å¦ä¸‹å¦")])),_:1}),u(x,{class:"gua-selector",onClick:a[3]||(a[3]=e=>D.openGuaPicker("benXia"))},{default:l((()=>[u(G,{class:"gua-value"},{default:l((()=>[c(d(M.guaOptions[M.benXia]),1)])),_:1}),u(G,{class:"arrow"},{default:l((()=>[c("â–¼")])),_:1})])),_:1})])),_:1})])),_:1}),u(x,{class:"gua-row"},{default:l((()=>[u(x,{class:"gua-item"},{default:l((()=>[u(G,{class:"gua-label"},{default:l((()=>[c("å˜å¦ä¸Šå¦")])),_:1}),u(x,{class:"gua-selector",onClick:a[4]||(a[4]=e=>D.openGuaPicker("bianShang"))},{default:l((()=>[u(G,{class:"gua-value"},{default:l((()=>[c(d(M.guaOptions[M.bianShang]),1)])),_:1}),u(G,{class:"arrow"},{default:l((()=>[c("â–¼")])),_:1})])),_:1})])),_:1}),u(x,{class:"gua-item"},{default:l((()=>[u(G,{class:"gua-label"},{default:l((()=>[c("å˜å¦ä¸‹å¦")])),_:1}),u(x,{class:"gua-selector",onClick:a[5]||(a[5]=e=>D.openGuaPicker("bianXia"))},{default:l((()=>[u(G,{class:"gua-value"},{default:l((()=>[c(d(M.guaOptions[M.bianXia]),1)])),_:1}),u(G,{class:"arrow"},{default:l((()=>[c("â–¼")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),null!==M.benShang&&null!==M.benXia&&null!==M.bianShang&&null!==M.bianXia?(i(),s(x,{key:0,class:"preview"},{default:l((()=>[u(G,{class:"preview-text"},{default:l((()=>[c(d(M.guaOptions[M.benShang])+d(M.guaOptions[M.benXia])+" â†’ "+d(M.guaOptions[M.bianShang])+d(M.guaOptions[M.bianXia]),1)])),_:1})])),_:1})):o("",!0)])),_:1})):o("",!0),u(x,{class:"action-section"},{default:l((()=>[u(I,{class:"submit-btn",disabled:!D.canSubmit,onClick:D.startPaipan},{default:l((()=>[c(" æ’ç›˜ ")])),_:1},8,["disabled","onClick"])])),_:1}),u(x,{class:"tips"},{default:l((()=>[u(G,{class:"tips-title"},{default:l((()=>[c("è¯´æ˜ï¼š")])),_:1}),u(G,{class:"tips-content"},{default:l((()=>[c(" â€¢ æ—¶é—´èµ·å¦ï¼šä½¿ç”¨å½“å‰æ—¶é—´(å°æ—¶:åˆ†é’Ÿ)çš„å››ä½æ•°å­— â€¢ å¤©åœ°æ•°èµ·å¦ï¼šç›´æ¥è¾“å…¥4ä½æ•°å­—ï¼ˆ0-9ï¼‰ï¼Œ0ä»£è¡¨10 â€¢ éšæœºèµ·å¦ï¼šç³»ç»Ÿéšæœºç”Ÿæˆ4ä½æ•°å­— â€¢ æŒ‡å®šå•å¦ï¼šç›´æ¥é€‰æ‹©å…«å¦åç§° ")])),_:1})])),_:1}),M.showMethodPicker?(i(),s(x,{key:4,class:"picker-modal",onClick:a[7]||(a[7]=e=>M.showMethodPicker=!1)},{default:l((()=>[u(x,{class:"picker-content",onClick:a[6]||(a[6]=f((()=>{}),["stop"]))},{default:l((()=>[u(x,{class:"picker-header"},{default:l((()=>[u(G,null,{default:l((()=>[c("é€‰æ‹©èµ·å¦æ–¹å¼")])),_:1})])),_:1}),u(x,{class:"picker-options"},{default:l((()=>[(i(!0),r(g,null,h(M.methodOptions,((e,a)=>(i(),s(x,{class:S(["picker-option",{active:M.selectedMethod===a}]),key:a,onClick:e=>D.selectMethod(a)},{default:l((()=>[u(G,null,{default:l((()=>[c(d(e),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})):o("",!0),M.showGuaPicker?(i(),s(x,{key:5,class:"picker-modal",onClick:a[9]||(a[9]=e=>M.showGuaPicker=!1)},{default:l((()=>[u(x,{class:"picker-content",onClick:a[8]||(a[8]=f((()=>{}),["stop"]))},{default:l((()=>[u(x,{class:"picker-header"},{default:l((()=>[u(G,null,{default:l((()=>[c("é€‰æ‹©å¦è±¡")])),_:1})])),_:1}),u(x,{class:"picker-options gua-options"},{default:l((()=>[(i(!0),r(g,null,h(M.guaOptions,((e,a)=>(i(),s(x,{class:S(["picker-option gua-option",{active:D.currentGuaValue===a}]),key:a,onClick:e=>D.selectGua(a)},{default:l((()=>[u(G,null,{default:l((()=>[c(d(e),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})):o("",!0),u(x,{class:"copyright-info"},{default:l((()=>[u(x,{class:"copyright-line"},{default:l((()=>[c("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),u(x,{class:"copyright-line"},{default:l((()=>[c("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),M.showQrModal?(i(),s(x,{key:6,class:"qr-modal"},{default:l((()=>[u(x,{class:"qr-content"},{default:l((()=>[u(x,{class:"qr-header"},{default:l((()=>[u(G,null,{default:l((()=>[c("å…³æ³¨æˆ‘ä»¬")])),_:1})])),_:1}),u(x,{class:"qr-body"},{default:l((()=>[u(v,{src:w,class:"qr-image",mode:"aspectFit"}),u(G,{class:"qr-desc"},{default:l((()=>[c("é•¿æŒ‰è¯†åˆ«æˆ–è€…æˆªå›¾ä¿å­˜")])),_:1}),u(x,{class:"qr-close-btn",onClick:D.closeQrModal},{default:l((()=>[u(G,null,{default:l((()=>[c("å…³é—­å¹¶ç»§ç»­")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):o("",!0)])),_:1})}],["__scopeId","data-v-a9245fec"]]);export{x as default};
